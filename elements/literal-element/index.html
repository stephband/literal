<!DOCTYPE html>
<!-- Literal template "/Users/stephband/Sites/kavea/kavea/static/literal/elements/literal-element/index.html.literal" -->

<html lang="en">
<head>
    <meta charset="utf-8" />
<meta name="author" content="Stephen" />
<meta name="description" content="Documentation for Literal. Literal enhances HTML templates with JS literal template tags, and provides a declarative way of creating custom elements, all in a small library weighing in at 15kB minified and gzipped." />
<meta name="viewport" content="width=device-width" />


<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@stephband">
<meta property="og:title" content="Literal" />
<meta property="og:description" content="Literal enhances HTML templates with JS literal template tags, and provides a declarative way of creating custom elements, all in a small library weighing in at 15kB minified and gzipped." />
<meta property="og:image" content="undefined" />
<meta property="og:url" content="https://stephen.band/literal" />


<title>Literal</title>



<script title="load">
    document.documentElement.className += ' js loading';
    // window.addEventListener('DOMContentLoaded', () => document.documentElement.classList.remove('content-loading'));
    // Wait for other load handlers to run first - Bolt does a few things on
    // load (eg. targetable scrolls) and we want them to run before the loading
    // class is removed
    window.addEventListener('load', () => window.requestAnimationFrame(() => document.documentElement.classList.remove('loading')));
</script>


    <script title="debug">
        window.DEBUG = true;
    </script>

    <link rel="stylesheet" href="../../documentation.css" />
</head>

<body class="docs-grid @0-grid @0-3x-grid @1-6x-grid @2-9x-grid">
    

<header class="@0-x1 @0-3x @1-x3 @1-4x @2-x3 @0-x-stretch">
    <h1 class="docs-text-01" id="template-is-literal-element"><code>&lt;template is="literal-element"&gt;</code></h1>
</header>

<section class="@0-x1 @0-3x @1-x3 @1-4x @2-x3 @0-x-stretch">
    <p>A <code>literal-element</code> is a template that defines a custom element purely in HTML.
The content of a <code>literal-element</code> defines the shadow DOM, and its attributes
define the tag name, attributes and properties of the custom element.</p>
<p>Typically, elements are defined in the <code>&lt;head&gt;</code>:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>literal-element<span class="token punctuation">"</span></span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tag-name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>
<template is="literal-element" tag="tag-name">
    <slot></slot>
</template>

<p>then used in the <code>&lt;body&gt;</code>:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tag-name</span><span class="token punctuation">></span></span>Slotted content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tag-name</span><span class="token punctuation">></span></span></code></pre>
<div class="example">
    <tag-name>Slotted content</tag-name>
</div>

<h3 id="attributes">Attributes</h3>
<p>Attributes on the template define attributes on the custom element by type. The
value of these are exposed inside the template as properties of <code>data</code>:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>literal-element<span class="token punctuation">"</span></span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>say-what<span class="token punctuation">"</span></span> <span class="token attr-name">nifty</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>boolean<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>This element is ${ data.nifty ? 'pretty nifty' : 'a bit pants' }.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>
<template is="literal-element" tag="say-what" nifty="boolean">
    <p>This element is ${ data.nifty ? 'pretty nifty' : 'a bit pants' }.</p>
</template>

<p>Which is authored:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>say-what</span> <span class="token attr-name">nifty</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>say-what</span><span class="token punctuation">></span></span></code></pre>
<div class="example">
    <say-what nifty></say-what>
</div>

<p>Change the property <code>.nifty</code> to rerender the shadow DOM:</p>
<p><button type="button" style="padding: 0; border: 0; display: block; line-height: inherit; min-height: 0;" onclick="document.querySelector('say-what').nifty = false"><code>element.nifty = false</code></button>
<button type="button" style="padding: 0; border: 0; display: block; line-height: inherit; min-height: 0;" onclick="document.querySelector('say-what').nifty = true"><code>element.nifty = true</code></button></p>
<p>Possible types are:</p>
<ul>
<li><code>boolean</code> – a boolean attribute, boolean property</li>
<li><code>number</code>  – a string attribute, number property</li>
<li><code>url</code>     – a URL of a file or module, resolving to an object</li>
<li><code>string</code>  – a string attribute, string property</li>
<li><code>tokens</code>  – a tokens attribute, TokenList property</li>
</ul>
<!--
### Define a custom element

Let's build a simple DOM clock.

```html
<template is="literal-element" tag="dom-clock">
    <time>${
        setTimeout(() => data.time = window.performance.now(), 1000 - window.performance.now() % 1000),
        Math.round(data.time / 1000)
    }</time>
</template>
```

<template is="literal-element" tag="dom-clock">
    <time>${
        setTimeout(() => data.time = performance.now(), 1000 - performance.now() % 1000),
        Math.round(data.time / 1000) + 's'
    }</time>
</template>

The `tag` attribute defines the tag name `<dom-clock>`. The literal expression
starts a timeout that updates `data.time` at the end of the current second and
returns the rounded value of `data.time`. We can see the result with the HTML:

```html
Current time: <dom-clock></dom-clock>
```

<div class="example">
Current time: <dom-clock></dom-clock>
</div>

A `data` object exists in every template's scope. It is used to store state.

Changes to `data` are tracked. When `data.time` is set by the timer at the end
of the current second, the change is detected, the expression is reevaluated, a
new timer is set, and the new value of `data.time` is rendered.

Template scope contains a number of other [constants](./templates/#library),
and a small library of [helper functions](./templates/#library). The library is
extensible – you can [add your own functions](./templates/#library).

<!--
### Define a customised built-in

Let's take the `<dom-clock>` above. Instead of having it wrap a `<time>` in its
shadow DOM, let's make the custom element itself an instance of `<time>`:

```html
<template is="literal-element" tag="time is dom-time">${
    setTimeout(() => data.time = window.performance.now(), 1000 - window.performance.now() % 1000),
    Math.round(data.time / 1000)
}</template>
```

This defines a so-called customised built-in:

```html
Current time: <time is="dom-time"><time>
```

<template is="literal-element" tag="time is dom-time">${
    setTimeout(() => data.time = window.performance.now(), 1000 - window.performance.now() % 1000),
    Math.round(data.time / 1000)
}</template>

Current time: <time is="dom-time"><time>

Unfortunately Safari does not support customised built-ins.
-->


<h3 id="the-loading-attribute">The <code>loading</code> attribute</h3>
<p>Custom elements defined by <code>literal-element</code> have a read-only boolean <code>loading</code>
attribute. This is enabled when the shadow DOM contains assets – stylesheets –
that must be loaded:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>literal-element<span class="token punctuation">"</span></span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>my-element<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>path/to/stylesheet.css<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>
<p>The <code>loading</code> attribute provides a hook to avoid a flash of unstyled content
(which can happen between the time of element upgrade and the time the
stylesheets finish loading) or to provide a loading indicator.</p>

</section>


<div class="@0-x1 @0-3x @1-x3 @1-2x @2-x3 @2-3x @0-x-stretch @0-y-start">
    
    <h3 class="doctext-03">Attributes</h3>
    

<div class="attribute-doc-to ggle-block doc-tog gle-block tog gle-block block" data-tog gleable id="attribute-tag">
<h3 class="attribute-docs-text-05 docs-text-05">
    <a href="#attribute-tag">
        <code class="token language-html">tag <span class="default">="<em>element-name</em>"</span></code>
    </a>
</h3>

<p>Defines the name of the custom element.</p>

</div>



<div class="attribute-doc-to ggle-block doc-tog gle-block tog gle-block block" data-tog gleable id="attribute-scope">
<h3 class="attribute-docs-text-05 docs-text-05">
    <a href="#attribute-scope">
        <code class="token language-html">scope <span class="default">="<em>element-name</em>"</span></code>
    </a>
</h3>

<p>Optional JavaScript module whose exports are made available in the template
scope.</p>

</div>



    
    
    

    
    
    

    
    
    

    
    
    
</div>

<div class="@-x1 @0-3x @1-x5 @1-2x @2-x6 @2-3x @0-x-stretch @0-y-start">
    
    
    

    
    
    
</div>


    <nav>
    <a class="nav-button button block" href="../.."><code>Literal</code></a>

    <h4>Elements</h4>
    <a class="nav-button button block" href="./"><code>&lt;literal-element&gt;</code></a>

    

    <a class="nav-button button block" href="../..#attribute-scope"><code>scope</code></a>

    <a class="nav-button button block" href="../..#attribute-tag"><code>tag</code></a>



    <a class="nav-button button block" href="../literal-insert"><code>&lt;literal-insert&gt;</code></a>

    

    <a class="nav-button button block" href="../..#attribute-data"><code>data</code></a>

    <a class="nav-button button block" href="../..#attribute-loading"><code>loading</code></a>



    <a class="nav-button button block" href="../literal-include"><code>&lt;literal-include&gt;</code></a>

    

    <a class="nav-button button block" href="../..#attribute-data"><code>data</code></a>

    <a class="nav-button button block" href="../..#attribute-loading"><code>loading</code></a>

    <a class="nav-button button block" href="../..#attribute-src"><code>src</code></a>



    <h4>Templates</h4>
    <a class="nav-button button block" href="../../docs/templates">Evaluation table</a>

    <h4>Template constants</h4>
    

    <a class="nav-button button block" href="../../docs/templates#selector-data"><code> data</code></a>

    <a class="nav-button button block" href="../../docs/templates#selector-body"><code> body</code></a>

    <a class="nav-button button block" href="../../docs/templates#selector-element"><code> element</code></a>

    <a class="nav-button button block" href="../../docs/templates#selector-host"><code> host</code></a>

    <a class="nav-button button block" href="../../docs/templates#selector-shadow"><code> shadow</code></a>

    <a class="nav-button button block" href="../../docs/templates#selector-nothing"><code> nothing</code></a>



    <h4>Template functions</h4>
    

    <a class="nav-button button block" href="../../docs/templates#constructor-stream"><code>Stream</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-assign"><code>assign</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-by"><code>by</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-ceil"><code>ceil</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-clamp"><code>clamp</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-define"><code>define</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-delegate"><code>delegate</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-entries"><code>entries</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-equals"><code>equals</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-events"><code>events</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-floor"><code>floor</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-get"><code>get</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-id"><code>id</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-include"><code>include</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-keys"><code>keys</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-last"><code>last</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-matches"><code>matches</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-noop"><code>noop</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-notify"><code>notify</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-overload"><code>overload</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-paramify"><code>paramify</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-print"><code>print</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-round"><code>round</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-slugify"><code>slugify</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-sum"><code>sum</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-trigger"><code>trigger</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-values"><code>values</code></a>



    

    <a class="nav-button button block" href="../../docs/templates#function-px"><code>px</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-em"><code>em</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-rem"><code>rem</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-vw"><code>vw</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-vh"><code>vh</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-vmin"><code>vmin</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-vmax"><code>vmax</code></a>


</nav>


    <script type="module">
        import '../literal-element.js';
        import '../../documentation.js';
    </script>
</body>
