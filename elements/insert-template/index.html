<!DOCTYPE html>
<!-- Literal template "/Users/stephband/Sites/literal/elements/insert-template/index.html.literal" -->

<html lang="en">
<head>
    <meta charset="utf-8" />
<meta name="author" content="Stephen" />
<meta name="description" content="Documentation for Literal. Literal enhances HTML templates with JS literal template tags, and provides a declarative way of creating custom elements, all in a small library weighing in at 15kB minified and gzipped." />
<meta name="viewport" content="width=device-width" />


<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@stephband">
<meta property="og:title" content="Literal" />
<meta property="og:description" content="Literal enhances HTML templates with JS literal template tags, and provides a declarative way of creating custom elements, all in a small library weighing in at 15kB minified and gzipped." />
<meta property="og:image" content="undefined" />
<meta property="og:url" content="https://stephen.band/literal" />


<title>Literal</title>



<script title="load">
    document.documentElement.className += ' js loading';
    // window.addEventListener('DOMContentLoaded', () => document.documentElement.classList.remove('content-loading'));
    // Wait for other load handlers to run first - Bolt does a few things on
    // load (eg. targetable scrolls) and we want them to run before the loading
    // class is removed
    window.addEventListener('load', () => window.requestAnimationFrame(() => document.documentElement.classList.remove('loading')));
</script>


    <script title="debug">
        window.DEBUG = true;
    </script>

    <link rel="stylesheet" href="../../documentation.css" />
</head>

<body class="docs-grid @0-grid @0-3x-grid @1-6x-grid @2-9x-grid">
    <header class="@0-x3" style="grid-column-end: span 4;">
        <h1 class="docs-text-01">Literal <span class="docs-text-06">0.6.2</span></h1>
    </header>

    
<div class="@0-x1 @0-3x @1-x3 @1-4x @2-x3 @0-x-stretch">
    
    <h2 class="doctext-02" id="template-is-insert-template"><code>&lt;template is="insert-template"&gt;</code></h2>
    <p>An <code>insert-template</code> is replaced by its own rendered content. Where JS fails
it is left inert and unrendered.</p>
<p>The constant <code>data</code> inside the template is an object. Where <code>insert-template</code>
has <code>data-</code> attributes <code>data</code> is populated with their parsed values. Values
parse as numbers, strings, booleans, JSON, or as URLs.</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>insert-template<span class="token punctuation">"</span></span> <span class="token attr-name">data-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hello<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">></span></span>${ data.text }<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>
<pre>hello</pre>

<p>A <code>data-</code> attribute that parses as a URL makes a request. The request imports
JS modules or fetches JSON.</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>insert-template<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../data/dom-clock.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">></span></span>${ data.time.toFixed(0) }s<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>
<template is="insert-template" data="../../data/dom-clock.js">
    <pre>${ data.time.toFixed(0) }s</pre>
</template>

<h2 id="enhancing-content">Enhancing content</h2>
<p><code>&lt;template is=&quot;insert-template&quot;&gt;</code> is designed to make enhancing static content
with dynamic content easy. Let’s consider a ‘favourites’ button. The server
gives us a link to the <code>/favourites/</code> page:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/favourites/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fav-icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    Favourites
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre>
<a href="/favourites/" class="fav-icon">
    Favourites
</a>

<p>We want to enhance that button with a badge that displays a count of our
favourites, a count that dynamically updates as we add and remove favourites:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/favourites/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fav-icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    Favourites
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>insert-template<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../data/favourites.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>badge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>${ data.count }<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre>
<a href="/favourites/" class="fav-icon">
    Favourites
    <template is="insert-template" data="../../data/favourites.js">
        <span class="badge">${ data.count }</span>
    </template>
</a>

<p>To see the count badge update we now need some things to favourite:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>insert-template<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../data/favourites.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${ data.ids.includes(<span class="token punctuation">'</span>a<span class="token punctuation">'</span>) ? <span class="token punctuation">'</span>fav<span class="token punctuation">'</span> : <span class="token punctuation">'</span>not-fav<span class="token punctuation">'</span> }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        A
        ${ events('click', element).each((e) => data.toggle('a')) }
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>
<template is="insert-template" data="../../data/favourites.js">
    <button type="button" class="${ data.ids.includes('a') ? 'fav' : 'not-fav' }">
        A
        ${ events('click', element).each((e) => data.toggle('a')) }
    </button>
</template>


    
</div>

<!--form class="@0-x1 @0-3x @1-x1 @1-2x @2-x1 @2-3x x-stretch y-start">
    <template is="insert-template" data-text="hello">
    <pre>${ data.text }</pre>
</template>
    <input hidden class="button" type="submit" />
</form-->

<div class="@0-x1 @0-3x @1-x3 @1-2x @2-x3 @2-3x @0-x-stretch @0-y-start">
    
    <h3 class="doctext-03">Attributes</h3>
    

<div class="attribute-doc-to ggle-block doc-tog gle-block tog gle-block block" data-tog gleable id="attribute-data-1">
<h3 class="attribute-docs-text-05 docs-text-05">
    <a href="#attribute-data-1">
        <code class="token language-html">data</code>
    </a>
</h3>

<p>A path to a JSON file or JS module exporting data to be rendered.</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template-include</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#template<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./data.json<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template-include</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template-include</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#template<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./module.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template-include</span><span class="token punctuation">></span></span></code></pre>
<p>Named exports are supported via the path hash:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template-include</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#template<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./module.js#namedExport<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template-include</span><span class="token punctuation">></span></span></code></pre>
<p>Paths may be rewritten. This helps when JS modules are bundled into a single
module for production.</p>
<pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> urls <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../docs/literal.js'</span><span class="token punctuation">;</span>

<span class="token function">urls</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">'../../docs/path/to/module.js'</span><span class="token operator">:</span> <span class="token string">'../../docs/path/to/production/bundle.js#namedExport'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>The <code>data</code> attribute also accepts raw JSON:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template-include</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#template<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>{<span class="token punctuation">"</span>property<span class="token punctuation">"</span>: <span class="token punctuation">"</span>value<span class="token punctuation">"</span>}<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template-include</span><span class="token punctuation">></span></span></code></pre>

</div>



    
    
    

    
    <h3 class="doctext-03">Properties</h3>
    

<div class="property-doc-to ggle-block doc-tog gle-block tog gle-block block" data-tog gleable id="property|selector-data-1">
<h3 class="property-docs-text-05 docs-text-05">
    <a href="#property|selector-data-1">
        <code class="property language-js">.data</code>
    </a>
</h3>

<p>The <code>data</code> property may be set with a path to a JSON file or JS module, or a
raw JSON string and behaves the same way as the <code>data</code> attribute. In
addition it accepts a JS object or array.</p>
<p>Getting the <code>data</code> property returns the data object currently being
rendered. Note that if a path was set, this object is not available
immediately, as the data must first be fetched.</p>
<p>Technically, the returned data object is a <em>proxy</em> of the object that has
been set. Mutations to the data object are detected by the proxy and the
DOM is rendered accordingly.</p>

</div>



    
    
    

    
    
    
</div>

<div class="@-x1 @0-3x @1-x5 @1-2x @2-x6 @2-3x @0-x-stretch @0-y-start">
    
    
    

    
    
    
</div>


    <nav>
    <a class="nav-button button block" href="../.."><code>Literal</code></a>

    <h4>Declare a custom element</h4>
    <a class="nav-button button block" href="../../docs/element-template"><code>&lt;element-template&gt;</code></a>

    

    <a class="nav-button button block" href="../..#attribute-src"><code>src</code></a>

    <a class="nav-button button block" href="../..#attribute-tag"><code>tag</code></a>



    <h4>Include a template</h4>
    <a class="nav-button button block" href="../../docs/template-include"><code>&lt;template-include&gt;</code></a>

    

    <a class="nav-button button block" href="../..#attribute-data"><code>data</code></a>

    <a class="nav-button button block" href="../..#attribute-loading"><code>loading</code></a>

    <a class="nav-button button block" href="../..#attribute-src"><code>src</code></a>



    <h4>Templates</h4>
    <a class="nav-button button block" href="../../docs/templates">Writing templates</a>

    <h4>Template Tags</h4>
    <a class="nav-button button block" href="../../docs/templates">Evaluation table</a>

    <h4>Template constants</h4>
    

    <a class="nav-button button block" href="../../docs/templates#selector-data"><code> data</code></a>

    <a class="nav-button button block" href="../../docs/templates#selector-body"><code> body</code></a>

    <a class="nav-button button block" href="../../docs/templates#selector-element"><code> element</code></a>

    <a class="nav-button button block" href="../../docs/templates#selector-host"><code> host</code></a>

    <a class="nav-button button block" href="../../docs/templates#selector-shadow"><code> shadow</code></a>

    <a class="nav-button button block" href="../../docs/templates#selector-nothing"><code> nothing</code></a>



    <h4>Template functions</h4>
    

    <a class="nav-button button block" href="../../docs/templates#constructor-stream"><code>Stream</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-assign"><code>assign</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-by"><code>by</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-ceil"><code>ceil</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-clamp"><code>clamp</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-define"><code>define</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-delegate"><code>delegate</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-entries"><code>entries</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-equals"><code>equals</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-events"><code>events</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-floor"><code>floor</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-get"><code>get</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-id"><code>id</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-include"><code>include</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-keys"><code>keys</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-last"><code>last</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-matches"><code>matches</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-noop"><code>noop</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-notify"><code>notify</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-overload"><code>overload</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-paramify"><code>paramify</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-print"><code>print</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-round"><code>round</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-slugify"><code>slugify</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-sum"><code>sum</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-trigger"><code>trigger</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-values"><code>values</code></a>



    

    <a class="nav-button button block" href="../../docs/templates#function-px"><code>px</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-em"><code>em</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-rem"><code>rem</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-vw"><code>vw</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-vh"><code>vh</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-vmin"><code>vmin</code></a>

    <a class="nav-button button block" href="../../docs/templates#function-vmax"><code>vmax</code></a>


</nav>


    <script type="module">
        import '../insert-template.js';
        import '../../documentation.js';
    </script>
</body>
