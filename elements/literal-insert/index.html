<!DOCTYPE html>
<!-- Literal template "/Users/stephband/Sites/literal/elements/literal-insert/index.html.literal" -->

<html lang="en">
<head>
    <title>Literal</title>

<meta charset="utf-8" />
<meta name="author" content="Stephen Band" />
<meta name="description" content="Literal enhances HTML templates with JS literal template tags, and provides a declarative way of creating custom elements, all in a small library weighing in at 15kB minified and gzipped." />
<meta name="viewport" content="width=device-width" />


<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@stephband">
<meta property="og:title" content="Literal" />
<meta property="og:description" content="Literal enhances HTML templates with JS literal template tags, and provides a declarative way of creating custom elements, all in a small library weighing in at 15kB minified and gzipped." />
<meta property="og:image" content="undefined" />
<meta property="og:url" content="https://stephen.band/literal" />




<script title="load">
    document.documentElement.className += ' js loading';
    // window.addEventListener('DOMContentLoaded', () => document.documentElement.classList.remove('content-loading'));
    // Wait for other load handlers to run first - Bolt does a few things on
    // load (eg. targetable scrolls) and we want them to run before the loading
    // class is removed
    window.addEventListener('load', () => window.requestAnimationFrame(() => document.documentElement.classList.remove('loading')));
</script>


<script title="debug">
    window.DEBUG = true;
    window.detailsToggleStylesheet = 'https://stephen.band/literal/documentation/build/details-toggle/shadow.css';
</script>

<link rel="stylesheet" href="../../documentation/module.css">
<!--link rel="stylesheet" href="https://stephen.band/literal/documentation/build/module.css"-->
<link rel="preload" as="style" href="https://stephen.band/literal/documentation/build/details-toggle/shadow.css">


    <script title="debug">
        window.DEBUG = true;
    </script>

    <link rel="stylesheet" href="../../documentation.css" />
</head>

<body class="4x-grid @1-6x-grid @2-7x-grid @3-9x-grid grid">
    

<header class="x1 4x @2-x2 x-stretch">
    <h1 class="text-02 no-wrap" id="template-is-literal-insert">&lt;template is="literal-insert"&gt;</h1>
</header>

<section class="x1 4x @2-x2 x-stretch y-start documentation-block block">
    <p>A <code>literal-insert</code> may be placed anywhere in your HTML, and is designed to make
it easy to mix dynamic content into static content in just those locations where
needed.</p>
<p>A <code>literal-insert</code> is replaced by its own rendered content.</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>literal-insert<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">></span></span>${ 'hello' }<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>
<div class="example">
    <pre>hello</pre>
</div>

<p>The template’s <code>data</code> constant may be set by the <code>data</code> attribute, which may
contain JSON or a URL. A <code>data</code> attribute that parses as a URL imports a
JavaScript module or fetches JSON:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>literal-insert<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/data/clock.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">></span></span>${ data.time.toFixed(0) + 's' }<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>
<div class="example">
    <template is="literal-insert" data="../../data/clock.js">
        <pre>${ data.time.toFixed(0) + 's' }</pre>
    </template>
</div>

<p>The template has access to Literal’s template constants and functions. Use the
<code>include()</code> function to include other templates:</p>
<pre><code class="language-html"><span class="token comment">&lt;!-- In the head --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>todo-li<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>${ data.text }<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token comment">&lt;!-- In the body --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>Todo list<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>literal-insert<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../data/todo.json<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>${ data.tasks.map(include('todo-li')) }<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>
<div class="example">
<template id="todo-li">
    <li>${ data.text }</li>
</template>

<h3>Todo list</h3>
<template is="literal-insert" data="../../data/todo.json">
    <ul>${ data.tasks.map(include('#todo-li')) }</ul>
</template>
</div>

<p>Where JS fails a <code>literal-insert</code> is left inert and unrendered.</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>literal-insert<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../data/clock.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">></span></span>${ invalid JavaScript }<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>
<h2 id="enhancing-content">Enhancing content</h2>
<p>Let’s consider a classic  ‘favourites’ button. The static version is a link to
the <code>/favourites/</code> page represented by an icon:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/favourites/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fav-icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Favourites<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre>
<div class="example">
    <a href="/favourites/" class="fav-icon">
        Favourites
    </a>
</div>

<p>We want to enhance that link with a badge that displays a count of our
favourites, so we use an <code>literal-insert</code> to render a <code>&lt;span&gt;</code> containing the
count inside the link:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/favourites/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fav-icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    Favourites
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>literal-insert<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../data/favourites.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>badge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>${ data.count }<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre>
<div class="example">
    <a href="/favourites/" class="fav-icon">
        Favourites
        <template is="literal-insert" data="../../data/favourites.js">
            <span class="badge">${ data.count }</span>
        </template>
    </a>
</div>

<p>This count comes from the module at <code>../data/favourites.js</code>. That module also
has a <code>toggle()</code> method that we may use to add or remove ids from a list of
favourites, enabling us to write a favourite button:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>literal-insert<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../data/favourites.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        ${ data.ids.includes('a') ? 'Remove from favourites' : 'Add to favourites' }
        ${ events('click', element).each((e) => data.toggle('a')) }
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>
<div class="example">
    <template is="literal-insert" data="../../data/favourites.js">
        <button type="button" class="${ data.ids.includes('a') ? 'fav' : 'not-fav' }">
            ${ data.ids.includes('a') ? 'Remove from favourites' : 'Add to favourites' }
            ${ events('click', element).each((e) => data.toggle('a')) }
        </button>
    </template>
</div>

<p>Note how the badge in the favourites link is updated when this is clicked.</p>
<h2 id="importing-production-modules">Importing production modules</h2>
<p>URLs to modules may be rewritten, which is useful if you are bundling modules
for production. Rather than having to rewrite the HTML with new data URLs,
Literal provides an <code>urls</code> map:</p>
<pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> urls <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../module.js'</span><span class="token punctuation">;</span>

<span class="token function">assign</span><span class="token punctuation">(</span>urls<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// Map the default export of favourites.js to the export</span>
    <span class="token comment">// named 'favourites' of bundle.js...</span>
    <span class="token string">'../../data/favourites.js'</span><span class="token operator">:</span> <span class="token string">'../../build/bundle.js#favourites'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

</section>


<section class="x1 4x @2-x2 x-stretch y-start">
    
    <h2 class="text-03">Attributes</h2>
    

<details-toggle class="attribute-details-toggle" id="attribute-data-1">
    <h4 class="attribute-text text-05" slot="summary">
        <code class="token language-html">data</code>
    </h4>

    <p>A path to a JSON file or JS module exporting data to be rendered.</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>literal-include</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#template<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./data.json<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>literal-include</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>literal-include</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#template<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./module.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>literal-include</span><span class="token punctuation">></span></span></code></pre>
<p>Named exports are supported via the path hash:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>literal-include</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#template<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./module.js#namedExport<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>literal-include</span><span class="token punctuation">></span></span></code></pre>
<p>Paths may be rewritten. This helps when JS modules are bundled into a single
module for production.</p>
<pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> urls <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../documentation/literal.js'</span><span class="token punctuation">;</span>

<span class="token function">urls</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">'../../documentation/path/to/module.js'</span><span class="token operator">:</span> <span class="token string">'../../documentation/path/to/production/bundle.js#namedExport'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>The <code>data</code> attribute also accepts raw JSON:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>literal-include</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#template<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>{<span class="token punctuation">"</span>property<span class="token punctuation">"</span>: <span class="token punctuation">"</span>value<span class="token punctuation">"</span>}<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>literal-include</span><span class="token punctuation">></span></span></code></pre>

</details-toggle>


</section>


    <nav class="nav-block block">
    <a class="nav-button button block" href="../.."><code>Literal</code></a>

    <h4>Elements</h4>
    <a class="nav-button button block" href="../element-template"><code>&lt;element-template&gt;</code></a>

    



    <a class="nav-button button block" href="./"><code>&lt;literal-insert&gt;</code></a>

    

    <a class="nav-button button block" href="../..#attribute-data"><code>data</code></a>

    <a class="nav-button button block" href="../..#attribute-loading"><code>loading</code></a>



    <a class="nav-button button block" href="../literal-include"><code>&lt;literal-include&gt;</code></a>

    

    <a class="nav-button button block" href="../..#attribute-data"><code>data</code></a>

    <a class="nav-button button block" href="../..#attribute-loading"><code>loading</code></a>

    <a class="nav-button button block" href="../..#attribute-src"><code>src</code></a>



    <h4>Templates</h4>
    <a class="nav-button button block" href="../../documentation/templates">Evaluation table</a>

    <h4>Template scope</h4>
    

    <a class="nav-button button block" href="./#selector-this"><code> this</code></a>

    <a class="nav-button button block" href="./#selector-data"><code> data</code></a>

    <a class="nav-button button block" href="./#selector-body"><code> body</code></a>

    <a class="nav-button button block" href="./#selector-element"><code> element</code></a>

    <a class="nav-button button block" href="./#selector-host"><code> host</code></a>

    <a class="nav-button button block" href="./#selector-shadow"><code> shadow</code></a>

    <a class="nav-button button block" href="./#selector-nothing"><code> nothing</code></a>



    

    <a class="nav-button button block" href="./#constructor-stream"><code>Stream</code></a>

    <a class="nav-button button block" href="./#function-assign"><code>assign</code></a>

    <a class="nav-button button block" href="./#function-by"><code>by</code></a>

    <a class="nav-button button block" href="./#function-ceil"><code>ceil</code></a>

    <a class="nav-button button block" href="./#function-clamp"><code>clamp</code></a>

    <a class="nav-button button block" href="./#function-delegate"><code>delegate</code></a>

    <a class="nav-button button block" href="./#function-entries"><code>entries</code></a>

    <a class="nav-button button block" href="./#function-equals"><code>equals</code></a>

    <a class="nav-button button block" href="./#function-events"><code>events</code></a>

    <a class="nav-button button block" href="./#function-events"><code>events</code></a>

    <a class="nav-button button block" href="./#function-floor"><code>floor</code></a>

    <a class="nav-button button block" href="./#function-get"><code>get</code></a>

    <a class="nav-button button block" href="./#function-id"><code>id</code></a>

    <a class="nav-button button block" href="./#function-include"><code>include</code></a>

    <a class="nav-button button block" href="./#function-keys"><code>keys</code></a>

    <a class="nav-button button block" href="./#function-last"><code>last</code></a>

    <a class="nav-button button block" href="./#function-matches"><code>matches</code></a>

    <a class="nav-button button block" href="./#function-noop"><code>noop</code></a>

    <a class="nav-button button block" href="./#function-notify"><code>notify</code></a>

    <a class="nav-button button block" href="./#function-overload"><code>overload</code></a>

    <a class="nav-button button block" href="./#function-paramify"><code>paramify</code></a>

    <a class="nav-button button block" href="./#function-print"><code>print</code></a>

    <a class="nav-button button block" href="./#function-request"><code>request</code></a>

    <a class="nav-button button block" href="./#function-round"><code>round</code></a>

    <a class="nav-button button block" href="./#function-slugify"><code>slugify</code></a>

    <a class="nav-button button block" href="./#function-sum"><code>sum</code></a>

    <a class="nav-button button block" href="./#function-trigger"><code>trigger</code></a>

    <a class="nav-button button block" href="./#function-values"><code>values</code></a>



    

    <a class="nav-button button block" href="./#function-px"><code>px</code></a>

    <a class="nav-button button block" href="./#function-em"><code>em</code></a>

    <a class="nav-button button block" href="./#function-rem"><code>rem</code></a>

    <a class="nav-button button block" href="./#function-vw"><code>vw</code></a>

    <a class="nav-button button block" href="./#function-vh"><code>vh</code></a>

    <a class="nav-button button block" href="./#function-vmin"><code>vmin</code></a>

    <a class="nav-button button block" href="./#function-vmax"><code>vmax</code></a>


</nav>


    <script type="module">
        import '../literal-insert.js';
        import '../../documentation.js';
    </script>
</body>
