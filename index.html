<!DOCTYPE html>
<!-- Literal template "/Users/stephband/Sites/literal/index.html.literal" -->

<html lang="en">
<head>
    <meta charset="utf-8" />
<meta name="author" content="Stephen" />
<meta name="description" content="Documentation for Literal. Literal puts JS into your HTML. Literal defines a custom include element that parses and renders templates written as JS Literals, in a small library under 15kB minified and gzipped." />
<meta name="viewport" content="width=device-width" />


<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@stephband">
<meta property="og:title" content="Literal" />
<meta property="og:description" content="Literal puts JS into your HTML. Literal defines a custom include element that parses and renders templates written as JS Literals, in a small library under 15kB minified and gzipped." />
<meta property="og:image" content="undefined" />
<meta property="og:url" content="https://stephen.band/literal" />


<title>Literal</title>



<script title="load">
    document.documentElement.className += ' js loading';
    // window.addEventListener('DOMContentLoaded', () => document.documentElement.classList.remove('content-loading'));
    // Wait for other load handlers to run first - Bolt does a few things on
    // load (eg. targetable scrolls) and we want them to run before the loading
    // class is removed
    window.addEventListener('load', () => window.requestAnimationFrame(() => document.documentElement.classList.remove('loading')));
</script>


    <script title="debug">
        window.DEBUG = true;
    </script>

    <link rel="stylesheet" href="./documentation.css" />
    <link rel="stylesheet" href="./template-include.css" />
</head>

<body class="docs-grid @0-grid @0-3x-grid @1-6x-grid @2-9x-grid">
    <header class="@0-x3" style="grid-column-end: span 4;">
        
<h1 class="docs-text-01">Literal <span class="docs-text-06">0.6.2</span></h1>
<p class="docs-text-08">Literal puts JS into your HTML. Literal defines a custom include element that parses and renders templates written as JS Literals, in a small library under 15kB minified and gzipped.</p>
<ul class="link-index index">
    <li><strong>repo:</strong> <a href="https://github.com/stephband/literal.git">github.com/stephband/literal.git</a></li>
    <li><strong>bugs:</strong> <a href="https://github.com/stephband/literal/issues/">github.com/stephband/literal/issues/</a></li>
</ul>

    </header>

    
<div class="@0-x1 @0-3x @1-x3 @1-4x @2-x3 @0-x-stretch">
    
    <h2 class="doctext-02" id="template-is-element-template"><code>&lt;template is="element-template"&gt;</code></h2>
    <h3 id="define-a-literal-element">Define a literal element</h3>
<p>This element template defines a <code>&lt;useless-button&gt;</code> element, a button that
disables itself when clicked:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>element-template<span class="token punctuation">"</span></span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>useless-button<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${ data.disabled }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
        ${ events('click', element).each((e) => data.disabled = true) }
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>
<p>Now that is pretty useless, but it does demonstrate how element templates are
rendered. First, the <code>tag</code> attribute defines the name of the custom element.
Second, the content of the template defines the custom element’s shadow DOM.
Third, template tags are rendered in a scope that makes several objects
available. This template refers to:</p>
<ul>
<li><code>data</code> – an initially empty object used to store state</li>
<li><code>events()</code> – a helper function that returns a stream of DOM events</li>
<li><code>element</code> – a reference to the element the template tag is inside</li>
</ul>
<p>When the click handler sets <code>data.disabled = true</code>, the button’s boolean
<code>disabled</code> property is enabled.</p>
<p>This custom element can now be used in HTML:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>useless-button</span><span class="token punctuation">></span></span>Click me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>useless-button</span><span class="token punctuation">></span></span></code></pre>
<p>A list of functions and objects available to templates can be found in the
<a href="#library">scope library</a>. You are not forced to use the library: template tags
may contain any valid JavaScript expression, and the library can be customised
with your own functions.</p>
<h3 id="the-loading-attribute">The <code>loading</code> attribute</h3>
<p>Custom elements defined by <code>element-template</code> have a read-only boolean <code>loading</code>
attribute. This is enabled where the shadow DOM contains assets – stylesheets –
that must be loaded:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>element-template<span class="token punctuation">"</span></span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>my-element<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>path/to/stylesheet.css<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>
<p>The <code>loading</code> attribute provides a hook for styling to avoid a flash of unstyled
content (which can happen between the time of element upgrade and the time the
stylesheets finish loading and parsing), or to show a loading indicator.</p>
<h3 id="custom-attributes">Custom attributes</h3>
<p>Other attributes may be defined by type on <code>element-template</code>. These attributes
become attributes and properties of the custom element, as well as properties
of the <code>data</code> object inside the template. Here we define a boolean attribute
<code>nifty</code>, and use it inside the shadow template:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>element-template<span class="token punctuation">"</span></span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>my-paragraph<span class="token punctuation">"</span></span> <span class="token attr-name">nifty</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>boolean<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>This paragraph is ${ data.nifty ? 'pretty nifty' : 'a bit dull' }<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>
<p>Which is authored as any other boolean attribute:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-paragraph</span> <span class="token attr-name">nifty</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-paragraph</span><span class="token punctuation">></span></span></code></pre>
<p>Possible types are:</p>
<ul>
<li><code>boolean</code> – a boolean attribute and property</li>
<li><code>number</code> – a string attribute, numerical property</li>
<li><code>source</code> – a URL of a file or module, resolving to an object property</li>
<li><code>string</code> – a string attribute and property</li>
<li><code>tokens</code> – a tokens attribute, TokenList property, and an array property of <code>data</code></li>
</ul>

    
</div>

<!--form class="@0-x1 @0-3x @1-x1 @1-2x @2-x1 @2-3x x-stretch y-start">
    <template is="element-template" tag="useless-button">
    <button type="button" disabled="${ data.disabled }">
        <slot></slot>
        ${ events('click', element).each((e) => data.disabled = true) }
    </button>
</template>
    <input hidden class="button" type="submit" />
</form-->

<div class="@0-x1 @0-3x @1-x3 @1-2x @2-x3 @2-3x @0-x-stretch @0-y-start">
    
    <h3 class="doctext-03">Attributes</h3>
    
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-src">
<h3 class="attribute-docs-text-05 docs-text-05">
    <a href="#attribute-src">
        <code class="token language-html">src <span class="default">="<em>url</em>"</span></code>
    </a>
</h3>

<p>Not yet implemented.</p>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-tag">
<h3 class="attribute-docs-text-05 docs-text-05">
    <a href="#attribute-tag">
        <code class="token language-html">tag <span class="default">="<em>element-name</em>"</span></code>
    </a>
</h3>

<p>Defines the name of the custom element.</p>

</div>

 

    
    
    

    
    
    

    
    
    

    
    
    
</div>

<div class="@-x1 @0-3x @1-x5 @1-2x @2-x6 @2-3x @0-x-stretch @0-y-start">
    
    
    

    
    
    
</div>


    <nav>
    <h4>Elements</h4>

    <a class="nav-button button" href="../#template-is-element-template"><code>&lt;element-template&gt;</code></a>
    <a class="nav-button button" href="../#">Declare an element</a>
    <a class="nav-button button" href="../#">Declare an attribute</a>

    

    <a class="nav-button button block" href="../#attribute-src"><code>src</code></a>

    <a class="nav-button button block" href="../#attribute-tag"><code>tag</code></a>



    <br/>

    <a class="nav-button button" href="/"><code>&lt;template-include&gt;</code></a>

    

    <a class="nav-button button block" href="../#attribute-data"><code>data</code></a>

    <a class="nav-button button block" href="../#attribute-loading"><code>loading</code></a>

    <a class="nav-button button block" href="../#attribute-src"><code>src</code></a>



    <hr/>

    <h4>Template tags</h4>
    <a class="nav-button button" href="./templates">Evaluation table</a>

    <h4>Template objects</h4>

    

    <a class="nav-button button block" href="./templates#selector-data"><code> data</code></a>

    <a class="nav-button button block" href="./templates#selector-body"><code> body</code></a>

    <a class="nav-button button block" href="./templates#selector-element"><code> element</code></a>

    <a class="nav-button button block" href="./templates#selector-host"><code> host</code></a>

    <a class="nav-button button block" href="./templates#selector-shadow"><code> shadow</code></a>

    <a class="nav-button button block" href="./templates#selector-nothing"><code> nothing</code></a>



    <h4>Template functions</h4>

    

    <a class="nav-button button block" href="./templates#constructor-stream"><code>Stream</code></a>

    <a class="nav-button button block" href="./templates#function-assign"><code>assign</code></a>

    <a class="nav-button button block" href="./templates#function-by"><code>by</code></a>

    <a class="nav-button button block" href="./templates#function-ceil"><code>ceil</code></a>

    <a class="nav-button button block" href="./templates#function-clamp"><code>clamp</code></a>

    <a class="nav-button button block" href="./templates#function-define"><code>define</code></a>

    <a class="nav-button button block" href="./templates#function-delegate"><code>delegate</code></a>

    <a class="nav-button button block" href="./templates#function-entries"><code>entries</code></a>

    <a class="nav-button button block" href="./templates#function-equals"><code>equals</code></a>

    <a class="nav-button button block" href="./templates#function-events"><code>events</code></a>

    <a class="nav-button button block" href="./templates#function-floor"><code>floor</code></a>

    <a class="nav-button button block" href="./templates#function-get"><code>get</code></a>

    <a class="nav-button button block" href="./templates#function-id"><code>id</code></a>

    <a class="nav-button button block" href="./templates#function-include"><code>include</code></a>

    <a class="nav-button button block" href="./templates#function-keys"><code>keys</code></a>

    <a class="nav-button button block" href="./templates#function-last"><code>last</code></a>

    <a class="nav-button button block" href="./templates#function-matches"><code>matches</code></a>

    <a class="nav-button button block" href="./templates#function-noop"><code>noop</code></a>

    <a class="nav-button button block" href="./templates#function-notify"><code>notify</code></a>

    <a class="nav-button button block" href="./templates#function-overload"><code>overload</code></a>

    <a class="nav-button button block" href="./templates#function-paramify"><code>paramify</code></a>

    <a class="nav-button button block" href="./templates#function-print"><code>print</code></a>

    <a class="nav-button button block" href="./templates#function-round"><code>round</code></a>

    <a class="nav-button button block" href="./templates#function-slugify"><code>slugify</code></a>

    <a class="nav-button button block" href="./templates#function-sum"><code>sum</code></a>

    <a class="nav-button button block" href="./templates#function-trigger"><code>trigger</code></a>

    <a class="nav-button button block" href="./templates#function-values"><code>values</code></a>



    

    <a class="nav-button button block" href="./templates#function-px"><code>px</code></a>

    <a class="nav-button button block" href="./templates#function-em"><code>em</code></a>

    <a class="nav-button button block" href="./templates#function-rem"><code>rem</code></a>

    <a class="nav-button button block" href="./templates#function-vw"><code>vw</code></a>

    <a class="nav-button button block" href="./templates#function-vh"><code>vh</code></a>

    <a class="nav-button button block" href="./templates#function-vmin"><code>vmin</code></a>

    <a class="nav-button button block" href="./templates#function-vmax"><code>vmax</code></a>


</nav>


    <script type="module">
        import './module.js';
        import './documentation.js';
    </script>
</body>
