/* Literal 
   0.9.2
   By Stephen Band */

import{a as r,b as s,c as p}from"../chunk-I4HUIZZT.js";import{b as a,k as o,l,p as c}from"../chunk-WEPF47BV.js";var D=s('<template is="literal-html">',{construct:function(){let t=r(this);t.initialised=!1,t.pushed=!1,t.data=a.of(),t.renderer=c.fromTemplate(this,this.parentElement)},connect:function(t){let e=r(this);e.initialised||(e.initialised=!0,a.observe(e.data,()=>{let{data:i,renderer:n}=e;if(!i.value)return;let u=n.push(i.value);e.pushed||(e.pushed=!0,this.replaceWith(u))}),!e.promise&&!e.pushed&&(e.data.value=p({},this.dataset)))}},{src:{attribute:function(t){this.src=t},get:function(){return r(this).src},set:function(t){let e=r(this);e.src=t,e.promise&&(e.promise.cancelled=!0,e.promise=void 0);let i=e.promise=o(t).then(n=>{i.cancelled||(this.data=n)}).catch(n=>s.replaceWith(l(this,n)))}},data:{attribute:function(t){try{this.data=JSON.parse(t)}catch{throw new Error('Invalid JSON in <template is="literal-template"> data attribute: "'+t+'"')}},get:function(){let t=r(this);return t.renderer?t.renderer.data:null},set:function(t){let e=r(this);e.data.value=t||null}}},null,"stephen.band/literal/");export{D as default};
