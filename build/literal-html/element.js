/*  */

import{a as K,b as W,c as v,d as E,e as B,f as R,g as I,h as S,k as T,l as M,n as q}from"../modules/chunk-47Z6J3QM.js";function C(e,t,n){let r;typeof n!="string"&&n.input!==void 0&&n.index!==void 0&&(r=n,n=r.input.slice(n.index+n[0].length+(n.consumed||0)));let a=e.exec(n);if(!a)return;let l=t(a);return r&&(r.consumed=(r.consumed||0)+a.index+a[0].length+(a.consumed||0)),l}var dt=E(C,!0);function J(e,t,n){throw n.input!==void 0&&n.index!==void 0&&(n=n.input),new Error('Cannot parse string "'+(n.length>128?n.length.slice(0,128)+"…":n)+'"')}function Q(e,t,n){let r=-1;for(;++r<n.length;)t=n[r]!==void 0&&e[r]?e[r](t,n):t;return e.done?e.done(t,n):e.close?e.close(t,n):t}function X(e,t,n,r){let a=C(e,l=>Q(t,n,l),r);return a===void 0?t.catch?t.catch(n,r):J(e,t,r):a}var V=E(X,!0);var $=Symbol("internals");function D(e,t,n){return t[$]=t.attachInternals&&!t.getAttribute("is")?t.attachInternals():{shadowRoot:n}}function c(e){return e[$]}var G=Object.defineProperties;var A={},Y={name:{set:function(e){return this.setAttribute("name",e)},get:function(){return this.getAttribute("name")||""}},form:{get:function(){return c(this).form}},labels:{get:function(){return c(this).labels}},validity:{get:function(){return c(this).validity}},validationMessage:{get:function(){return c(this).validationMessage}},willValidate:{get:function(){return c(this).willValidate}},checkValidity:{value:function(){return c(this).checkValidity()}},reportValidity:{value:function(){return c(this).reportValidity()}}},L=!1,Z=V(/^\s*<?([a-z][\w]*-[\w-]+)>?\s*$|^\s*<?([a-z][\w]*)\s+is[=\s]*["']?([a-z][\w]*-[\w-]+)["']?>?\s*$/,{1:(e,t)=>({name:t[1]}),2:(e,t)=>({name:t[3],tag:t[2]}),catch:function(e,t){throw new SyntaxError(`dom element() – name must be of the form 'element-name' or 'tag is="element-name"' (`+t+")")}},null),H={once:!0};function _(e){return e.sheet?Promise.resolve({target:e}):new Promise((t,n)=>{e.addEventListener("load",t,H),e.addEventListener("error",n,H)})}function tt(e){e.stop()}function et(e){if(A[e])return A[e];let t=document.createElement(e).constructor;if(t===HTMLUnknownElement)throw new Error("Cannot define customised built-in - constructor for <"+e+"> is HTMLUnknownElement");return A[e]=t}function nt(e,t){if(e.hasOwnProperty(t)){let n=e[t];delete e[t],e[t]=n}return e}function z(e,t){let n=e.attachShadow({mode:t.mode||"closed",delegatesFocus:t.focusable||!1});if(t.stylesheet){let r=R("link",{rel:"stylesheet",href:t.stylesheet});n.append(r)}return n}function ot(e,t){return typeof t=="string"?t[0]==="#"?e.appendChild(document.getElementById(t.slice(1)).content.clone(!0)):e.innerHTML=t:e.appendChild(t.content.clone(!0)),e}function rt(e){let t=e.isUpgraded;return e.isUpgraded=!0,!t}function F(e,t){return Array.from(e.querySelectorAll('[is="'+t+'"]')).filter(rt)}var st=v((e,t)=>typeof t,{object:(e,t)=>t,function:(e,t)=>({value:t}),default:(e,t)=>{throw new TypeError("element() does not accept property descriptor of type "+typeof t)}});function O(e,t={},n={},r=""){let{name:a,tag:l}=Z(e),b=typeof l=="string"?et(l):HTMLElement,g=[],w={},h,f;for(h in n)f=st(h,n[h]),f.attribute&&g.push(h),(f.set||f.get||"value"in f)&&(w[h]=f),n[h]=f;function i(){let o=Reflect.construct(b,arguments,i),s=t.mode||typeof t.shadow=="string"?z(o,t):void 0;t.shadow&&ot(s,t.shadow);let d=D(i,o,s);return l&&(L=!0),t.construct&&t.construct.call(o,s,d),Object.keys(w).reduce(nt,o),o}if(i.prototype=Object.create(b.prototype,w),n.value&&(i.formAssociated=!0,G(i.prototype,Y),(t.enable||t.disable)&&(i.prototype.formDisabledCallback=function(o){let s=c(this);return o?t.disable&&t.disable.call(this,s.shadowRoot,s):t.enable&&t.enable.call(this,s.shadowRoot,s)}),t.reset&&(i.prototype.formResetCallback=function(){let o=c(this);return t.reset.call(this,o.shadowRoot,o)}),t.restore&&(i.prototype.formStateRestoreCallback=function(){let o=c(this);return t.restore.call(this,o.shadowRoot,o)})),g.length&&(i.observedAttributes=g,i.prototype.attributeChangedCallback=function(o,s,d){return n[o].attribute.call(this,d)}),t.connect&&(i.prototype.connectedCallback=function(){let o=c(this),s=o.shadowRoot;if(o.stopable=t.connect.call(this,s,o),!s)return;let d=s.querySelectorAll('link[rel="stylesheet"]');if(d.length){let u=R("style","*:not(slot), slot:not([name]) { display: none !important; }");s.prepend(u);let m;o.loadPromise?m=o.loadPromise.then(()=>new Promise(requestAnimationFrame)):m=o.loadPromise=Promise.all(Array.from(d,_)),m.finally(()=>{u.remove(),t.load&&t.load.call(this,s,o)})}else t.load&&t.load.call(this,s,o)}),i.prototype.disconnectedCallback=function(){let o=c(this);o.stopable&&(o.stopable.stop?o.stopable.stop():o.stopable.forEach(tt)),t.disconnect&&t.disconnect.call(this,o.shadowRoot,o)},window.console&&window.console.log("%c<"+(l?l+" is="+a:a)+">%c "+r,"color:#3a8ab0;font-weight:600;","color:#888888;font-weight:400;"),window.customElements.define(a,i,l&&{extends:l}),l&&!L){let o=document.createElement("div");if(o.style.position="fixed",o.style.left="-1000px",o.style.top="-1000px",o.innerHTML="<"+l+' is="'+a+'"></'+l+">",document.body.append(o),o.remove(),L)i.polyfillByRoot=B;else{let s=function(u){let m={};Object.keys(w).forEach(p=>{u[p]!==void 0&&(m[p]=u[p])}),G(u,w);let y=t.mode||t.shadow?z(u,t):void 0,U=D(i,u,y);t.construct&&t.construct.call(u,y,U),Object.assign(u,m);let N=-1,k;for(;k=g[++N];){let p=u.attributes[k];p&&n[k].attribute.call(u,p.value)}t.connect&&t.connect.call(u,y,U)},d=function(u){F(u,a).forEach(s),new MutationObserver(()=>F(u,a).forEach(s)).observe(u,{childList:!0,subtree:!0})};i.polyfillByRoot=d,d(document)}}else i.polyfillByRoot=B;return i}function at(e){try{return JSON.parse(e)}catch{return e}}function P(e,t){let n=Object.keys(t);return Object.values(t).map(at).reduce((a,l,b)=>(a[n[b]]=l,a),e)}function x(e){var t={};return function(r){return r in t?t[r]:t[r]=e(r)}}var it=/\.([\w-]+)(?:#|\?|$)/,ct=[],ut=v(e=>(it.exec(e.pathname)||ct)[1],{js:x(e=>{let t=e.origin+e.pathname+e.search,n=e.hash.slice(1)||"default";return import(t).then(S(n))}),default:x(e=>fetch(e).then(t=>{if(!t.ok)throw new Error(`Literal failed to fetch data – ${t.status}`);return t.json()}))});function j(e){let t=q(e);return ut(t)}var $t=O('<template is="literal-html">',{construct:function(e,t){t.template=T.fromTemplate(this)},connect:function(e,t){let{renderer:n}=t;!t.connected&&!t.promise&&!t.renderer&&(t.connected=!0,this.data=P({},this.dataset))}},{src:{attribute:function(e){this.src=e},get:function(){return c(this).src},set:function(e){let t=c(this);t.src=e,t.promise&&(t.promise.cancelled=!0,t.promise=void 0);let n=j(e).then(r=>{n.cancelled||(this.data=r)}).catch(r=>this.replaceWith(I(t,r)));t.promise=n}},data:{get:function(){let e=c(this);return e.renderer&&e.renderer.data},set:function(e){let t=c(this);t.renderer&&t.renderer.remove(),e&&(t.renderer=new M(t.template,e,{element:this.parentElement}),this.replaceWith(t.renderer.fragment))}}},"stephen.band/literal/");export{W as Data,M as Literal,K as Signal,$t as default};
//# sourceMappingURL=element.js.map
