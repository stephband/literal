/*  */

import{a as D,b as O,c as b,d as g,e as w,f as y,g as v,j as x,k as E,m as B}from"../modules/chunk-DX2PDHUZ.js";function C(t){try{return JSON.parse(t)}catch{return t}}function h(t,e){let s=Object.keys(e);return Object.values(e).map(C).reduce((r,l,n)=>(r[s[n]]=l,r),t)}function d(t){var e={};return function(o){return o in e?e[o]:e[o]=t(o)}}var A=/\.([\w-]+)(?:#|\?|$)/,j=[],k=g(t=>(A.exec(t.pathname)||j)[1],{js:d(t=>{let e=t.origin+t.pathname+t.search,s=t.hash.slice(1)||"default";return import(e).then(v(s))}),default:d(t=>fetch(t).then(e=>{if(!e.ok)throw new Error(`Literal failed to fetch data â€“ ${e.status}`);return e.json()}))});function u(t){let e=B(t);return k(e)}var f=!1,a=class extends b{#r;#e;#s;#t;#o;#i;constructor(e){f=!0,super(e),this.#s=x.fromTemplate(this)}get data(){return this.#t&&this.#t.data}set data(e){let s=this.#s;this.#t&&this.#t.remove(),e&&(this.#t=new E(s,e,{element:this.parentElement}),this.replaceWith(this.#t.fragment))}get src(){return this.#o}set src(e){this.#o=e,this.#e&&(this.#e.cancelled=!0,this.#e=void 0);let s=u(e).then(o=>{s.cancelled||(this.data=o)}).catch(o=>this.replaceWith(y(this.#i,o)));this.#e=s}connectedCallback(){let e=this.#e,s=this.#t;!this.#r&&!e&&!s&&(this.#r=!0,this.data=h({},this.dataset))}attributeChangedCallback(e,s,o){e==="src"&&(this.src=o)}static observedAttributes=["src"]},m=Object.getOwnPropertyDescriptors(a.prototype);delete m.constructor;var c=class extends HTMLTemplateElement{constructor(){super(),new a(this)}static observedAttributes=a.observedAttributes};Object.defineProperties(c.prototype,m);window.customElements.define("literal-html",c,{extends:"template"});if(!f){let t=document.createElement("div");t.style.position="fixed",t.style.left="-1000px",t.style.top="-1000px",t.innerHTML='<template is="literal-html"></template>',document.body.append(t),t.remove()}if(f)a.polyfillByRoot=w;else{let t=function(r){let l=["src","data"],n={};l.forEach((p,L)=>{r[p]!==void 0&&(n[p]=r[p])}),Object.defineProperties(r,m),new a(r),Object.assign(r,n);let i=r.getAttribute("src");i&&r.attributeChangedCallback("src",null,i),r.connectedCallback()},e=function(r){return!r.connectedCallback},s=function(r){Array.from(r.querySelectorAll('[is="literal-html"]')).filter(e).forEach(t)},o=function(r){s(r),new MutationObserver(n=>n.flatMap(i=>i.addedNodes).filter(i=>i.nodeType===1).forEach(i=>i.matches('[is="literal-html"]')?t(i):s(i))).observe(r,{childList:!0,subtree:!0})};console.warn('Browser does not support customised built-in elements, polyfilling <template is="literal-html">'),a.polyfillByRoot=o,o(document)}export{O as Data,E as Literal,D as Signal,c as default};
//# sourceMappingURL=element.js.map
