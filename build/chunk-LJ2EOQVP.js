/* Literal 
   0.8.3
   By Stephen Band */

var ar=Object.defineProperty;var ur=(t,e,r)=>e in t?ar(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var b=(t,e,r)=>(ur(t,typeof e!="symbol"?e+"":e,r),r),Fe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var O=(t,e,r)=>(Fe(t,e,"read from private field"),r?r.call(t):e.get(t)),$=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},A=(t,e,r,o)=>(Fe(t,e,"write to private field"),o?o.call(t,r):e.set(t,r),r);function d(){}var C;function oe(t,e){let r=C;C=t;let o=e.apply(t);return C=r,o}var P,I,V,ut,z=class{constructor(e,r){$(this,P,void 0);$(this,I,void 0);$(this,V,void 0);$(this,ut,void 0);e&&A(this,ut,e),A(this,V,r||d)}static of(e){let r=new this;return r.value=e,r}static from(e){if(e.then){let r=new this;return e.then(o=>r.value=o),r}else if(e.pipe){let r=new this;return e.pipe({push:o=>r.value=o}),r}else return new this(e)}static get evaluating(){return C}get value(){if(C){let e=-1;for(;this[++e]&&this[e]!==C;);this[e]=C}return O(this,P)?O(this,I):this.value=oe(this,O(this,ut))}set value(e){if(O(this,I)===e){A(this,P,!0);return}if(A(this,I,e),O(this,P)){let r=-1;for(;this[++r];)this[r].invalidate(this);O(this,V).call(this)}else A(this,P,!0)}each(e,r){return A(this,V,()=>{let o=this.value;if(o===r){r=NaN;return}e(o)}),O(this,V).call(this),this}observe(e,r){let o=-1;for(;this[++o];);return this[o]=new X(this,e),this.value!==r&&e(),this}invalidate(){if(O(this,P)){A(this,P,!1);let e=-1;for(;this[++e];)this[e].invalidate(this);O(this,V).call(this)}return this}toString(){return this.valueOf()+""}toJSON(){return this.value}};P=new WeakMap,I=new WeakMap,V=new WeakMap,ut=new WeakMap;var Lt=Symbol("stopables");function cr(t){t.stop()}var ct,pt,X=class{constructor(e,r){$(this,ct,void 0);$(this,pt,void 0);A(this,ct,e),A(this,pt,r)}invalidate(){if(this.status==="done")return this;let e=C;C=this;let r=O(this,ct).value;return C=e,O(this,pt).call(this,r),this}stop(){if(this.status==="done")return this;this.status="done";let e=this[Lt];return e&&(this[Lt]=void 0,e.forEach(cr)),this}done(e){return this.status==="done"?(e.stop(),this):((this[Lt]||(this[Lt]=[])).push(e),this)}};ct=new WeakMap,pt=new WeakMap;var pr=Object.assign,fr=Object.defineProperties,lr=Object.isExtensible,hr=Object.prototype,W=Symbol("signals"),He={[W]:{}};function mr(t){return t&&lr(t)&&!Node.prototype.isPrototypeOf(t)&&(window.BaseAudioContext===void 0||!BaseAudioContext.prototype.isPrototypeOf(t))&&!(t instanceof Date)&&!(t instanceof RegExp)&&!(t instanceof Map)&&!(t instanceof WeakMap)&&!(t instanceof Set)&&!(window.WeakSet&&t instanceof WeakSet)&&!ArrayBuffer.isView(t)}function $e(t,e,r){return t[e]||(t[e]=z.of(r))}function dr(t,e,r){let o=Object.getOwnPropertyDescriptor(r,e);return!(o?o.writable||o.set:r[e]===void 0)||!z.evaluating?r[e]:$e(t,e,r[e]).value}function gr(t){return g(t)&&t[W]}function We(t){this.signals={},this.object=t,this.data=new Proxy(t,this),He[W].value=this,fr(t,He)}pr(We.prototype,{get:function(e,r,o){if(typeof r=="symbol"||r==="__proto__")return e[r];let i=dr(this.signals,r,e);return hr.hasOwnProperty.call(e,r)&&g(i)||i},set:function(e,r,o,i){if(typeof r=="symbol"||r==="__proto__")return e[r]=o,!0;let s=g.object(o);if(e[r]===o||e[r]===s)return!0;let a=e.length;return e[r]=s,this.signals[r]&&(this.signals[r].value=e[r]),r!=="length"&&e.length!==a&&this.signals.length&&(this.signals.length.value=e.length),!0},deleteProperty:function(t,e){return delete t[e],typeof e!="symbol"&&e!=="__proto__"&&this.signals[e]&&(this.signals[e].value=t[e]),!0}});function g(t,e){return t?t[W]?t[W].data:e||mr(t)?new We(t).data:void 0:void 0}g.of=g;g.signal=function(t,e){let r=gr(e);return r&&$e(r.signals,t,r.object[t])};g.object=function(t){return t&&t[W]?t[W].object:t};var j={updateEvent:!1};function l(t){return t}function F(t){var e=new Map;return function(o){if(e.has(o))return e.get(o);var i=t(o);return e.set(o,i),i}}var wr=Array.prototype;function yr(t,e){return typeof t=="function"?t.apply(null,e):t}function _e(t,e,r){r=r||t.length;var o=r===1?e?t:F(t):F(function(i){return _e(function(){var s=[i];return s.push.apply(s,arguments),t.apply(null,s)},e,r-1)});return function i(s){return arguments.length===0?i:arguments.length===1?o(s):arguments.length>=r?t.apply(null,arguments):yr(o(s),wr.slice.call(arguments,1))}}var m=_e;function xr(t,e,r){let o=t(e),i=t(r);return i===o?0:o>i?1:-1}var Ie=m(xr,!0);function ie(t,e,r){return r>e?e:r<t?t:r}var Li=m(ie);var ze=t=>t*180/Math.PI;var kt=t=>t*Math.PI/180;function Xe(t,e){if(t===e)return!0;if(t===null||e===null||typeof t!="object"||typeof e!="object")return!1;let r=Object.keys(t),o=Object.keys(e),i=r.length;for(;i--;){if(t[r[i]]===void 0){if(e[r[i]]!==void 0)return!1}else if(!e.hasOwnProperty(r[i])||!Xe(t[r[i]],e[r[i]]))return!1;let s=o.indexOf(r[i]);s>-1&&o.splice(s,1)}for(i=o.length;i--;)if(e[o[i]]===void 0){if(t[o[i]]!==void 0)return!1}else return!1;return!0}var je=m(Xe,!0);function J(t){return!!t||t!=null&&!Number.isNaN(t)}function vr(t,e){let r;for(r in t)if(t[r]!==e[r])return!1;return!0}var Je=m(vr,!0);function se(t){return function(){return arguments[t]}}function S(){return this}var Ke=Object.create,br=Object.freeze,L=br(Ke(Ke(Object.prototype,{at:{value:d},shift:{value:d},push:{value:d},forEach:{value:d},join:{value:function(){return""}},every:{value:function(){return!0}},filter:{value:S},find:{value:d},findIndex:{value:function(){return-1}},flat:{value:S},flatMap:{value:S},includes:{value:function(){return!1}},indexOf:{value:function(){return-1}},map:{value:S},reduce:{value:se(1)},sort:{value:S},each:{value:S},pipe:{value:l},start:{value:S},stop:{value:S},done:{value:S},valueOf:{value:function(){return null}}}),{length:{value:0}}));var Qe=/\.?([\w-]+)/g;function Er(t,e,r){var o=t.exec(e);if(!o)throw new Error('getPath(path, object): invalid path "'+e+'" at "'+e.slice(t.lastIndex)+'"');return Ye(t,e,r[o[1]])}function Ye(t,e,r){return t.lastIndex===e.length?r:r?Er(t,e,r):void 0}function Sr(t,e){return Qe.lastIndex=0,Ye(Qe,""+t,e)}var Ze=m(Sr,!0);function Or(t,e,r){let o=t.replace(/([^.]+)\./g,(i,s)=>(e=e[s],""));return e[o]=r}var ae=m(Or,!0);function ue(t,e){t.remove&&t.remove(e);let r;for(;(r=t.indexOf(e))!==-1;)t.splice(r,1);return t}var tn=m(ue,!0);function ce(t){if(t=typeof t=="number"?t+"":t.trim(),typeof t=="string")return t.toLowerCase().replace(/^[\W_]+/,"").replace(/[\W_]+$/,"").replace(/[\W_]+/g,"-")}function K(t,e){return e+t}function pe(t){if(typeof t.length=="number")return t[t.length-1]}function fe(t,e,r){return(r-t)/(e-t)}function le(t,e,r){return r*(e-t)+t}function p(t,e){return function(){let o=t.apply(this,arguments),i=e[o]||e.default;if(!i)throw new Error('overload() no function defined for key "'+o+'"');return i.apply(this,arguments)}}function he(t){let e=typeof t=="object"&&typeof t.length!="number"?Object.entries(t).flatMap(r=>r[1]===void 0?L:r[1]&&typeof r[1]=="object"&&r[1].map?r[1].map(o=>[r[0],o]):[r]):t;return new URLSearchParams(e)}var Nr={assign:Object.assign,by:Ie,ceil:Math.ceil,clamp:ie,Data:g,deg:ze,denormalise:le,entries:Object.entries,equals:je,floor:Math.floor,get:Ze,id:l,isDefined:J,keys:Object.keys,last:pe,matches:Je,noop:d,normalise:fe,nothing:L,overload:p,round:(t,e=1)=>Math.round(t/e)*e,paramify:he,rad:kt,remove:tn,set:ae,slugify:ce,sum:K,translate:function(e){return window.translations&&window.translations[e]||e},values:Object.values},en=Nr;var Tr=Object.entries,Pt={};function Dr(t,[e,r]){let o=new URL(e,window.location);return Pt[o]=new URL(r,window.location),Pt}function As(t){Tr(t).reduce(Dr,Pt)}function nn(t){let e=new URL(t,window.location);return Pt[e]||e}function Br(t,e){return e[t]}var R=m(Br,!0);function Rt(t){var e={};return function(o){return o in e?e[o]:e[o]=t(o)}}function Ut(t){return function(r,...o){var i=t[r]||t.default;return i&&i.apply(this,o)}}var Ar=p(l,{is:d,tag:d,data:function(t,e,r){for(t in r)r[t]===void 0&&delete r[t];Object.assign(e.dataset,r)},dataset:function(t,e,r){Object.assign(e.dataset,r)},html:function(t,e,r){e.innerHTML=r},text:function(t,e,r){e.textContent=r},children:function(t,e,r){e.innerHTML="",e.append.apply(e,r)},points:T,cx:T,cy:T,r:T,x:T,y:T,dx:T,dy:T,transform:T,preserveAspectRatio:T,viewBox:T,default:function(t,e,r){t in e?e[t]=r:e.setAttribute(t,r)}});function T(t,e,r){e.setAttribute(t,r)}function Cr(t,e){for(var r=Object.keys(e),o=r.length;o--;)Ar(r[o],t,e[r[o]]);return t}var Gt=m(Cr,!0);var me="http://www.w3.org/2000/svg",rn=document.createElement("template"),de=(t,e)=>e&&typeof e;function on(t,e=""){let r=document.createRange();return r.selectNode(t),r.createContextualFragment(e)}var E=p(de,{string:function(t,e){let r=document.createElementNS(me,t);return r.innerHTML=e,r},object:function(t,e){let r=document.createElementNS(me,t);return typeof e.length=="number"?r.append.apply(r,e):Gt(r,e),r},default:t=>document.createElementNS(me,t)}),Lr=p(de,{string:function(t,e){let r=document.createElement(t);return r.innerHTML=e,r},object:function(t,e){let r=document.createElement(t);return typeof e.length=="number"?r.append.apply(r,e):Gt(r,e),r},default:t=>document.createElement(t)}),kr=p(l,{comment:function(t,e){return document.createComment(e||"")},fragment:p(de,{string:function(t,e,r){return r?on(r,e):(rn.innerHTML=e,rn.content.cloneNode(!0))},object:function(t,e,r){let o=r?on(r):document.createDocumentFragment();return typeof e.length=="number"?o.append.apply(o,e):Gt(o,e),o},default:()=>document.createDocumentFragment()}),text:function(t,e){return document.createTextNode(e||"")},circle:E,ellipse:E,g:E,glyph:E,image:E,line:E,rect:E,use:E,path:E,pattern:E,polygon:E,polyline:E,svg:E,tspan:E,default:Lr}),U=kr;var Pr={xml:"application/xml",html:"text/html",svg:"image/svg+xml"};function sn(t,e){if(e){var r=Pr[t.toLowerCase()]||t,o;try{o=new window.DOMParser().parseFromString(e,r)}catch{return}if(!o||o.getElementsByTagName("parsererror").length)throw new Error("Invalid "+t.toUpperCase()+": "+e);return o}}function an(t){return sn("html",t)}function un(t){return sn("svg",t)}var G=Object.assign,Q={headers:function(t){return{}},body:l},Rr=Ut({"application/x-www-form-urlencoded":function(t){return G(t,{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"})},"application/json":function(t){return G(t,{"Content-Type":"application/json; charset=utf-8","X-Requested-With":"XMLHttpRequest"})},"multipart/form-data":function(t){return G(t,{"Content-Type":"multipart/form-data","X-Requested-With":"XMLHttpRequest"})},"audio/wav":function(t){return G(t,{"Content-Type":"audio/wav","X-Requested-With":"XMLHttpRequest"})},"image/png":function(t){return G(t,{"Content-Type":"image/png","X-Requested-With":"XMLHttpRequest"})},"image/jpg":function(t){return G(t,{"Content-Type":"image/jpg","X-Requested-With":"XMLHttpRequest"})},"image/jpeg":function(t){return G(t,{"Content-Type":"image/jpeg","X-Requested-With":"XMLHttpRequest"})},default:function(t){return G(t,{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"})}}),Ur=Ut({"application/json":function(t){return t.get?Gr(t):JSON.stringify(t)},"application/x-www-form-urlencoded":function(t){return t.get?pn(t):fn(t)},"multipart/form-data":function(t){return t.get?t:Mr(t)},default:l});function Gr(t){return JSON.stringify(Array.from(t.entries()).reduce(function(e,r){return e[r[0]]=r[1],e},{}))}function pn(t){return new URLSearchParams(t).toString()}function fn(t){return Object.keys(t).reduce((e,r)=>(e.append(r,t[r]),e),new URLSearchParams)}function Mr(t){throw new Error("TODO: dataToFormData(data)")}function qr(t,e){return e instanceof FormData?t+"?"+pn(e):t+"?"+fn(e)}function Vr(t,e,r,o){let i=typeof r=="string"?r:r&&r["Content-Type"]||"application/json",s=Rr(i,G(Q.headers&&e?Q.headers(e):{},typeof r=="string"?{}:r)),a={method:t,mode:"cors",headers:s,credentials:"same-origin",signal:o&&o.signal};return t!=="GET"&&(a.body=Ur(i,Q.body?Q.body(e):e)),a}function Mt(t){return t.blob()}function Fr(t){return t.json().catch(e=>{throw new Error("Cannot parse JSON "+t.url+". "+e.message)})}function cn(t){return t.formData()}function Hr(t){return t.text()}function $r(t){return t.text().then(e=>/^\s*<!DOCTYPE html>/.test(e)?an(e):U("fragment",e))}function Wr(t){return t.text().then(e=>/^\s*<\?xml/.test(e)?un(e):(console.warn("Untested SVG fragment parsing in request.js!"),U("fragment",e)))}var _r={"text/plain":Hr,"text/html":$r,"image/svg+xml":Wr,"application/json":Fr,"multipart/form-data":cn,"application/x-www-form-urlencoded":cn,audio:Mt,"audio/wav":Mt,"audio/m4a":Mt,"application/zip":Mt};function Ir(t){if(Q.onresponse&&(t=Q.onresponse(t)),!t.ok)throw new Error(t.statusText+"");let e=t.headers.get("Content-Type");if(!e)return;let r=e.replace(/\;.*$/,"");return _r[r](t)}function qt(t="GET",e,r={},o="application/json"){t=t.toUpperCase(),t==="GET"&&r&&(e=qr(e,r));let i=Vr(t,r,o,arguments[4]);return fetch(e,i).then(Ir)}function Vt(t){return qt("GET",t)}var zr=/\.([\w-]+)(?:#|\?|$)/,Xr=[],jr=p(t=>(zr.exec(t.pathname)||Xr)[1],{js:Rt(t=>{let e=t.origin+t.pathname+t.search,r=t.hash.slice(1)||"default";return import(e).then(R(r))}),default:Rt(Vt)});function ge(t){let e=nn(t);return jr(e)}var Jr=Object.assign,Kr=Object.defineProperties,Qr=Object.isExtensible,Yr=Object.prototype,Y=Symbol("observe");function Zr(t,e){let r=t.indexOf(e);return r>-1&&t.splice(r,1),t}var ln={[Y]:{}};function Ft(t,e){if(!t||!t.length)return 0;t=t.slice(0);for(var r=-1;t[++r];)t[r].status!=="stopped"&&t[r].push(e);return r}function hn(t){this.observables={},this.gets=[],this.sets=void 0,this.target=t,this.observer=new Proxy(t,this),ln[Y].value=this,Kr(t,ln)}Jr(hn.prototype,{notify:function(t){Ft(this.observables[t],this.target[t]),Ft(this.sets,this.target)},listen:function(t,e){(t===null?this.sets||(this.sets=[]):this.observables[t]||(this.observables[t]=[])).push(e)},unlisten:function(t,e){let r=t===null?this.sets:this.observables[t];r&&Zr(r,e)},get:function(e,r,o){let i=e[r];if(typeof r=="symbol"||r==="__proto__")return i;let s=Object.getOwnPropertyDescriptor(e,r);if((s?s.writable||s.set:i===void 0)&&Ft(this.gets,r),!Yr.hasOwnProperty.call(e,r))return i;let u=mn(i);if(!u)return i;for(var f=-1;this.gets[++f];)this.gets[f].listen(r);return u},set:function(e,r,o,i){if(typeof r=="symbol"||r==="__proto__")return e[r]=o,!0;let s=ft(o);if(e[r]===o||e[r]===s)return!0;let a=e.length;for(var u=-1;this.gets[++u];)this.gets[u].unlisten(r);return e[r]=s,r!=="length"&&e.length!==a&&Ft(this.observables.length,e.length),this.notify(r),!0},deleteProperty:function(t,e){return typeof e=="symbol"||e==="__proto__"?(delete t[e],!0):(t.hasOwnProperty(e)&&(delete t[e],this.notify(e)),!0)}});function to(t){return t&&Qr(t)&&!Node.prototype.isPrototypeOf(t)&&(typeof BaseAudioContext>"u"||!BaseAudioContext.prototype.isPrototypeOf(t))&&!(t instanceof Date)&&!(t instanceof RegExp)&&!(t instanceof Map)&&!(t instanceof WeakMap)&&!(t instanceof Set)&&!(window.WeakSet&&t instanceof WeakSet)&&!ArrayBuffer.isView(t)}function mn(t,e){return t?t[Y]?t[Y].observer:e||to(t)?new hn(t).observer:void 0:void 0}function ft(t){return t&&t[Y]&&t[Y].target||t}function eo(t){if(typeof t=="object"&&t.template)return"<strong>"+t.id+"</strong> "+t.template+" <small>&gt; "+t.path+'</small> <!--strong class="literal-count">'+t.count+"</strong-->";if(typeof t=="object"&&t.message)return'<code class="red-bg white-fg"><strong>'+t.constructor.name+"</strong> "+t.message+"</code>";if(typeof t=="object")return"<code><strong>"+t.constructor.name+"</strong> "+JSON.stringify(t)+"</code>"}function we(t){let e=document.createElement("pre"),r="";if(t instanceof Error)console.error(t),e.setAttribute("class","literal-print-error literal-print"),r+="<strong>"+t.constructor.name+"</strong>",r+="<code>"+t.message+"</code>";else{let o=-1;for(e.setAttribute("class","literal-print");arguments[++o]!==void 0;)r+=eo(ft(arguments[o]))}return e.innerHTML=r,e}function no(t){let e=t[0];return/^\w/.test(e)}function ye(t={},e,r,o){let i=Object.entries(t).filter(no),s=i.map(R(0)),a=i.map(R(1));return o?new Function(...s,"return ("+e+") => {"+(r||"")+"}").apply(o,a):new Function(...s,"return function("+e+"){"+(r||"")+"}").apply(null,a)}var Ht=">";var dn="";var xe={};function lt(t,e,r,o="",i={}){let s=`
`+dn+(i.nostrict?"with(data) ":'"use strict";')+"return this.compose`"+t+"`;\n";if(xe[s])return xe[s];if(!1)try{}catch(a){}return xe[key]=ye(e,r,s)}function ve(t){var e=t.id;if(!e){do e="ID"+Math.ceil(Math.random()*1e5);while(document.getElementById(e));t.id=e}return e}function ht(t){return t.nodeType===3}function be(t){if(typeof t!="object"||arguments.length>1)throw new Error("delegate() now takes an object of selector:fn pairs.");return function(r){let o=r.target,i;for(i in t){let s=o.closest(i);if(s)return t[i](s,...arguments)}}}function Ee(t){return t&&t[Symbol.iterator]}var Z=t=>typeof t;var D=Object.assign,M=Object.create,$t=Symbol("done"),gn=p(Z,{function:t=>t(),object:t=>t.stop()});function x(t,e){return e.stop&&(e[-1]=t),t[0]=e,e}function Se(t,e){let r=-1,o;for(;t[++r]&&t[r]!==e;);for(e[-1]=void 0;t[r++];)t[r-1]=t[r];return e}function w(t){if(t.status==="done"||(t.status="done",t.pipe&&!t[0]))return t;let e=t[$t];for(t[$t]=void 0,e&&e.forEach(gn);t[0];)Array.isArray(t[0])?Se(t,t[0]):w(Se(t,t[0]));return t}var ro={pipe:function(t){return x(this,t),this.fn(e=>c.prototype.push.call(this,e),()=>this.stop()),t},push:null,stop:function(){return this.status==="done"?this:w(this)}};function c(t){let e=typeof t;e==="object"?this[-1]=t:e==="function"&&(this.fn=t,D(this,ro))}D(c.prototype,{push:function(t){return this[0]&&this[0].push(t)},each:function(t){return this.pipe(new wn(this,t))},pipe:function(t){return x(this,t),this[-1].pipe(this),t},broadcast:function(t){return new Wt(this,t)},filter:function(t){return new yn(this,t)},flatMap:function(t){return new xn(this,t)},map:function(t){return new vn(this,t)},reduce:function(t,e){return this.pipe(new bn(t,e)).value},scan:function(t,e){return new En(this,t,e)},slice:function(t,e){return new Sn(this,t,e)},split:function(t){return new On(this,t)},start:function(){return this.status==="done"?this:(this[-1].start.apply(this[-1],arguments),this)},stop:function(){return this.status==="done"?this:this[-1][1]?(Se(this[-1],this),w(this)):(this[-1].stop.apply(this[-1],arguments),this)},done:function(t){return this.status==="done"?(gn(t),this):((this[$t]||(this[$t]=[])).push(t),this)},[Symbol.asyncIterator]:async function*(){let t=[],e=o=>t.push(o);function r(o,i){e=o}for(this.each(o=>e(o)).done(()=>e=d);e!==d;)yield t.length?t.shift():await new Promise(r)}});function Wt(t,e){this[-1]=t,this.memory=!!(e&&e.memory),e&&e.hot&&this.pipe({push:d})}Wt.prototype=D(M(c.prototype),{push:function(t){if(t===void 0)return;this.memory&&(this.value=t);let e=-1;for(;this[++e];)this[e].push(t)},pipe:function(t){let e=-1;for(;this[++e];);return this.memory&&e===0&&this[-1].pipe(this),t.stop&&t!==L&&(t[-1]=this),this[e]=t,this.value!==void 0&&t.push(this.value),!this.memory&&e===0&&this[-1].pipe(this),t}});function wn(t,e){this[-1]=t,this.push=e}wn.prototype=D(M(c.prototype),{pipe:null});function yn(t,e){this[-1]=t,this.fn=e}yn.prototype=D(M(c.prototype),{push:function(e){let r=this.fn;r(e)&&this[0].push(e)}});function xn(t,e){this[-1]=t,this.fn=e}xn.prototype=D(M(c.prototype),{push:function(e){let r=this.fn,o=r(e);if(o!==void 0)if(Ee(o))for(let i of o)this[0].push(i);else o.pipe?(console.warn("FlatMapping pipeables is dodgy. Map to arrays for the moment please."),this.done(o.each(i=>this[0].push(i)))):o.then&&o.then(i=>this[0].push(i))}});function vn(t,e){this[-1]=t,this.fn=e}vn.prototype=D(M(c.prototype),{push:function(e){let r=this.fn,o=r(e);return o===void 0||!this[0]?!1:this[0].push(o)}});function bn(t,e){this.fn=t,this.value=e,this.i=0}bn.prototype=D(M(c.prototype),{push:function(t){let e=this.fn;this.value=e(this.value,t,this.i++,this)}});function En(t,e,r){this[-1]=t,this.fn=e,this.value=r}En.prototype=D(M(c.prototype),{push:function(t){let e=this.fn;this.value=e(this.value,t),this[0].push(this.value)}});function Sn(t,e,r=1/0){this[-1]=t,this.index=-e,this.indexEnd=e+r}Sn.prototype=D(M(c.prototype),{push:function(e){++this.index>0&&this[0].push(e),this.index===this.indexEnd&&this.stop()}});function On(t,e){this[-1]=t,this.chunk=[],typeof n=="number"?this.n=e:this.fn=e}On.prototype=D(M(c.prototype),{fn:function(){return this.chunk.length===this.n},push:function(e){let r=this.chunk;this.fn(e)?(this[0].push(r),this.chunk=[]):r.push(e)}});var oo=Array.prototype,io=Object.assign,so=Object.create;function mt(t){this.buffer=t||[]}mt.prototype=io(so(c.prototype),{pipe:function(t){for(x(this,t);this.buffer.length&&this[0];){let e=oo.shift.apply(this.buffer);e!==void 0&&this[0].push(e)}return this.buffer=t,t},push:function(t){if(t!==void 0)return this.buffer.push(t)},stop:function(){return this[-1]?c.prototype.stop.apply(this,arguments):(this.buffer=L,w(this))}});var ao=Object.assign,uo=Object.create;function tt(t){this.promise=t}tt.prototype=ao(uo(c.prototype),{push:null,pipe:function(t){let e=this.promise;return x(this,t),e.then(r=>{this.status!=="done"&&this[0].push(r)}),e.finally(()=>w(this)),t}});var Oe=Object.assign,co=Object.create;function po(t){return!!t.active}function fo(t){return!!t.stopped}function Nn(t,e,r,o,i){this[-1]=t.then?new tt(t):t,this.stream=r,this.values=o,this.pipes=i,this.name=e,this.active=!1,this.stopped=!1}Oe(Nn.prototype,{push:function(t){let{stream:e,values:r,name:o}=this;if(r[o]=t,this.active=!0,e.active||(e.active=this.pipes.every(po)))if(e.mutable)e[0].push(r);else{let i=new this.values.constructor;e[0].push(Oe(i,r))}},stop:function(){this.stopped=!0,this.pipes.every(fo)&&w(this.stream)}});function dt(t,e){this.inputs=t,this.mutable=e&&(e===!0||e.mutable),this.active=!1}dt.prototype=Oe(co(c.prototype),{push:null,pipe:function(t){let e=this.inputs,r=this.pipes=[],o;x(this,t);let i;for(i in e){let s=e[i];typeof s=="object"&&(s.pipe||s.then)&&r.push(new Nn(s,i,this,e,r))}for(o of r)o[-1].done(o).pipe(o);return t},stop:function(){return this.status==="done"?this:(this.pipes.forEach(t=>{let e=t[-1];e[1]?unpipe(e,t):e.stop()}),this)}});var Tn=Object.assign,lo=Object.create;function Dn(t){this.stream=t}Tn(Dn.prototype,{push:function(t){this.stream[0].push(t)},stop:function(){--this.stream.count===0&&w(this.stream)},done:function(t){this.stream.done(t)}});function _t(t){this.inputs=t}_t.prototype=Tn(lo(c.prototype),{push:null,pipe:function(t){let e=this.inputs;this.count=e.length,x(this,t);let r=new Dn(this),o=-1,i;for(;i=e[++o];)if(i.pipe)i.pipe(r);else if(i.then)i.then(s=>r.push(s)),i.finally(()=>r.stop());else{let s=-1;for(;++s<i.length;)r.push(i[s]);r.stop()}return t}});var ho=Object.assign,mo=Object.create;function et(t){this.duration=t,this.timer=void 0,this.status="idle"}et.prototype=ho(mo(c.prototype),{push:null,pipe:function(t){return x(this,t)},start:function(t){if(this.status!=="idle")return this;if(this.status="waiting",this.duration==="frame"){let e=r=>{this.timer=requestAnimationFrame(e),this[0].push(r/1e3)};this.timer=requestAnimationFrame(e)}else{let e=performance.now()/1e3;this.timer=setTimeout(()=>{let r=performance.now()/1e3,o=()=>this[0].push(performance.now()/1e3);this.status="playing",this[0].push(r),this.timer=setInterval(o,this.duration*1e3)},e>t?t-e:0)}return this},stop:function(t){return this.status==="done"?this:(this.duration==="frame"?cancelAnimationFrame(this.timer):this.status==="waiting"?clearTimeout(this.timer):clearInterval(this.timer),this.timer=void 0,w(this))}});var go=Object.assign,wo=Object.create;function gt(t,e){c.call(this,t),this.duration=e}gt.prototype=go(wo(c.prototype),{push:function(t){if(t===void 0)return;if(this.clock){this.value=t;return}let e=new et(this.duration),r=o=>{if(this.value===void 0){e.stop(),this.clock=void 0;return}this[0].push(this.value),this.value=void 0};this.value=t,this.clock=e.each(r).start()},stop:function(t){return this.clock&&(this.clock.stop(),this.clock=void 0),t&&(this[0].push(value),this.value=void 0),c.prototype.stop.apply(this,arguments),this}});var yo=Array.prototype,An=Object.assign;function Bn(t){throw new TypeError("Stream cannot be created .from() "+typeof t)}An(c,{isStream:function(t){return c.prototype.isPrototypeOf(t)},of:function(){return new mt(yo.slice.apply(arguments))},from:function(t){return t?typeof t=="object"?typeof t.pipe=="function"?new c(t):typeof t.then=="function"?new tt(t):typeof t.length=="number"?new mt(t):new dt(t):typeof t=="function"?new c(t):Bn(t):Bn(t)},broadcast:t=>new Wt(L,t),combine:(t,e)=>new dt(t,e),clock:t=>new et(t),merge:function(){return new _t(arguments)},throttle:function(t){return new gt(null,t)}});An(c.prototype,{throttle:function(t){return new gt(this,t)},log:S});var eu=c.frames;var xo=Object.assign,vo=/\s+/,It={fullscreenchange:F(()=>"fullscreenElement"in document?"fullscreenchange":"webkitFullscreenElement"in document?"webkitfullscreenchange":"mozFullScreenElement"in document?"mozfullscreenchange":"msFullscreenElement"in document?"MSFullscreenChange":"fullscreenchange")},Cn=0;window.addEventListener("click",t=>Cn=t.timeStamp);function bo(t,e){return t.node.addEventListener(It[e]?It[e]():e,t,t.options),t}function Eo(t,e){return t.node.removeEventListener(It[e]?It[e]():e,t),t}function Ln(t,e,r,o){this.types=t.split(vo),this.options=e,this.node=r,this.select=e&&e.select,this.initialEvent=o}xo(Ln.prototype,{pipe:function(t){x(this,t),this.types.reduce(bo,this),this.initialEvent&&(this.handleEvent(this.initialEvent),delete this.initialEvent)},handleEvent:function(t){if(!(t.type==="click"&&t.timeStamp<=Cn)){if(this.select){let e=t.target.closest(this.select);if(!e)return;t.selectedTarget=e}this[0].push(t)}},stop:function(){this.types.reduce(Eo,this),w(this[0])}});function wt(t,e,r){let o;return typeof t=="object"&&(o=t,t=o.type),new c(new Ln(t,o,e,r))}function Ne(t){return t.validity?t.validity.valid:!0}function So(){return{x:0,y:0,left:0,top:0,right:window.innerWidth,bottom:window.innerHeight,width:window.innerWidth,height:window.innerHeight}}function Te(t){return t===window?So():t.getClientRects()[0]||t.getBoundingClientRect()}var Oo=Object.assign,yt={bubbles:!0,cancelable:!0};function xt(t,e){let r=yt,o,i,s,a,u,f;return typeof t=="object"?({type:t,detail:i,bubbles:s,cancelable:a,composed:u,...o}=t,f=Oo(new CustomEvent(t,{detail:i,bubbles:s||yt.bubbles,cancelable:a||yt.cancelable,composed:u||yt.composed}),o)):f=new CustomEvent(t,yt),e.dispatchEvent(f)}var zt=m(xt,!0);var No=/^\s*([+-]?\d*\.?\d+)([^\s]*)\s*$/;function vt(t){return function(r){if(typeof r=="number")return r;var o=No.exec(r);if(!o||!t[o[2]||""]){if(!t.catch)throw new Error('Cannot parse value "'+r+'" (accepted units '+Object.keys(t).join(", ")+")");return o?t.catch(parseFloat(o[1]),o[2]):t.catch(parseFloat(r))}return t[o[2]||""](parseFloat(o[1]))}}var kn=vt({deg:kt,rad:l,turn:t=>t*2*Math.PI,catch:function(t){throw new Error('Cannot parse value "'+t+'"')}});var To=/px$/,Do=/deg$|turn$|rad$/;function Bo(t,e){return window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):0}function Xt(t,e){var r=Bo(t,e);return typeof r=="string"?To.test(r)?parseFloat(r):Do.test(r)?kn(r):r:r}var jt,Jt;function Pn(){if(!jt){let t=document.documentElement.style.fontSize;document.documentElement.style.fontSize="100%",jt=Xt("font-size",document.documentElement),document.documentElement.style.fontSize=t||""}return jt}function Rn(){return Jt||(Jt=Xt("font-size",document.documentElement)),Jt}window.addEventListener("resize",()=>{jt=void 0,Jt=void 0});var nt=p(Z,{number:l,string:vt({px:l,em:t=>Pn()*t,rem:t=>Rn()*t,vw:t=>window.innerWidth*t/100,vh:t=>window.innerHeight*t/100,vmin:t=>window.innerWidth<window.innerHeight?window.innerWidth*t/100:window.innerHeight*t/100,vmax:t=>window.innerWidth<window.innerHeight?window.innerHeight*t/100:window.innerWidth*t/100})});function Un(t){return nt(t)/Pn()}function Gn(t){return nt(t)/Rn()}function Mn(t){return 100*nt(t)/window.innerWidth}function qn(t){return 100*nt(t)/window.innerHeight}var Ao="input, select, textarea";function Kt(t){return t.checkValidity?t.checkValidity():t.hasChildNodes()?Array.from(t.querySelectorAll(Ao)).every(Kt):!0}var Vn=d;var k=window.location;function De(){return xt("dom-navigate",window)}function Fn(t){return t.replace(/^#/,"")}function Be(t,e=null,r=!1){t=typeof t=="string"?/^https?\:\/\//.test(t)?new URL(t):new URL(t,k.href):t,t.origin!==k.origin&&(window.location.href=t);let o=JSON.stringify(e),i=o!==JSON.stringify(history.state);if(t.href===k.href&&!i)return;let s=k.hash,a=Fn(t.hash),u=(t.pathname+t.search+t.hash).slice(0,96);if(Vn("navigate()",(u.length===96?u+" …":u)+(e?", "+o:"")),t.pathname===k.pathname&&t.search===k.search&&!i&&a&&t.hash!==s&&r){k.hash=a;return}let f=k.href,q=t.pathname+t.search+(a?t.hash:"");if(e=o?JSON.parse(o):e,history.pushState(e,document.title,q),t.hash!==s)return history.pushState(e,document.title,f),history.back(),!0;let Ct=De();return Ct&&(window.location.href=t),!Ct}window.addEventListener("popstate",De);window.addEventListener("DOMContentLoaded",De);window.addEventListener("hashchange",function(t){Fn(k.hash)===""&&history.replaceState(history.state,document.title,k.href.replace(/#$/,""))});var Co=/\s*(\([\w,\s]*\))/,Lo=/function(?:\s+\w+)?\s*(\([\w,\s]*\))/,Hn=p(Z,{boolean:l,function:t=>t.prototype?(t.name||"function")+(Lo.exec(t.toString())||[])[1]:(Co.exec(t.toString())||[])[1]+" ⇒ {…}",number:t=>Number.isNaN(t)?"":Number.isFinite(t)?t:t===Math.PI?"":t<0?"-∞":"∞",string:l,symbol:t=>t.toString(),undefined:t=>"",object:p(t=>t&&t.constructor.name,{Array:t=>t.map(Hn).join(""),RegExp:t=>"/"+t.source+"/",Stream:()=>"",null:()=>"",default:t=>JSON.stringify(t,null,2)}),default:JSON.stringify}),B=Hn;var Wn=Array.prototype,rt=Symbol("literal-value"),ko={"select-one":!0,"select-multiple":!0,checkbox:!0,radio:!0,undefined:!0};function bt(t){return rt in t?t[rt]:"value"in t?t.value:t.getAttribute("value")||void 0}var Et=p(R("type"),{"select-one":t=>t.selectedIndex>-1?bt(t.options[t.selectedIndex]):void 0,"select-multiple":t=>Wn.filter.call(t.options,R("selected")).map(bt),checkbox:bt,radio:bt,number:t=>Number(t.value),range:t=>Number(t.value),default:t=>t.value}),Po={number:"number",range:"number"};function $n(t,e){if(document.activeElement===t)return 0;let r=ko[t.type];if(r&&rt in t&&t[rt]===e)return 0;let o=Po[t.type];if(o&&typeof e!==o)return 0;r&&(t[rt]=e);let i=B(e);return i===t.value?0:("value"in t?t.value=i:t.setAttribute("value",i),j.updateEvent&&zt(j.updateEvent,t),1)}var _n=p(R("type"),{"select-one":(t,e)=>{if(typeof e=="string"||typeof e=="number")return $n(t,e);let r=Wn.find.call(t.options,o=>e===bt(o));return r&&!r.selected?(r.selected=!0,1):0},default:$n});function In(t){delete t[rt]}var Qt=Object.assign(en,{root:document.documentElement,body:document.body,create:U,delegate:be,events:wt,frame:window.requestAnimationFrame,getValue:Et,isValid:Ne,navigate:Be,rect:Te,request:qt,trigger:xt,validate:Kt,px:nt,em:Un,rem:Gn,vw:Mn,vh:qn});var Ot=[],Ro=Promise.resolve(Ot),St;function Uo(t){var e,r;let o=-1;for(;t[++o]!==void 0;){let i=t[o].update()}St=void 0,t.length=0}function zn(t){return t.status==="cued"?(console.trace("Renderer already cued."),St):(St||(St=Ro.then(Uo)),Ot.push(t),t.status="cued",St)}function Xn(t){if(t.status!=="cued"||!Ot.length)return;let e=Ot.indexOf(t);e>0&&Ot.splice(e,1),t.status="idle"}var Go=0;function Mo(t){t.cancelled=!0}function jn(t){t&&(t.forEach(Mo),t.length=0)}function Ae(t,e,r,o,i,s=!1){if(i&&typeof i=="object"){let a=g.object(i);if(a.then){let u=t.promises||(t.promises=[]);r[o]="",a.then(f=>{if(!a.cancelled)return ue(u,a),Ae(t,e,r,o,f,!0)}),u.push(a);return}if(typeof a.length=="number"){let u=a.length;for(;u--;)Ae(t,e,a,u,a[u])}}r[o]=i,s&&t.render.apply(t,e)}var N=class{constructor(e,r,o,i){let s=this.constructor.parameterNames;this.id=++Go,this.fn=e,this.element=r,this.name=o,this.status="idle",this.parameters=s.map(a=>i[a]),this.renderCount=0}getParameters(){let e=this.parameters;return e[0]=this.data,e[1]=g.object(this.data),e[2]=this.element,e}push(e){let r=g.of(e);this.data!==r&&(this.data=r,this.invalidate())}evaluate(){return this.fn.apply(this,this.getParameters())}invalidate(){return this.status==="done"?this:this.status==="cued"?this:(zn(this),this)}update(){if(jn(this.promises),this.status="rendering",!1)try{}catch(e){}else++this.renderCount,oe(this,this.evaluate);return this.status=this.status==="rendering"?"idle":this.status,this}compose(e){this.singleExpression===void 0&&(this.singleExpression=e.length===2&&!/\S/.test(e[0])&&!/\S/.test(e[1]));let r=0;for(;e[++r]!==void 0;)Ae(this,arguments,arguments,r,arguments[r]);return this.render.apply(this,arguments)}stop(){return Xn(this),jn(this.promises),X.prototype.stop.apply(this)}done(){return X.prototype.done.apply(this,arguments)}};b(N,"parameterNames",["data","DATA","element","host","shadow"]);var Yt=[];function Ce(t,e){Yt.length=0;let r=t;for(;r!==e;){if(!r)throw new Error("getNodes(first, last) last not found after first");Yt.push(r),r=r.nextSibling}return Yt.push(e),Yt}var qo={1:"element",3:"text",8:"comment",9:"document",10:"doctype",11:"fragment"};function Le(t){return qo[t.nodeType]}var Jn=document.createElement("textarea");function ke(t){return Jn.innerHTML=t,Jn.value}var Vo=Array.prototype;function Zt(t){return Vo.indexOf.apply(t.parentNode.childNodes,arguments)}function Pe(t){let e=t.slice(1),r=document.getElementById(e);if(!r)throw new Error("Template "+t+" not found");return r}var Kn=F(function(e){return Vt(e).then(r=>{let o=new URL(e,window.location),i=o.hash?r.querySelector(o.hash):r;return{id:e,content:i.content||i}})});function Re(t,e,r,o,i){let s=new H(t,r,o,i);return s.push(e),s}function Qn(t,e,r,o,i){let s=new H(t,r,o,i);return e.each(a=>s.push(a)),s.done(e),s}function te(t,e,r,o,i){let s=ft(e);if(/^#/.test(t)){let f=Pe(t),q=typeof s=="string"?ge(s):s&&s.then?s:null;return q?q.then(Ct=>Re(f,Ct,r,o,i)):s&&s.pipe?Qn(f,s,r,o,i):Re(f,s||{},r,o,i)}let a=Kn(t),u=typeof s=="string"?ge(s):(s&&s.then,s);return s&&s.pipe?a.then(f=>Qn(f,e,r,o,i)):Promise.all([a,u]).then(([f,q])=>Re(f,q,r,o))}var Fo=Object.assign,Nt={add:0,remove:0,text:0};function Ue(t){t&&typeof t=="object"&&t.stop&&t.stop()}function Ho(t){return t instanceof H||t instanceof Node?t:B(t)}function Yn(t,e){return typeof e=="string"&&typeof t[t.length-1]=="string"?t[t.length-1]+=e:t.push(e),t}function Zn(t,e){return Array.isArray(e)?e.reduce(Zn,t):Yn(t,Ho(e))}function Ge(t,e){let r=t.nodeValue;if(r){if(r!==e)return t.nodeValue=e,1}else if(e)return t.nodeValue=e,1;return 0}function tr(t){return t.content?tr(t.content):t}function $o(t,e,r,o){let i=o.length-1;t.text+=Ge(e,o[0]);let s=e.nextSibling,a=0;for(;++a<i;){let u=o[a];if(typeof u=="string"){s!==r&&ht(s)?(t.text+=Ge(s,u),s=s.nextSibling):(s.before(u),++t.add);continue}if(u instanceof H&&(s===u.first||s===u.last)){s=u.last.nextSibling;continue}if(s===u){s=s.nextSibling;continue}u.remove&&(t.remove+=u.remove()||0),s.before(tr(u)),++t.add}for(;s!==r;){let u=s;s=s.nextSibling,u.remove(),++t.remove}return t.text+=Ge(r,i<1?null:o[i]),t}var _=class extends N{constructor(e,r,o,i,s=r){let a=Fo({},i,{include(u,f){return arguments.length===1?q=>te(u,q,r,i):te(u,f,r,i)},print:(...u)=>we(this,...u)});super(e,r,o,a),this.contents=[],this.first=s.childNodes[this.name],this.last=s.childNodes[this.name+1]}push(){return this.contents.forEach(Ue),this.contents.length=0,super.push.apply(this,arguments)}update(){return this.contents.forEach(Ue),this.contents.length=0,super.update.call(this)}render(e){let r=0;for(this.contents.length=0,this.contents.push(e[r]);e[++r]!==void 0;)Zn(this.contents,arguments[r]),Yn(this.contents,e[r]);return $o(Nt,this.first,this.last,this.contents),this.mutations=Nt.remove+Nt.add+Nt.text,Nt}stop(){return this.contents.forEach(Ue),this.contents.length=0,super.stop.apply(this)}};b(_,"parameterNames",["data","DATA","element","host","shadow","include","print"]);var Wo=/\$\{/;function Tt(t){return t&&Wo.test(t)}function er(t,e){return e===""||e===void 0?t:t+e}function _o(t,e,r){return t&&typeof t=="object"?t.find?e+t.map(B).reduce(er):e+B(t):e+B(t)}function Dt(t){return t[0].map((r,o)=>o<=t.length?_o(t[o+1],r,B):r===""?void 0:r).reduce(er)}var Bt={"accept-charset":"acceptCharset",accesskey:"accessKey",cellpadding:"cellPadding",cellspacing:"cellSpacing",codebase:"codeBase",colspan:"colSpan",datetime:"dateTime",for:"htmlFor",form:null,formaction:"formAction",formenctype:"formEnctype",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",httpequiv:"httpEquiv",longdesc:"longDesc",maxlength:"maxLength",minlength:"minLength",nohref:"noHref",noresize:"noResize",noshade:"noShade",nowrap:"noWrap",novalidate:"noValidate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",tfoot:"tFoot",thead:"tHead",usemap:"useMap",valign:"vAlign",valuetype:"valueType"};var Io=Object.getOwnPropertyDescriptor,zo=Object.getPrototypeOf,ot={attribute:0,property:0};function nr(t,e){let r=Io(e,t);return r?r.set||r.writable:nr(t,zo(e))}function Xo(t,e,r){return t[e]===r?0:(t[e]=r,1)}function jo(t,e,r){return r===t.getAttribute(e)?0:(t.setAttribute(e,r),1)}var y=class extends N{constructor(e,r,o,i){super(e,r,o,i),this.property=o in Bt?Bt[o]:o,this.writable=o in Bt?!!Bt[o]:o in r&&nr(o,r)}render(){return this.value=this.singleExpression?arguments[1]:Dt(arguments),ot.attribute=0,ot.property=0,this.writable?ot.property+=Xo(this.element,this.property,this.value):ot.attribute+=jo(this.element,this.name,this.value),this.mutations=ot.attribute,ot}};b(y,"parameterNames",N.parameterNames);function At(t){return t=Array.from(t),t[0]=!!t[0].join(" ").trim().split(/\s+/).map(Boolean).reduce(K),!!t.map(Boolean).reduce(K)}function Jo(t,e,r){return t[e]===!!r?0:(t[e]=!!r,1)}function Ko(t,e,r){return t.getAttribute(e)!==null?r?0:(t.removeAttribute(e),1):r?(t.setAttribute(e,e),1):0}var h=class extends y{render(e){let r=At(arguments);return this.mutations=this.writable?Jo(this.element,this.property,r):Ko(this.element,this.name,r),{}}};b(h,"parameterNames",y.parameterNames);function Qo(t,e,r){return typeof e.set=="function"?e.set(t,r):e[t]=r}var Yo=m(Qo,!0);function Zo(t){return""+t}function ti(t,e,r){let o=typeof e=="boolean"?e:r?t.type==="checkbox"&&e&&e.map?e.map(Zo).includes(Et(t)):e+""===t.value:!!e;return o===t.checked?0:(t.checked=o,j.updateEvent&&zt(j.updateEvent,node),1)}var it=class extends y{constructor(e,r,o,i){super(e,r,"checked",i),this.hasValue=J(r.getAttribute("value"))}render(e){return this.singleExpression?this.value=arguments[1]:this.value=At(arguments),this.mutations=ti(this.element,this.value,this.hasValue),this}};b(it,"parameterNames",["data","DATA","element","host","shadow","bind"]);var ei=Array.prototype,ni=[],ri=p(l,{class:(t,e)=>e.classList});function oi(t,e,r,o){let i=e.length;for(;i--;)r.includes(e[i])&&e.splice(i,1);return e.length&&(t.remove.apply(t,e),++o),r.length&&(t.add.apply(t,r),++o),o}var st=class extends y{constructor(e,r,o,i){super(e,r,o,i),this.list=ri(o,r),this.tokens=ni}render(e){let r=0;if(this.renderCount===1){let i=e.join(" ").trim();i&&(this.list.add.apply(this.list,i.split(/\s+/)),++r)}let o=ei.slice.call(arguments,1).map(B).join(" ").trim().split(/\s+/).filter(i=>!!i);return this.mutations=oi(this.list,this.tokens,o,r),this.tokens=o,this}};b(st,"parameterNames",y.parameterNames);function ee(t){let e=t[0],r=0,o=e[r];for(;e[++r]!==void 0;)o+=t[r]+e[r];return Number(o)}var ii=p((t,e)=>e,{number:ee,range:ee,default:Dt}),at=class extends y{constructor(e,r,o,i){super(e,r,"value",i)}render(e){return this.value=this.singleExpression?arguments[1]:ii(arguments,this.element.type),this.mutations=_n(this.element,this.value),this}stop(){return In(this.element),super.stop()}};b(at,"parameterNames",["data","DATA","element","host","shadow","bind"]);var si={class:st,value:at,checked:it,async:h,autofocus:h,autoplay:h,controls:h,defer:h,disabled:h,formnovalidate:h,hidden:h,ismap:h,itemscope:h,loop:h,multiple:h,muted:h,nomodule:h,novalidate:h,open:h,readonly:h,required:h,reversed:h,selected:h,default:h};function ne(t,e,r,o,i="",s){let a=r.localName,u=r.value;if(!Tt(u))return;let f=si[a]||y;return t.push({Renderer:f,fn:lt(u,Qt,f.parameterNames.join(", "),i,s),element:e,path:o,name:a}),e.removeAttribute(a),t}function qe(t,e,r,o="",i){let s=Array.from(e.childNodes);if(s){let a=-1;for(;s[++a];){if(s[a].content){let u=s[a],f=u.content;f.childNodes.length&&(s.splice(a,1,...f.childNodes),u.before(f),u.remove())}rr(t,s[a],r,o,i)}}return t}function Me(t,e,r,o="",i){let s=Array.from(e.attributes),a=-1,u;for(;u=s[++a];)ne(t,e,u,r,o,i);return t}var ai=p((t,e)=>e.tagName.toLowerCase(),{defs:l,template:l,script:Me,textarea:(t,e,r,o,i)=>(Me(t,e,r,o,i),ne(t,e,{localName:"value",value:e.textContent},r,o,i),e.textContent="",t),default:(t,e,r,o,i)=>(qe(t,e,r,o,i),Me(t,e,r,o,i),t)}),rr=p((t,e)=>Le(e),{comment:l,doctype:l,document:qe,fragment:qe,element:(t,e,r,o="",i)=>(ai(t,e,(r?r+Ht:"")+Zt(e),o="",i),t),text:(t,e,r,o="",i)=>{let s=e.nodeValue;if(!Tt(s))return t;let a=ke(s);return t.push({Renderer:_,fn:lt(a,Qt,_.parameterNames.join(", "),o,i),path:r,name:Zt(e),node:e}),e.after(document.createTextNode("")),t}}),or=rr;function Ve(t,e,r){return or([],t,"",e,r)}var ui=Object.assign;var ir={},re=[],ci={};function pi(){return this.data+""}function fi(t,e){return t.childNodes[e]}function li(t,e){return t.split(Ht).reduce(fi,e)}function sr(t){if(!ht(t))return!1;let e=t.nodeValue;return/^\s*/.exec(e)[0].length===e.length}function hi(t){let e=t.childNodes[0],r=t.childNodes[t.childNodes.length-1];(!e||!sr(e))&&t.prepend(U("text")),(!r||!sr(r))&&t.append(U("text"))}function mi(t,e,r){let o=t.content||U("fragment",t.childNodes,t);hi(o);let i=Ve(o,"#"+e,r);return{content:o,targets:i}}function di(t){let{Renderer:e,path:r,name:o,fn:i}=t,s=r?new e(i,li(r,this.content),o,this.parameters):new e(i,this.element,o,this.parameters,this.content);return this.done(s),s}function H(t,e=t.parentElement,r={},o=ci){let i=ve(t),s=ir[i]||(ir[i]=mi(t,i,{nostrict:o.nostrict||t.hasAttribute&&t.hasAttribute("nostrict")})),a=s.content.cloneNode(!0);this.content=a,this.element=e,this.parameters=r,this.first=a.childNodes[0],this.last=a.childNodes[a.childNodes.length-1],this.contents=s.targets.map(di,this)}ui(H.prototype,{push:function(t){if(this.status==="done")throw new Error("Renderer is done, cannot .push() data");let e=g.of(t)||t;this.data!==e&&(this.data=e,this.update())},update:p(pi,{null:function(){let t=this.data;re.length=0;let e=this.first;for(;e!==this.last;)re.push(e),e=e.nextSibling;return this.content.prepend.apply(this.content,re),re.length},default:function(){let t=this.data;return this.mutations=this.contents.reduce((e,r)=>(r.data=t,e=e+r.update().mutations,e),0),this.content.lastChild&&this.last!==this.content.lastChild&&(this.last.before(this.content),++this.mutations),this}}),remove:function(){if(this.content.lastChild===this.last)return 0;let t=Ce(this.first,this.last);return this.content.prepend.apply(this.content,t),t.length},replaceWith:function(){return this.content.lastChild===this.last?0:(this.last.after.apply(this.last,arguments),this.remove())},stop:N.prototype.stop,done:N.prototype.done});export{p as a,d as b,z as c,g as d,F as e,m as f,U as g,ue as h,se as i,L as j,j as k,pe as l,en as m,mn as n,Pe as o,As as p,nn as q,ge as r,xe as s,H as t};
