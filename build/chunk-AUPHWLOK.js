/* Literal 
   0.9.1
   By Stephen Band */

var we=Object.defineProperty;var mr=(t,e,r)=>e in t?we(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var xe=(t,e)=>{for(var r in e)we(t,r,{get:e[r],enumerable:!0})};var x=(t,e,r)=>(mr(t,typeof e!="symbol"?e+"":e,r),r),Ht=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var p=(t,e,r)=>(Ht(t,e,"read from private field"),r?r.call(t):e.get(t)),h=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},w=(t,e,r,o)=>(Ht(t,e,"write to private field"),o?o.call(t,r):e.set(t,r),r);var I=(t,e,r)=>(Ht(t,e,"access private method"),r);var A;function ye(t,e){let r=0;for(;e[--r]&&e[r]!==t;);for(e[r]=t,r=-1;t[++r]&&t[r]!==e;);t[r]=e}function ve(t){let e=-1,r;for(;r=t[++e];)t[e]=void 0,r.invalidate(t)}function Ee(t,e){let r=0;for(;t[--r];)if(t[r]===e)return!0;return!1}var c=class t{static isSignal(e){return e instanceof t}static of(e){return new rt(e)}static from(e){if(e.then){let r=new rt;return e.then(o=>r.value=o),r}else if(e.pipe){let r=new rt;return e.pipe({push:o=>r.value=o}),r}else return new Xt(e)}static observe(e,r,o){return new ot(e,r,o)}static evaluate(e,r){let o=A;A=e;let n=r.apply(e);return A=o,n}static get evaluating(){return A}constructor(){}valueOf(){return this.value}toString(){return this.value+""}toJSON(){return this.value}},X,rt=class extends c{constructor(r){super();h(this,X,void 0);w(this,X,r)}get value(){return A&&ye(this,A),p(this,X)}set value(r){p(this,X)!==r&&(w(this,X,r),ve(this))}};X=new WeakMap;var W,_,nt,Xt=class extends c{constructor(r){super();h(this,W,void 0);h(this,_,void 0);h(this,nt,void 0);r&&w(this,nt,r)}get value(){return A&&ye(this,A),p(this,W)?p(this,_):(w(this,_,c.evaluate(this,p(this,nt))),w(this,W,!0),p(this,_))}invalidate(r){if(!p(this,W)||r&&!Ee(this,r))return;w(this,W,!1);let o=0;for(;this[--o];)this[o]=void 0;ve(this)}};W=new WeakMap,_=new WeakMap,nt=new WeakMap;var hr=Promise.resolve(),it,J,st,Wt,ot=class{constructor(e,r,o){h(this,st);h(this,it,void 0);h(this,J,void 0);w(this,it,e),w(this,J,r);let n=c.evaluate(this,I(this,st,Wt));e.value!==o&&p(this,J).call(this,n)}invalidate(e){if(this.status==="done"||e&&!Ee(this,e))return;let r=0;for(;this[--r];)this[r]=void 0;hr.then(()=>p(this,J).call(this,c.evaluate(this,I(this,st,Wt))))}stop(){return this.status==="done"?this:(this.status="done",this)}};it=new WeakMap,J=new WeakMap,st=new WeakSet,Wt=function(){return p(this,it).value};var gr=Object.assign,wr=Object.defineProperties,xr=Object.isExtensible,yr=Object.prototype,C=Symbol("data"),be={[C]:{}};function vr(t){return t&&xr(t)&&!Node.prototype.isPrototypeOf(t)&&(window.BaseAudioContext===void 0||!BaseAudioContext.prototype.isPrototypeOf(t))&&!(t instanceof Date)&&!(t instanceof RegExp)&&!(t instanceof Map)&&!(t instanceof WeakMap)&&!(t instanceof Set)&&!(window.WeakSet&&t instanceof WeakSet)&&!ArrayBuffer.isView(t)}function It(t,e,r){return t[e]||(t[e]=c.of(r))}function Er(t,e,r){let o=Object.getOwnPropertyDescriptor(r,e);return!(o?o.writable||o.set:r[e]===void 0)||!c.evaluating?r[e]:It(t,e,r[e]).value}function De(t){this.signals={},this.object=t,this.data=new Proxy(t,this),be[C].value=this,wr(t,be)}gr(De.prototype,{get:function(e,r,o){if(typeof r=="symbol"||r==="__proto__")return e[r];let n=Er(this.signals,r,e);return yr.hasOwnProperty.call(e,r)&&d(n)||n},set:function(e,r,o,n){if(typeof r=="symbol"||r==="__proto__")return e[r]=o,!0;let i=d.objectOf(o);if(e[r]===o||e[r]===i)return!0;let s=e.length;return e[r]=i,this.signals[r]&&(this.signals[r].value=e[r]),r!=="length"&&e.length!==s&&this.signals.length&&(this.signals.length.value=e.length),!0},deleteProperty:function(t,e){return delete t[e],typeof e!="symbol"&&e!=="__proto__"&&this.signals[e]&&(this.signals[e].value=t[e]),!0}});function d(t,e){return t?t[C]?t[C].data:e||vr(t)?new De(t).data:void 0:void 0}d.of=t=>d(t);d.objectOf=function(t){return t&&t[C]?t[C].object:t};d.observe=function(t,e,r,o){let n=d(e)&&e[C];if(!n)return;let i=It(n.signals,t,n.object[t]);return c.observe(i,r,o)};d.signal=function(t,e){let r=d.of(e)&&e[C];return r?It(r.signals,t,r.object[t]):nothing};function R(t){var e=new Map;return function(o){if(e.has(o))return e.get(o);var n=t(o);return e.set(o,n),n}}function y(){}function l(t){return t}function f(t,e){return function(){let o=t.apply(this,arguments),n=e[o]||e.default;if(!n)throw new Error('overload() no function defined for key "'+o+'"');return n.apply(this,arguments)}}var br=Array.prototype;function Dr(t,e){return typeof t=="function"?t.apply(null,e):t}function Ne(t,e,r){r=r||t.length;var o=r===1?e?t:R(t):R(function(n){return Ne(function(){var i=[n];return i.push.apply(i,arguments),t.apply(null,i)},e,r-1)});return function n(i){return arguments.length===0?n:arguments.length===1?o(i):arguments.length>=r?t.apply(null,arguments):Dr(o(i),br.slice.call(arguments,1))}}var g=Ne;var Nr=f(l,{is:y,tag:y,data:function(t,e,r){for(t in r)r[t]===void 0&&delete r[t];Object.assign(e.dataset,r)},dataset:function(t,e,r){Object.assign(e.dataset,r)},html:function(t,e,r){e.innerHTML=r},text:function(t,e,r){e.textContent=r},children:function(t,e,r){e.innerHTML="",e.append.apply(e,r)},points:D,cx:D,cy:D,r:D,x:D,y:D,dx:D,dy:D,transform:D,preserveAspectRatio:D,viewBox:D,default:function(t,e,r){t in e?e[t]=r:e.setAttribute(t,r)}});function D(t,e,r){e.setAttribute(t,r)}function Tr(t,e){for(var r=Object.keys(e),o=r.length;o--;)Nr(r[o],t,e[r[o]]);return t}var bt=g(Tr,!0);var _t="http://www.w3.org/2000/svg",Te=document.createElement("template"),Jt=(t,e)=>e&&typeof e;function Be(t,e=""){let r=document.createRange();return r.selectNode(t),r.createContextualFragment(e)}var E=f(Jt,{string:function(t,e){let r=document.createElementNS(_t,t);return r.innerHTML=e,r},object:function(t,e){let r=document.createElementNS(_t,t);return typeof e.length=="number"?r.append.apply(r,e):bt(r,e),r},default:t=>document.createElementNS(_t,t)}),Br=f(Jt,{string:function(t,e){let r=document.createElement(t);return r.innerHTML=e,r},object:function(t,e){let r=document.createElement(t);return typeof e.length=="number"?r.append.apply(r,e):bt(r,e),r},default:t=>document.createElement(t)}),Sr=f(l,{comment:function(t,e){return document.createComment(e||"")},fragment:f(Jt,{string:function(t,e,r){return r?Be(r,e):(Te.innerHTML=e,Te.content.cloneNode(!0))},object:function(t,e,r){let o=r?Be(r):document.createDocumentFragment();return typeof e.length=="number"?o.append.apply(o,e):bt(o,e),o},default:()=>document.createDocumentFragment()}),text:function(t,e){return document.createTextNode(e||"")},circle:E,ellipse:E,g:E,glyph:E,image:E,line:E,rect:E,use:E,path:E,pattern:E,polygon:E,polyline:E,svg:E,tspan:E,default:Br}),S=Sr;var jt={};xe(jt,{Data:()=>d,Signal:()=>c,arg:()=>at,assign:()=>Lr,cache:()=>R,capture:()=>Ge,ceil:()=>Mr,choose:()=>z,entries:()=>kr,exec:()=>Se,floor:()=>Fr,id:()=>l,isDefined:()=>K,keys:()=>qr,last:()=>Kt,matches:()=>Oe,noop:()=>y,nothing:()=>ut,overload:()=>f,remove:()=>Ae,round:()=>Vr,set:()=>Yt,sum:()=>Zt,values:()=>Pr});function at(t){return function(){return arguments[t]}}function zt(t,e,r){let o;typeof r!="string"&&r.input!==void 0&&r.index!==void 0&&(o=r,r=o.input.slice(r.index+r[0].length+(r.consumed||0)));let n=t.exec(r);if(!n)return;let i=e(n);return o&&(o.consumed=(o.consumed||0)+n.index+n[0].length+(n.consumed||0)),i}var Se=g(zt,!0);function Gr(t,e,r){throw r.input!==void 0&&r.index!==void 0&&(r=r.input),new Error('Cannot parse string "'+(r.length>128?r.length.slice(0,128)+"…":r)+'"')}function Or(t,e,r){let o=-1;for(;++o<r.length;)e=r[o]!==void 0&&t[o]?t[o](e,r):e;return t.done?t.done(e,r):t.close?t.close(e,r):e}function Ur(t,e,r,o){let n=zt(t,i=>Or(e,r,i),o);return n===void 0?e.catch?e.catch(r,o):Gr(t,e,o):n}var Ge=g(Ur,!0);function z(t){return function(r,...o){var n=t[r]||t.default;return n&&n.apply(this,o)}}function K(t){return!!t||t!=null&&!Number.isNaN(t)}function Kt(t){if(typeof t.length=="number")return t[t.length-1]}function Ar(t,e){let r;for(r in t)if(t[r]!==e[r])return!1;return!0}var Oe=g(Ar,!0);function N(){return this}var Ue=Object.create,Cr=Object.freeze,ut=Cr(Ue(Ue(Object.prototype,{at:{value:y},shift:{value:y},push:{value:y},forEach:{value:y},join:{value:function(){return""}},every:{value:function(){return!0}},filter:{value:N},find:{value:y},findIndex:{value:function(){return-1}},flat:{value:N},flatMap:{value:N},includes:{value:function(){return!1}},indexOf:{value:function(){return-1}},map:{value:N},reduce:{value:at(1)},sort:{value:N},each:{value:N},pipe:{value:l},start:{value:N},stop:{value:N},done:{value:N},valueOf:{value:function(){return null}}}),{length:{value:0}}));function Qt(t,e){t.remove&&t.remove(e);let r;for(;(r=t.indexOf(e))!==-1;)t.splice(r,1);return t}var Ae=g(Qt,!0);function Rr(t,e,r){let o=t.replace(/([^.]+)\./g,(n,i)=>(e=e[i],""));return e[o]=r}var Yt=g(Rr,!0);function Zt(t,e){return e+t}var Lr=Object.assign,kr=Object.entries,qr=Object.keys,Pr=Object.values,Mr=Math.ceil,Fr=Math.floor,Vr=(t,e=1)=>Math.round(t/e)*e;var ee={};xe(ee,{body:()=>no,create:()=>S,decode:()=>ct,frame:()=>io,identify:()=>pt,isTextNode:()=>te,parse:()=>lt,request:()=>Nt,root:()=>oo,toNodeType:()=>ft,translate:()=>so,trigger:()=>Y});var Ce=document.createElement("textarea");function ct(t){return Ce.innerHTML=t,Ce.value}function pt(t,e="id-"){var r=t.id;if(!r){do r=e+Math.ceil(Math.random()*1e6);while(document.getElementById(r));t.id=r}return r}function te(t){return t.nodeType===3}var $r={xml:"application/xml",html:"text/html",svg:"image/svg+xml"};function lt(t,e){if(e){var r=$r[t.toLowerCase()]||t,o;try{o=new window.DOMParser().parseFromString(e,r)}catch{return}if(!o||o.getElementsByTagName("parsererror").length)throw new Error("Invalid "+t.toUpperCase()+": "+e);return o}}function Re(t){return lt("html",t)}function Le(t){return lt("svg",t)}var U=Object.assign,Q={headers:function(t){return{}},body:l},Hr=z({"application/x-www-form-urlencoded":function(t){return U(t,{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"})},"application/json":function(t){return U(t,{"Content-Type":"application/json; charset=utf-8","X-Requested-With":"XMLHttpRequest"})},"multipart/form-data":function(t){return U(t,{"Content-Type":"multipart/form-data","X-Requested-With":"XMLHttpRequest"})},"audio/wav":function(t){return U(t,{"Content-Type":"audio/wav","X-Requested-With":"XMLHttpRequest"})},"image/png":function(t){return U(t,{"Content-Type":"image/png","X-Requested-With":"XMLHttpRequest"})},"image/jpg":function(t){return U(t,{"Content-Type":"image/jpg","X-Requested-With":"XMLHttpRequest"})},"image/jpeg":function(t){return U(t,{"Content-Type":"image/jpeg","X-Requested-With":"XMLHttpRequest"})},default:function(t){return U(t,{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"})}}),Xr=z({"application/json":function(t){return t.get?Wr(t):JSON.stringify(t)},"application/x-www-form-urlencoded":function(t){return t.get?qe(t):Pe(t)},"multipart/form-data":function(t){return t.get?t:Ir(t)},default:l});function Wr(t){return JSON.stringify(Array.from(t.entries()).reduce(function(e,r){return e[r[0]]=r[1],e},{}))}function qe(t){return new URLSearchParams(t).toString()}function Pe(t){return Object.keys(t).reduce((e,r)=>(e.append(r,t[r]),e),new URLSearchParams)}function Ir(t){throw new Error("TODO: dataToFormData(data)")}function _r(t,e){return e instanceof FormData?t+"?"+qe(e):t+"?"+Pe(e)}function Jr(t,e,r,o){let n=typeof r=="string"?r:r&&r["Content-Type"]||"application/json",i=Hr(n,U(Q.headers&&e?Q.headers(e):{},typeof r=="string"?{}:r)),s={method:t,mode:"cors",headers:i,credentials:"same-origin",signal:o&&o.signal};return t!=="GET"&&(s.body=Xr(n,Q.body?Q.body(e):e)),s}function Dt(t){return t.blob()}function zr(t){return t.json().catch(e=>{throw new Error("Cannot parse JSON "+t.url+". "+e.message)})}function ke(t){return t.formData()}function Kr(t){return t.text()}function Qr(t){return t.text().then(e=>/^\s*<!DOCTYPE html>/.test(e)?Re(e):S("fragment",e))}function Yr(t){return t.text().then(e=>/^\s*<\?xml/.test(e)?Le(e):(console.warn("Untested SVG fragment parsing in request.js!"),S("fragment",e)))}var Zr={"text/plain":Kr,"text/html":Qr,"image/svg+xml":Yr,"application/json":zr,"multipart/form-data":ke,"application/x-www-form-urlencoded":ke,audio:Dt,"audio/wav":Dt,"audio/m4a":Dt,"application/zip":Dt};function jr(t){if(Q.onresponse&&(t=Q.onresponse(t)),!t.ok)throw new Error(t.statusText+"");let e=t.headers.get("Content-Type");if(!e)return;let r=e.replace(/\;.*$/,"");return Zr[r](t)}function Nt(t="GET",e,r={},o="application/json"){t=t.toUpperCase(),t==="GET"&&r&&(e=_r(e,r));let n=Jr(t,r,o,arguments[4]);return fetch(e,n).then(jr)}function Tt(t){return Nt("GET",t)}var to={1:"element",3:"text",8:"comment",9:"document",10:"doctype",11:"fragment"};function ft(t){return to[t.nodeType]}var eo=Object.assign,dt={bubbles:!0,cancelable:!0};function ro(t,e){let r=dt,o,n,i,s,a,u;return typeof t=="object"?({type:t,detail:n,bubbles:i,cancelable:s,composed:a,...o}=t,u=eo(new CustomEvent(t,{detail:n,bubbles:i||dt.bubbles,cancelable:s||dt.cancelable,composed:a||dt.composed}),o)):u=new CustomEvent(t,dt),e.dispatchEvent(u)}var Y=g(ro,!0);var oo=document.documentElement,no=document.body,io=window.requestAnimationFrame;function so(t){return window.translations&&window.translations[t]||t}var Bt=Object.assign({},jt,ee);var Me=y;var Fe='<a class="literal-link" href="https://stephen.band/literal/literal-html/">literal</literal>';function ao(t){if(typeof t=="object"&&t.template)return"<strong>"+t.id+"</strong> "+t.template+" <small>&gt; "+t.path+'</small> <!--strong class="literal-count">'+t.count+"</strong-->";if(typeof t=="object"&&t.message)return'<code class="white-fg">'+t.message+"</code>";if(typeof t=="object")return"<code><strong>"+t.constructor.name+"</strong> "+JSON.stringify(t)+"</code>"}function uo(t,e){return Me("error",t.template+" – "+t.code,"","","red"),console.log(e),S("pre",{class:"literal-error",html:t.template+' <small class="literal-message">'+t.code.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</small><code><strong>"+e.constructor.name+"</strong> "+e.message.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</code>"+Fe})}function co(t,e){let r=t.path+(typeof t.name=="string"?">"+t.name:""),o=0,n="";for(;arguments[++o]!==void 0;)n+=ao(arguments[o]);return S("pre",{class:"literal-print",html:t.template+" <small>"+(r?"&gt; "+r.replace(/>/g," &gt "):"")+'</small><span class="literal-count">'+t.renderCount+"</span>"+n+Fe})}function re(t,e){return e instanceof Error?uo(t,e):co(t,e)}var Z={updateEvent:!1};function oe(t){let e=t.slice(1),r=document.getElementById(e);if(!r)throw new Error("Template "+t+" not found");return r}var po=Object.entries,St={};function lo(t,[e,r]){let o=new URL(e,window.location);return St[o]=new URL(r,window.location),St}function Ai(t){po(t).reduce(lo,St)}function Ve(t){let e=new URL(t,window.location);return St[e]||e}function fo(t,e){return e[t]}var G=g(fo,!0);function Gt(t){var e={};return function(o){return o in e?e[o]:e[o]=t(o)}}var mo=/\.([\w-]+)(?:#|\?|$)/,ho=[],go=f(t=>(mo.exec(t.pathname)||ho)[1],{js:Gt(t=>{let e=t.origin+t.pathname+t.search,r=t.hash.slice(1)||"default";return import(e).then(G(r))}),default:Gt(Tt)});function ne(t){let e=Ve(t);return go(e)}function wo(t){let e=t[0];return/^\w/.test(e)}function ie(t={},e,r,o){let n=Object.entries(t).filter(wo),i=n.map(G(0)),s=n.map(G(1));return o?new Function(...i,"return ("+e+") => {"+(r||"")+"}").apply(o,s):new Function(...i,"return function("+e+"){"+(r||"")+"}").apply(null,s)}var Ot=">";var $e="";var se={};function mt(t,e,r,o={},n){let i=`
`+$e+(o.nostrict?"with(data) ":'"use strict";')+"return this.compose`"+t+"`;\n";return se[i]?se[i]:se[i]=ie(e,r,i)}var L={"accept-charset":"acceptCharset",accesskey:"accessKey",cellpadding:"cellPadding",cellspacing:"cellSpacing",class:"classList",codebase:"codeBase",colspan:"colSpan",datetime:"dateTime",for:"htmlFor",form:null,formaction:"formAction",formenctype:"formEnctype",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",httpequiv:"httpEquiv",longdesc:"longDesc",maxlength:"maxLength",minlength:"minLength",nohref:"noHref",noresize:"noResize",noshade:"noShade",nowrap:"noWrap",novalidate:"noValidate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",tfoot:"tFoot",thead:"tHead",usemap:"useMap",valign:"vAlign",valuetype:"valueType"};var j=[],Ut;function xo(t){let e,r,o=-1;for(;j[++o];)j[o].update();Ut=void 0,j.length=0}function He(t){return Ut===void 0&&(Ut=requestAnimationFrame(xo)),j.push(t),Ut}function Xe(t){let e=j.indexOf(t);return e>0&&j.splice(e,1),t}var We=t=>typeof t;var yo=/\s*(\([\w,\s]*\))/,vo=/function(?:\s+\w+)?\s*(\([\w,\s]*\))/,Ie=f(We,{boolean:l,function:t=>t.prototype?(t.name||"function")+(vo.exec(t.toString())||[])[1]:(yo.exec(t.toString())||[])[1]+" ⇒ {…}",number:t=>Number.isNaN(t)?"":Number.isFinite(t)?t+"":t<0?"-∞":"∞",string:l,symbol:t=>t.toString(),undefined:t=>"",object:f(t=>t&&t.constructor.name,{Array:t=>t.map(Ie).join(""),RegExp:t=>"/"+t.source+"/",Stream:()=>"",null:()=>"",default:t=>JSON.stringify(t,null,2)}),default:JSON.stringify}),k=Ie;var At=Symbol("stopables"),Rt={attribute:0,property:0,token:0,text:0,remove:0,add:0},Eo={renderCount:{writable:!0},status:{writable:!0}};function _e(t){t.stop()}function bo(t){t.cancelled=!0}function Je(t){t&&(t.forEach(bo),t.length=0)}function Ct(t,e,r,o,n,i=!1){if(n&&typeof n=="object"){let s=d.objectOf(n);if(typeof s.then=="function"){let a=t.promises||(t.promises=[]);r[o]="",s.then(u=>{if(!s.cancelled)return Qt(a,s),Ct(t,e,r,o,u,!0)}),a.push(s);return}if(typeof s.pipe=="function"){let a=t.streams||(t.streams=[]);r[o]="";let u=!1;s.pipe({push:O=>Ct(t,e,r,o,O,u)}),u=!0,a.push(s);return}if(typeof s.length=="number"){let a=s.length;for(;a--;)Ct(t,e,s,a,s[a])}}r[o]=n,i&&t.render.apply(t,e)}var ht,gt,wt,b=class{constructor(e,r,o,n,i,s){h(this,ht,void 0);h(this,gt,void 0);h(this,wt,void 0);let a=this.constructor.parameterNames;Object.defineProperties(this,Eo),w(this,ht,e),w(this,gt,r),w(this,wt,a.map(u=>o[u])),this.parameters=o,this.element=n,this.renderCount=0,this.status="idle"}evaluate(){let e=p(this,ht).value;if(!e)return;let r=p(this,wt);return r[0]=d.of(e),r[1]=d.objectOf(e),r[2]=this.element,++this.renderCount,p(this,gt).apply(this,r)}invalidate(){if(this.status!=="done"){if(this.status==="cued"){console.warn(this.constructor.name+" "+this.template+" "+this.path+" already cued");return}He(this),this.status="cued"}}update(){return Je(this.promises),c.evaluate(this,this.evaluate),this.status="idle",this}compose(e){this.singleExpression===void 0&&(this.singleExpression=e.length===2&&!/\S/.test(e[0])&&!/\S/.test(e[1]));let r=0;for(;e[++r]!==void 0;)Ct(this,arguments,arguments,r,arguments[r]);return this.render.apply(this,arguments)}stop(){if(this.status==="done")return this;this.status==="cued"&&Xe(this),ot.prototype.stop.apply(this),Je(this.promises),this.streams&&this.streams.forEach(_e);let e=this[At];return e&&(this[At]=void 0,e.forEach(_e)),this}done(e){return this.status==="done"?(e.stop(),this):((this[At]||(this[At]=[])).push(e),this)}};ht=new WeakMap,gt=new WeakMap,wt=new WeakMap,x(b,"parameterNames",["data","DATA","element","host","shadow"]);var Do=Object.getOwnPropertyDescriptor,No=Object.getPrototypeOf;function ze(t,e){let r=Do(e,t);return r?r.set||r.writable:ze(t,No(e))}function To(t,e,r){if(t[e]===r)return 0;t[e]=r}function Bo(t,e,r){if(r===t.getAttribute(e))return 0;t.setAttribute(e,r)}function xt(t){let e=t[0],r=0,o=e[r];for(;e[++r]!==void 0;)o+=k(t[r]),o+=e[r]}var Lt=class Lt extends b{constructor(e,r,o,n,i,s){super(e,r,o,n,i,s),this.name=i;let a=i in L?L[i]:i;a&&a in n&&ze(a,n)&&(this.property=a),this.constructor===Lt&&c.evaluate(this,this.evaluate)}evaluate(){if(!1)try{}catch(e){}return super.evaluate()}render(e){let r=this.singleExpression?arguments[1]:xt(arguments);return this.property?To(this.element,this.property,r):Bo(this.element,this.name,r)}};x(Lt,"parameterNames",b.parameterNames);var m=Lt;function So(t,e,r){t[e]!==!!r&&(t[e]=!!r,window.DEUBG&&++Rt.property)}function Go(t,e,r){if(t.getAttribute(e)!==null){if(r)return;t.removeAttribute(e),window.DEUBG&&++Rt.attribute;return}r&&t.setAttribute(e,e)}function ae(t){let e=t[0],r=0;if(/\S/.test(e[r]))return!0;for(;e[++r]!==void 0;)if(t[r]||/\S/.test(e[r]))return!0;return!1}var q=class extends m{constructor(e,r,o,n,i,s){super(e,r,o,n,i,s),c.evaluate(this,this.evaluate)}render(e){let r=this.singleExpression?arguments[1]:ae(arguments);return this.property?So(this.element,this.property,r):Go(this.element,this.name,r)}};x(q,"parameterNames",m.parameterNames);function Oo(t,e,r){return typeof e.set=="function"?e.set(t,r):e[t]=r}var Uo=g(Oo,!0);var Qe=Array.prototype,tt=Symbol("value"),Ao={"select-one":!0,"select-multiple":!0,checkbox:!0,radio:!0,undefined:!0};function yt(t){return tt in t?t[tt]:"value"in t?t.value:t.getAttribute("value")||void 0}var ue=f(G("type"),{"select-one":t=>t.selectedIndex>-1?yt(t.options[t.selectedIndex]):void 0,"select-multiple":t=>Qe.filter.call(t.options,G("selected")).map(yt),checkbox:yt,radio:yt,number:t=>Number(t.value),range:t=>Number(t.value),default:t=>t.value}),Co={number:"number",range:"number"};function Ke(t,e){if(document.activeElement===t)return 0;let r=Ao[t.type];if(r&&tt in t&&t[tt]===e)return;let o=Co[t.type];if(o&&typeof e!==o)return;r&&(t[tt]=e);let n=k(e);n!==t.value&&("value"in t?t.value=n:t.setAttribute("value",n),Z.updateEvent&&Y(Z.updateEvent,t))}var Ro=f(G("type"),{"select-one":(t,e)=>{if(typeof e=="string"||typeof e=="number")return Ke(t,e);let r=Qe.find.call(t.options,o=>e===yt(o));r&&!r.selected&&(r.selected=!0)},default:Ke});function Lo(t){delete t[tt]}var ko=f(G("type"),{number:Number,range:Number,default:l}),P=class extends m{constructor(e,r,o,n,i,s){super(e,r,o,n,"value",s),c.evaluate(this,this.evaluate)}render(e){let r=ko(this.element.type,this.singleExpression?arguments[1]:xt(arguments));return Ro(this.element,r)}stop(){return Lo(this.element),super.stop()}};x(P,"parameterNames",["data","DATA","element","host","shadow","bind"]);function qo(t){return""+t}function Po(t,e,r){let o=typeof e=="boolean"?e:r?t.type==="checkbox"&&e&&e.map?e.map(qo).includes(ue(t)):e+""===t.value:!!e;o!==t.checked&&(t.checked=o,Z.updateEvent&&Y(Z.updateEvent,node))}var M=class extends m{constructor(e,r,o,n,i,s){super(e,r,o,n,"checked",s),this.hasValue=K(n.getAttribute("value")),c.evaluate(this,this.evaluate)}render(e){let r=this.singleExpression?!!arguments[1]:ae(arguments);return Po(this.element,r,this.hasValue)}};x(M,"parameterNames",["data","DATA","element","host","shadow","bind"]);function ce(t){return t.replace(/-+(\w)/g,function(e,r){return r.toUpperCase()})}var F=class extends m{constructor(e,r,o,n,i,s){super(e,r,o,n,i,s),this.property=ce(i.replace(/^data-/,"")),c.evaluate(this,this.evaluate)}render(e){return this.element.dataset[this.property]=this.singleExpression?arguments[1]:xt(arguments)}};x(F,"parameterNames",m.parameterNames);var $a=Array.prototype;function Mo(t,e,r,o=0){let n=e.length;for(;n--;)r.includes(e[n])&&e.splice(n,1);e.length&&t.remove.apply(t,e),r.length&&t.add.apply(t,r)}var V=class extends m{constructor(e,r,o,n,i,s){super(e,r,o,n,i,s),this.list=n[this.property],this.tokens=ut,c.evaluate(this,this.evaluate)}render(e){if(this.renderCount===1){let i=e.join(" ").trim();if(i){let s=i.split(/\s+/);this.list.add.apply(this.list,s)}}let r=0,o="";for(;e[++r]!==void 0;){let i=k(arguments[r]);i&&(o+=" "+i)}let n=o?o.trim().split(/\s+/):ut;Mo(this.list,this.tokens,n),this.tokens=n}};x(V,"parameterNames",m.parameterNames);function Ye(t){return t.nodeType===1}function pe(t){return t.nodeType===3}function Ze(t){return t.nodeType===8}function je(t){return t.nodeType===11}var tr=R(function(e){return Tt(e).then(r=>{let o=new URL(e,window.location),n=o.hash?r.querySelector(o.hash):r;return{id:e,content:n.content||n}})});function er(t,e,r,o,n){let i=new T(t,r,o,n);return e.each(s=>i.push(s)),i.done(e),i}function le(t,e,r,o,n){let i=d.objectOf(e);if(/^#/.test(t)){let u=oe(t),O=typeof i=="string"?ne(i):i&&i.then?i:null;return O?O.then(B=>new T(u,r,o,B,n)):i&&i.pipe?er(u,i,r,o,n):new T(u,r,o,i,n)}let s=tr(t),a=typeof i=="string"?ne(i):(i&&i.then,i);return i&&i.pipe?s.then(u=>er(u,e,r,o,n)):Promise.all([s,a]).then(([u,O])=>new T(u,r,o,O,n))}function fe(t,e){if(t===e){e.remove();return}let r=new Range;r.setStartBefore(t),r.setEndBefore(e),r.deleteContents()}var Fo=Object.assign;function rr(t){t&&typeof t=="object"&&t.stop&&t.stop()}function or(t,e){let r=t.nodeValue;r?r!==e&&(t.nodeValue=e):e&&(t.nodeValue=e)}function nr(t){return t.content?nr(t.content):t}function ir(t,e,r){let{string:o,contents:n}=t;if(!(e instanceof T)&&!(e instanceof Node)&&!Array.isArray(e))return t.string+=k(e),r;if(o){if(++r<n.length-1&&pe(n[r]))or(n[r],o);else{let i=document.createTextNode(o);n[r].before(i),n.splice(r,0,i)}t.string=""}if(e===n[++r])return r;if(--r,Array.isArray(e)){let i=-1;for(;++i<e.length;)r=ir(t,e[i],r);return r}return e instanceof T?(n[++r].before(nr(e)),n.splice(r,0,e),r):je(e)?(console.log("TODO"),r):((pe(e)||Ye(e)||Ze(e))&&(n[++r].before(e),n.splice(r,0,e)),r)}var $=class extends b{constructor(e,r,o,n,i,s){let a=Fo({},o,{include:(...u)=>this.include(...u),print:(...u)=>re(this,...u)});super(e,r,a,n,i,s),this.contents=[i],this.string="",c.evaluate(this,this.evaluate)}get firstNode(){return this.contents[0].firstNode?this.contents[0].firstNode:this.contents[0]}get lastNode(){return this.contents[this.contents.length-1]}include(e){return arguments.length===1?r=>this.include(e,r):le(e,arguments[1],this.element,this.parameters)}evaluate(){if(!1)try{}catch(e){}return super.evaluate()}render(e){let r=this.contents,o=r[r.length-1];this.string="";let n=-1,i=-1;for(;++n<e.length-1;)this.string+=e[n],i=ir(this,arguments[n+1],i);if(or(o,this.string+e[n]),r[++i]!==o){let s=r[i].firstNode||r[i];fe(s,o),r.splice(i,r.length-i-1).forEach(rr)}}stop(){return this.contents.forEach(rr),this.contents.length=0,super.stop.apply(this)}};x($,"parameterNames",["data","DATA","element","host","shadow","include","print"]);b.create=function(e,r,o,n,i,s){let a=typeof i=="string"&&(L[i]||i);return a?/^data-/.test(a)?new F(e,r,o,n,i,s):a==="value"?new P(e,r,o,n,i,s):a==="checked"?new M(e,r,o,n,i,s):typeof n[a]=="boolean"?new q(e,r,o,n,i,s):typeof n[a]=="object"&&n[a].add&&n[a].remove?new V(e,r,o,n,i,s):new m(e,r,o,n,i,s):new $(e,r,o,n,i,s)};var kt=b;var Vo=Array.prototype;function qt(t){return Vo.indexOf.apply(t.parentNode.childNodes,arguments)}var $o=/\$\{/;function vt(t){return t&&$o.test(t)}function Pt(t,e,r,o,n,i){let s=r.value;if(!vt(s))return;let a=r.localName,u=e.tagName.toLowerCase(),O=/-/.test(u)||e.getAttribute("is"),B=a in L?L[a]:a,$t=/^data-/.test(a)?F:B in e?B==="value"?P:B==="checked"?M:typeof e[B]=="boolean"?q:typeof e[B]=="object"&&e[B].add&&e[B].remove?V:m:m,dr=$t.parameterNames.join(", "),ge={source:s,path:o,name:a,upgradeable:O,Renderer:$t};if(!1)try{}catch(_o){}else ge.literal=mt(s,Bt,dr,n);return t.push(ge),e.removeAttribute(a),t}function me(t,e,r,o,n){let i=Array.from(e.childNodes);if(i){let s=-1;for(;i[++s];){if(i[s].content){let a=i[s],u=a.content;u.childNodes.length&&(i.splice(s,1,...u.childNodes),a.before(u),a.remove())}sr(t,i[s],r,o,n)}}return t}function de(t,e,r,o,n){let i=Array.from(e.attributes),s=-1,a;for(;a=i[++s];)Pt(t,e,a,r,o,n);return t}var Ho=f((t,e)=>e.tagName.toLowerCase(),{defs:l,template:l,script:de,textarea:(t,e,r,o,n)=>(de(t,e,r,o,n),Pt(t,e,{localName:"value",value:e.textContent},r,o,n),e.textContent="",t),default:(t,e,r,o,n)=>(me(t,e,r,o,n),de(t,e,r,o,n),t)}),sr=f((t,e)=>ft(e),{comment:l,doctype:l,document:me,fragment:me,element:(t,e,r,o,n)=>(Ho(t,e,(r?r+Ot:"")+qt(e),o,n),t),text:(t,e,r,o,n)=>{let i=e.nodeValue;if(!vt(i))return t;let s=ct(i),a={source:s,path:r,name:qt(e)};if(!1)try{}catch($t){}else a.literal=mt(s,Bt,$.parameterNames.join(", "),o);return e.nodeValue="",t.push(a),t}}),ar=sr;function he(t,e,r){return ar([],t,"",e,r)}var cr=Object.assign;var pr={};function Xo(t,e){return t.childNodes[e]}function Wo(t,e){return t.split(Ot).reduce(Xo,e)}function ur(t,e,r){if(t===e){r.prepend(e);return}let o=new Range;o.setStartBefore(t),o.setEndAfter(e);let n=o.extractContents();r.appendChild(n)}var et,Et,H,Ft,lr,Vt,fr,Mt=class{constructor(e,r,o=template.parentElement,n={},i,s=pr){h(this,Ft);h(this,Vt);h(this,et,void 0);h(this,Et,void 0);h(this,H,void 0);let a=e.childNodes;w(this,H,c.of(d.of(i))),w(this,et,a[0]),w(this,Et,a[a.length-1]),this.content=e,this.element=o,this.parameters=n,this.contents=r.map(I(this,Ft,lr),this).map(I(this,Vt,fr),this)}get firstNode(){let e=this.contents&&this.contents[0];return e&&p(this,et)===e.lastNode?e.firstNode:p(this,et)}get lastNode(){return p(this,Et)}push(e){if(this.status==="done")throw new Error("Renderer is done, cannot .push() data");if(p(this,H)!==e)return p(this,H)===null&&e!==null&&this.lastNode.before(this.content),p(this,H).value=d.of(e),e===null&&(this.firstNode!==this.lastNode&&ur(this.firstNode,this.lastNode.previousSibling,this.content),this.lastNode.textContent=""),this.content}before(){let e=this.firstNode,r=this.lastNode;if(this.content.lastChild===r)throw new Error("Illegal LiteralTemplate.before() – template is not in the DOM");return this.content.firstChild===e?r.before.apply(r,arguments):e.before.apply(e,arguments)}remove(){let e=this.firstNode,r=this.lastNode;if(this.content.lastChild!==r){if(this.content.firstChild===e){this.content.appendChild(r);return}ur(e,r,this.content)}}};et=new WeakMap,Et=new WeakMap,H=new WeakMap,Ft=new WeakSet,lr=function(e){let{path:r,name:o,literal:n,message:i,template:s}=e,a=r?Wo(r,this.content):this.element,u=typeof o=="number"?r?a.childNodes[o]:this.content.childNodes[o]:o;return[p(this,H),n,this.parameters,a,u,e]},Vt=new WeakSet,fr=function(e){let r=kt.create(...e);return this.done(r),r};cr(Mt.prototype,{stop:kt.prototype.stop,done:kt.prototype.done});var T=class extends Mt{static isTemplate(e){return e instanceof LiteralTemplate}static of(e){let r=S("template",e);return new LiteralTemplate(r)}static compile(e,r,o){let n;return n=he(e,r),n}constructor(e,r=e.parentElement,o={},n,i=pr){let s=pt(e,"literal-"),a=cr({},i,{nostrict:e.hasAttribute&&e.hasAttribute("nostrict")}),u=LiteralTemplate.compile(e.content,a,{template:"#"+s});super(e.content.cloneNode(!0),u,r,o,n,a)}};export{f as a,c as b,d as c,R as d,S as e,Qt as f,at as g,Ge as h,Bt as i,uo as j,Z as k,ce as l,Ai as m,ne as n,se as o,T as p};
