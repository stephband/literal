/* Literal 
   0.5.2
   By Stephen
   Built 2022-04-23 22:37 */

function E(t){return t}function f(t,e){return function(){let r=t.apply(this,arguments),o=e[r]||e.default;if(!o)throw new Error('overload() no handler for "'+r+'"');return o.apply(this,arguments)}}function W(t){var e=new Map;return function(r){if(e.has(r))return e.get(r);var o=t(r);return e.set(r,o),o}}var Xn=Array.prototype;function Jn(t,e){return typeof t=="function"?t.apply(null,e):t}function Ce(t,e,n){n=n||t.length;var r=n===1?e?t:W(t):W(function(o){return Ce(function(){var i=[o];return i.push.apply(i,arguments),t.apply(null,i)},e,n-1)});return function o(i){return arguments.length===0?o:arguments.length===1?r(i):arguments.length>=n?t.apply(null,arguments):Jn(r(i),Xn.slice.call(arguments,1))}}var l=Ce;function d(){}var Yn=f(E,{is:d,tag:d,html:function(t,e,n){e.innerHTML=n},text:function(t,e,n){e.textContent=n},children:function(t,e,n){e.innerHTML="",n.forEach(r=>{e.appendChild(r)})},points:_,cx:_,cy:_,r:_,preserveAspectRatio:_,viewBox:_,default:function(t,e,n){t in e?e[t]=n:e.setAttribute(t,n)}});function _(t,e,n){e.setAttribute(t,n)}function Kn(t,e){for(var n=Object.keys(e),r=n.length;r--;)Yn(n[r],t,e[n[r]]);return t}var Vt=l(Kn,!0);var Qn="http://www.w3.org/2000/svg",Ae=document.createElement("div");var Pe=(t,e)=>e&&typeof e;function De(t,e){let n=document.createRange();return n.selectNode(t),n.createContextualFragment(e)}function T(t,e){var n=document.createElementNS(Qn,t);return e&&(n.innerHTML=e),n}var Zn=f(E,{comment:function(t,e){return document.createComment(e||"")},fragment:f(Pe,{string:function(t,e,n){if(n)return De(n,e);let r=document.createDocumentFragment();Ae.innerHTML=e;let o=Ae.childNodes;for(;o[0];)r.appendChild(o[0]);return r},object:function(t,e,n){let r=n?De(n):document.createDocumentFragment();return typeof e.length=="number"?r.append.apply(r,e):Vt(r,e),r},default:()=>document.createDocumentFragment()}),text:function(t,e){return document.createTextNode(e||"")},circle:T,ellipse:T,g:T,glyph:T,image:T,line:T,rect:T,use:T,path:T,pattern:T,polygon:T,polyline:T,svg:T,default:f(Pe,{string:function(t,e){let n=document.createElement(t);return n.innerHTML=e,n},object:function(t,e){let n=document.createElement(t);return typeof e.length=="number"?n.append.apply(n,e):Vt(n,e),n},default:t=>{if(typeof t!="string")throw new Error('create(tag, content) accepts only a string as tag "'+typeof t+'"');return document.createElement(t)}})}),w=Zn;function $t(t,e,n){let r;typeof n!="string"&&n.input!==void 0&&n.index!==void 0&&(r=n,n=r.input.slice(n.index+n[0].length+(n.consumed||0)));let o=t.exec(n);if(!o)return;let i=e(o);return r&&(r.consumed=(r.consumed||0)+o.index+o[0].length+(o.consumed||0)),i}var Ni=l($t,!0);function tr(t,e,n){throw n.input!==void 0&&n.index!==void 0&&(n=n.input),new Error('Cannot parse string "'+n+'"')}function er(t,e,n){let r=-1;for(;++r<n.length;)e=n[r]!==void 0&&t[r]?t[r](e,n):e;return t.done?t.done(e,n):t.close?t.close(e,n):e}function nr(t,e,n,r){let o=$t(t,i=>er(e,n,i),r);return o===void 0?e.catch?e.catch(n,r):tr(t,e,r):o}var at=l(nr,!0);var zt=d;var S=Symbol("internals"),G=Symbol("shadow"),Be=Object.defineProperties,rr={a:HTMLAnchorElement,dl:HTMLDListElement,p:HTMLParagraphElement,br:HTMLBRElement,fieldset:HTMLFieldSetElement,hr:HTMLHRElement,img:HTMLImageElement,li:HTMLLIElement,ol:HTMLOListElement,optgroup:HTMLOptGroupElement,q:HTMLQuoteElement,textarea:HTMLTextAreaElement,td:HTMLTableCellElement,th:HTMLTableCellElement,tr:HTMLTableRowElement,tbody:HTMLTableSectionElement,thead:HTMLTableSectionElement,tfoot:HTMLTableSectionElement,ul:HTMLUListElement},or={name:{set:function(t){return this.setAttribute("name",t)},get:function(){return this.getAttribute("name")||""}},form:{get:function(){return this[S].form}},labels:{get:function(){return this[S].labels}},validity:{get:function(){return this[S].validity}},validationMessage:{get:function(){return this[S].validationMessage}},willValidate:{get:function(){return this[S].willValidate}},checkValidity:{value:function(){return this[S].checkValidity()}},reportValidity:{value:function(){return this[S].reportValidity()}}},ir={},Le={once:!0},sr=0,ke=!1;function cr(t){return rr[t]||window["HTML"+t[0].toUpperCase()+t.slice(1)+"Element"]||(()=>{throw new Error('Constructor not found for tag "'+t+'"')})()}var ar=at(/^\s*<?([a-z][\w]*-[\w]+)>?\s*$|^\s*<?([a-z][\w]*)\s+is=["']?([a-z][\w]*-[\w]+)["']?>?\s*$/,{1:(t,e)=>({name:e[1]}),2:(t,e)=>({name:e[3],tag:e[2]}),catch:function(t,e){throw new SyntaxError(`dom element() – name must be of the form 'element-name' or 'tag is="element-name"' (`+e+")")}},null);function ur(t,e){if(t.hasOwnProperty(e)){let n=t[e];delete t[e],t[e]=n}return t}function lr(t,e){t._initialLoad=!0;let n=t.attachShadow({mode:e.mode||"closed",delegatesFocus:e.focusable||!1});if(e.stylesheet){let r=w("link",{rel:"stylesheet",href:e.stylesheet});n.append(r)}return t[G]=n,n}function pr(t){var e;if(t.attachInternals){if(e=t.attachInternals(),e.setFormValue)return e}else e={shadowRoot:t.shadowRoot};return e.input=w("input",{type:"hidden",name:t.name}),t.appendChild(e.input),e.setFormValue=function(n){this.input.value=n},e}function fr(t){t._initialAttributes={},t._n=0}function hr(t,e,n){let r=t._initialAttributes;for(;t._n<e.length&&r[e[t._n]]!==void 0;)n[e[t._n]].call(t,r[e[t._n]]),++t._n}function Re(t,e,n){if(!t._initialAttributes)return;let r=t._initialAttributes;for(;t._n<e.length;)r[e[t._n]]!==void 0&&n[e[t._n]]&&n[e[t._n]].call(t,r[e[t._n]]),++t._n;delete t._initialAttributes,delete t._n}function dr(t){return!!t.attribute}function mr(t){return t.set||t.get||t.hasOwnProperty("value")}function Ne(t,e){return dr(e[1])&&(t.attributes[e[0]]=e[1].attribute),mr(e[1])&&(t.properties[e[0]]=e[1]),t}function O(t,e,n){let{name:r,tag:o}=ar(t),i=typeof o=="string"?cr(o):HTMLElement,{attributes:s,properties:g}=n?Object.entries(n).reduce(Ne,{attributes:{},properties:{}}):e.properties?Object.entries(e.properties).reduce(Ne,{attributes:{},properties:{}}):ir;function p(){let a=Reflect.construct(i,arguments,p),y=e.construct&&e.construct.length>sr?lr(a,e):void 0,v=p.formAssociated&&pr(a);return o&&(ke=!0),e.construct&&e.construct.call(a,y,v),s&&(fr(a),Promise.resolve(1).then(function(){Re(a,p.observedAttributes,s)})),g&&Object.keys(g).reduce(ur,a),a}return p.prototype=Object.create(i.prototype,g),g&&g.value&&(p.formAssociated=!0,Be(p.prototype,or),(e.enable||e.disable)&&(p.prototype.formDisabledCallback=function(a){return a?e.disable&&e.disable.call(this,this[G],this[S]):e.enable&&e.enable.call(this,this[G],this[S])}),e.reset&&(p.prototype.formResetCallback=function(){return e.reset.call(this,this[G],this[S])}),e.restore&&(p.prototype.formStateRestoreCallback=function(){return e.restore.call(this,this[G],this[S])})),s&&(p.observedAttributes=Object.keys(s),p.prototype.attributeChangedCallback=function(a,y,v){if(!this._initialAttributes)return s[a].call(this,v);this._initialAttributes[a]=v,hr(this,p.observedAttributes,s)}),p.prototype.connectedCallback=function(){let a=this,y=a[G],v=a[S];if(a._initialAttributes&&Re(a,p.observedAttributes,s),a._initialLoad){let F=y.querySelectorAll('link[rel="stylesheet"]');if(F.length){let jn=0,jt=F.length,Oe=function(zn){++jn>=F.length&&(delete a._initialLoad,e.load&&(zt("element()","loaded",Array.from(F).map(In=>In.href).join(`
`)),e.load.call(a,y)))},Vn=Oe;for(;jt--;)F[jt].addEventListener("load",Oe,Le),F[jt].addEventListener("error",Vn,Le);e.connect&&e.connect.call(this,y,v)}else e.connect&&e.connect.call(this,y,v),e.load&&e.load.call(this,y,v)}else e.connect&&e.connect.call(this,y,v)},e.disconnect&&(p.prototype.disconnectedCallback=function(){return e.disconnect.call(this,this[G],this[S])}),zt("element()","<"+(o?o+" is="+r:r)+">"),window.customElements.define(r,p,o&&{extends:o}),o&&!ke&&document.querySelectorAll('[is="'+r+'"]').forEach(a=>{Be(a,g),e.construct&&e.construct.apply(a);let y;for(y in s){let v=a.attributes[y];v&&s[y].call(a,v.value)}e.connect&&e.connect.apply(a)}),p}function ut(t){return function(n,...r){var o=t[n]||t.default;return o&&o.apply(this,r)}}var j=Object.assign,V={headers:function(t){return{}},body:E,onresponse:function(t){if(t.redirected){window.location=t.url;return}return t}},gr=ut({"application/x-www-form-urlencoded":function(t){return j(t,{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"})},"application/json":function(t){return j(t,{"Content-Type":"application/json; charset=utf-8","X-Requested-With":"XMLHttpRequest"})},"multipart/form-data":function(t){return j(t,{"Content-Type":"multipart/form-data","X-Requested-With":"XMLHttpRequest"})},"audio/wav":function(t){return j(t,{"Content-Type":"audio/wav","X-Requested-With":"XMLHttpRequest"})},default:function(t){return j(t,{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"})}}),wr=ut({"application/json":function(t){return t.get?yr(t):JSON.stringify(t)},"application/x-www-form-urlencoded":function(t){return t.get?Ge(t):He(t)},"multipart/form-data":function(t){return t.get?t:br(t)}});function yr(t){return JSON.stringify(Array.from(t.entries()).reduce(function(e,n){return e[n[0]]=n[1],e},{}))}function Ge(t){return new URLSearchParams(t).toString()}function He(t){return Object.keys(t).reduce((e,n)=>(e.append(n,t[n]),e),new URLSearchParams)}function br(t){throw new Error("TODO: dataToFormData(data)")}function xr(t,e){return e instanceof FormData?t+"?"+Ge(e):t+"?"+He(e)}function vr(t,e,n,r){let o=typeof n=="string"?n:n&&n["Content-Type"]||"application/json",i=gr(o,j(V.headers&&e?V.headers(e):{},typeof n=="string"?{}:n)),s={method:t,headers:i,credentials:"same-origin",signal:r&&r.signal};return t!=="GET"&&(s.body=wr(o,V.body?V.body(e):e)),s}var Er={"text/html":Sr,"application/json":Tr,"multipart/form-data":Me,"application/x-www-form-urlencoded":Me,audio:It,"audio/wav":It,"audio/m4a":It};function It(t){return t.blob()}function Tr(t){return t.json().catch(e=>{throw new Error("Cannot parse JSON "+t.url+". "+e.message)})}function Me(t){return t.formData()}function Sr(t){return t.text()}function Or(t){if(V.onresponse&&(t=V.onresponse(t)),!t.ok)throw new Error(t.statusText+"");let e=t.headers.get("Content-Type").replace(/\;.*$/,"");return Er[e](t)}function Ue(t="GET",e,n,r="application/json"){if(e.startsWith("application/")||e.startsWith("multipart/")||e.startsWith("text/")||e.startsWith("audio/"))throw new Error("request(method, url, data, contenttype) parameter order has changed. You passed (method, contenttype, url, data).");t=t.toUpperCase(),t==="GET"&&n&&(e=xr(e,n));let o=vr(t,n,r,arguments[4]);return fetch(e,o).then(Or)}function $(t){return Ue("GET",t)}function tt(t){if(!/^#/.test(t))return $(t).then(r=>w("fragment",r));if(t.length<2)throw new Error("hash identifier empty "+t);let e=t.slice(1),n=document.getElementById(e);if(!n)throw new Error("template not found "+t);return n.content?n.content.cloneNode(!0):w("fragment",n.cloneNode(!0).childNodes)}var Cr=Object.assign,Ar=Object.defineProperties,Pr=Object.isExtensible,k=Symbol("observe");function Dr(t,e){let n=t.indexOf(e);return n>-1&&t.splice(n,1),t}var qe={[k]:{}};function lt(t,e){if(!t||!t.length)return 0;t=t.slice(0);for(var n=-1;t[++n];)t[n].push(e);return n}function Fe(t){this.observables={},this.gets=[],this.sets=void 0,this.target=t,this.observer=new Proxy(t,this),qe[k].value=this,Ar(t,qe)}Cr(Fe.prototype,{notify:function(t){lt(this.observables[t],this.target[t]),lt(this.sets,this.target)},listen:function(t,e){(t===null?this.sets||(this.sets=[]):this.observables[t]||(this.observables[t]=[])).push(e)},unlisten:function(t,e){let n=t===null?this.sets:this.observables[t];n&&Dr(n,e)},get:function(e,n,r){let o=e[n];if(typeof n=="symbol"||n==="__proto__")return o;let i=Object.getOwnPropertyDescriptor(e,n);(i?i.writable||i.set:o===void 0)&&lt(this.gets,n);let g=B(o);if(!g)return o;for(var p=-1;this.gets[++p];)this.gets[p].listen(n);return g},set:function(e,n,r,o){if(typeof n=="symbol"||n==="__proto__")return e[n]=r,!0;if(r=b(r),e[n]===r)return!0;let i=e.length;for(var s=-1;this.gets[++s];)this.gets[s].unlisten(n);return e[n]=r,n!=="length"&&e.length!==i&&lt(this.observables.length,e.length),this.notify(n),!0},deleteProperty:function(t,e){return typeof e=="symbol"||e==="__proto__"?(delete t[e],!0):(t.hasOwnProperty(e)&&(delete t[e],this.notify(e)),!0)}});function pt(t){return t&&Pr(t)&&!Node.prototype.isPrototypeOf(t)&&(typeof BaseAudioContext>"u"||!BaseAudioContext.prototype.isPrototypeOf(t))&&!(t instanceof Date)&&!(t instanceof RegExp)&&!(t instanceof Map)&&!(t instanceof WeakMap)&&!(t instanceof Set)&&!(window.WeakSet&&t instanceof WeakSet)&&!ArrayBuffer.isView(t)}function B(t){return t?t[k]?t[k].observer:pt(t)?new Fe(t).observer:void 0:void 0}function b(t){return t&&t[k]&&t[k].target||t}function z(t){return B(t)&&t[k]}function We(t,e){let n=e[k];n&&n.notify(t)}var Br=(t,e)=>{throw O.loading=!1,O.frame?cancelAnimationFrame(O.frame):O.removeAttribute("loading"),t};O("<include-html>",{construct:function(){this.promise=new Promise((t,e)=>{this.resolveSrc=t,this.rejectSrc=e}).catch(t=>Br(t,this))},connect:function(){this.loading&&(this.frame=requestAnimationFrame(()=>this.loading&&(this.frame=requestAnimationFrame(()=>this.loading&&this.setAttribute("loading",""))))),this.promise.then(t=>{this.loading=!1,this.replaceWith(t)})}},{loading:{value:!1,writable:!0},src:{attribute:function(t){if(!t)return this.rejectSrc(new Error('<include-html> source src="'+value+'" is empty'));this.loading=!0,this.resolveSrc(tt(t))}}});var Lr=/\.([\w-]+)(?:#|\?|$)/;var kr=[],R=f(t=>(Lr.exec(t)||kr)[1],{js:t=>import(t[0]==="."?new URL(t,window.location):t).then(n=>n.default),default:W(t=>$(t))});function Xt(t){var e=t.id;if(!e){do e=Math.ceil(Math.random()*1e5);while(document.getElementById(e));t.id=e}return e}function ft(t){return t.nodeType===3}var Rr={1:"element",3:"text",8:"comment",9:"document",10:"doctype",11:"fragment"};function Jt(t){return Rr[t.nodeType]}function Nr(t,e,n){let r=t(e),o=t(n);return o===r?0:r>o?1:-1}var _e=l(Nr,!0);function je(t,e){if(t===e)return!0;if(t===null||e===null||typeof t!="object"||typeof e!="object")return!1;let n=Object.keys(t),r=Object.keys(e),o=n.length;for(;o--;){if(t[n[o]]===void 0){if(e[n[o]]!==void 0)return!1}else if(!e.hasOwnProperty(n[o])||!je(t[n[o]],e[n[o]]))return!1;let i=r.indexOf(n[o]);i>-1&&r.splice(i,1)}for(o=r.length;o--;)if(e[r[o]]===void 0){if(t[r[o]]!==void 0)return!1}else return!1;return!0}var Ve=l(je,!0);function Mr(t,e){let n;for(n in t)if(t[n]!==e[n])return!1;return!0}var $e=l(Mr,!0);var Gr=Object.defineProperties,Hr=Object.freeze;function ze(){return this}var A=Hr(Gr([],{shift:{value:d},push:{value:d},each:{value:d},forEach:{value:d},start:{value:d},stop:{value:d},done:{value:d},join:{value:function(){return""}},map:{value:ze},filter:{value:ze},reduce:{value:function(t,e){return e}}}));var Ie=/\.?([\w-]+)/g;function Ur(t,e,n){var r=t.exec(e);if(!r)throw new Error('getPath(path, object): invalid path "'+e+'" at index '+t.lastIndex);return Xe(t,e,n[r[1]])}function Xe(t,e,n){return t.lastIndex===e.length?n:n?Ur(t,e,n):void 0}function qr(t,e){return Ie.lastIndex=0,Xe(Ie,t,e)}var ht=l(qr,!0);function Yt(t){if(t=typeof t=="number"?t+"":t.trim(),typeof t=="string")return t.toLowerCase().replace(/^[\W_]+/,"").replace(/[\W_]+$/,"").replace(/[\W_]+/g,"-")}function Kt(t){if(typeof t.length=="number")return t[t.length-1]}function et(t){return typeof t}var Fr=/^\s*([+-]?\d*\.?\d+)([^\s\d]*)\s*$/;function Wr(t,e){if(typeof e=="number")return e;var n=Fr.exec(e);if(!n||!t[n[2]||""]){if(!t.catch)throw new Error('Cannot parse value "'+e+'" with provided units '+Object.keys(t).join(", "));return n?t.catch(parseFloat(n[1]),n[2]):t.catch(parseFloat(e))}return t[n[2]||""](parseFloat(n[1]))}var Je=l(Wr);var _r=/px$/,Ye={"transform:translateX":function(t){var e=nt("transform",t);if(!e||e==="none")return 0;var n=dt(e);return parseFloat(n[4])},"transform:translateY":function(t){var e=nt("transform",t);if(!e||e==="none")return 0;var n=dt(e);return parseFloat(n[5])},"transform:scale":function(t){var e=nt("transform",t);if(!e||e==="none")return 0;var n=dt(e),r=parseFloat(n[0]),o=parseFloat(n[1]);return Math.sqrt(r*r+o*o)},"transform:rotate":function(t){var e=nt("transform",t);if(!e||e==="none")return 0;var n=dt(e),r=parseFloat(n[0]),o=parseFloat(n[1]);return Math.atan2(o,r)}};function dt(t){return t.split("(")[1].split(")")[0].split(/\s*,\s*/)}function nt(t,e){return window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):0}function mt(t,e){if(Ye[t])return Ye[t](e);var n=nt(t,e);return typeof n=="string"&&_r.test(n)?parseFloat(n):n}var gt,wt;function Ke(){if(!gt){let t=document.documentElement.style.fontSize;document.documentElement.style.fontSize="100%",gt=mt("font-size",document.documentElement),document.documentElement.style.fontSize=t||""}return gt}function Qe(){return wt||(wt=mt("font-size",document.documentElement)),wt}window.addEventListener("resize",()=>{gt=void 0,wt=void 0});var I=f(et,{number:E,string:Je({em:function(t){return Ke()*t},px:function(t){return t},rem:function(t){return Qe()*t},vw:function(t){return window.innerWidth*t/100},vh:function(t){return window.innerHeight*t/100},vmin:function(t){return window.innerWidth<window.innerHeight?window.innerWidth*t/100:window.innerHeight*t/100},vmax:function(t){return window.innerWidth<window.innerHeight?window.innerHeight*t/100:window.innerWidth*t/100}})});function Ze(t){return I(t)/Ke()}function tn(t){return I(t)/Qe()}function en(t){return 100*I(t)/window.innerWidth}function nn(t){return 100*I(t)/window.innerHeight}var jr=Object.assign;function Vr(t){return t.stop?t.stop():t()}function $r(t){t.forEach(Vr),t.length=0}function X(){}jr(X.prototype,{stop:function(){return this.stopables&&$r(this.stopables),this},done:function(e){return(this.stopables||(this.stopables=[])).push(e),this}});var zr=Object.assign;function yt(t){X.prototype.stop.apply(t);let e=-1,n;for(;n=t[++e];)t[e]=void 0,yt(n)}function m(){}zr(m.prototype,{pipe:function(t){this[0]=t},stop:function(){yt(this[0])}});function Qt(t){return t&&t[Symbol.iterator]}var Ir=Array.prototype,Xr=Object.assign;function H(t){this.buffer=t}Xr(H.prototype,m.prototype,{pipe:function(t){for(this[0]=t;this.buffer.length;)t.push(Ir.shift.apply(this.buffer))}});var Jr=Object.assign;function bt(t){this.promise=t}Jr(bt.prototype,m.prototype,{pipe:function(t){let e=this.promise;this[0]=t,e.then(n=>this[0].push(n)).finally(n=>this.stop())},stop:function(){m.prototype.stop.apply(this,arguments),this[0]=A}});var L=Object.assign,U=Object.create;function xt(t,e){e!==void 0&&t[0].push(e)}function Yr(t,e){if(t[1]){let n=-1;for(;t[++n]&&t[n]!==e;);for(;t[n++];)t[n-1]=t[n];yt(e)}else t.stop()}function h(t){this.input=t}L(h,{of:function(){return new h(new H(arguments))},from:function(t){return t.pipe?new h(t):t.then?new h(new bt(t)):new h(new H(t))}});L(h.prototype,X.prototype,{push:function(t){xt(this,t)},pipe:function(t){if(this[0])throw new Error("Stream: Attempt to .pipe() a unicast stream multiple times. Create a multicast stream with stream.broadcast().");return this[0]=t,this.input.pipe(this),t},map:function(t){return new rn(this,t)},filter:function(t){return new on(this,t)},flatMap:function(t){return new sn(this,t)},take:function(t){return new cn(this,t)},each:function(t){return new ln(this,t)},reduce:function(t,e){return new an(this,t,e)},scan:function(t,e){return new un(this,t,e)},stop:function(){return Yr(this.input,this),this}});function rn(t,e){this.input=t,this.fn=e}rn.prototype=L(U(h.prototype),{push:function(e){let n=this.fn;xt(this,n(e))}});function on(t,e){this.input=t,this.fn=e}on.prototype=L(U(h.prototype),{push:function(e){this.fn(e)&&xt(this,e)}});function sn(t,e){this.input=t,this.fn=e}sn.prototype=L(U(h.prototype),{push:function(e){let r=this.fn(e);if(r!==void 0)if(Qt(r))for(let o of r)xt(this,o);else throw new Error("Stream: Cannot .flatMap() non-iterable values")}});function cn(t,e){this.input=t,this.count=e}cn.prototype=L(U(h.prototype),{push:function(e){this[0].push(e),--this.count||this.stop()}});function an(t,e,n){this.input=t,this.fn=e,this.value=n}an.prototype=L(U(h.prototype),{push:function(t){let e=this.fn;this.value=e(this.value,t)}});function un(t,e,n){this.input=t,this.fn=e,this.value=n}un.prototype=L(U(h.prototype),{push:function(t){let e=this.fn;this.value=e(this.value,t),this[0].push(this.value)}});function ln(t,e){this.input=t,this.push=e,t.pipe(this)}ln.prototype=L(U(h.prototype),{each:null,pipe:null});var Kr=Object.assign,Qr=Object.create;function rt(t,e){h.apply(this,arguments),this.memory=!!(e&&e.memory),e&&e.live&&this.pipe(A)}rt.prototype=Kr(Qr(h.prototype),{push:function(t){if(t!==void 0){this.memory&&(this.value=t);let e=-1;for(;this[++e];)this[e].push(t)}},pipe:function(t){let e=-1;for(;this[++e];);return this[e]=t,this.value!==void 0&&t.push(this.value),e===0&&this.input.pipe(this),t}});var fn=Object.assign,hn=Object.keys;function pn(t,e,n){let r=t.values,o=t.names,i=t[0];r[e]=n,(t.active||(t.active=hn(r).length===o.length))&&i.push(fn({},r))}function vt(t){this.sources=t}fn(vt.prototype,m.prototype,{pipe:function(t){let e=this.sources;this.values={},this.names=hn(e),this.active=!1,this[0]=t;for(let n in e){let r=e[n];r.each?t.done(r.each(o=>pn(this,n,o))):r.then?r.then(o=>pn(this,n,o)):console.log("Todo: combine() raw values ?")}}});var Zr=Object.assign;function Et(t){this.inputs=t}Zr(Et.prototype,m.prototype,{pipe:function(t){let e=this.inputs;this[0]=t;let n=-1,r;for(;r=e[++n];)if(r.each)r.pipe(t);else if(r.then)r.then(o=>t.push(o));else{let o=-1;for(;++o<r.length;)t.push(r[o])}}});var te=Array.prototype,to=Object.assign;function eo(t){return t.length>0}function no(t,e,n){return t[n]=e.shift(),t}function ro(t){return[]}function Zt(t,e,n,r){n.push(r),e.every(eo)&&t.push(e.reduce(no,{}))}function Tt(t){this.inputs=t,this.buffers=te.map.call(t,ro)}to(Tt.prototype,m.prototype,{pipe:function(t){let e=this.inputs,n=this.buffers;this[0]=t,te.forEach.call(e,(r,o)=>{let i=n[o];r.each?t.done(r.each(s=>Zt(t,n,i,s))):r.then?r.then(s=>Zt(t,n,i,s)):te.forEach.call(r,s=>Zt(t,n,i,s))})}});var dn=Object.assign,N=dn(h,{broadcast:function(e){return new rt(new H(A),e)},combine:function(e){return new h(new vt(e))},merge:function(){return new h(new Et(arguments))},zip:function(){return new h(new Tt(arguments))}});dn(h.prototype,{broadcast:function(t){return new rt(this,t)}});var mn=Object.assign,ee=/(^\.?|\.)\s*([\w-]*)\s*/g;function oo(t){this.producer.push(t)}function ne(t,e,n,r){ee.lastIndex=e;let o=ee.exec(t);this.path=t,this.target=n,this.producer=r,this.key=o[2]||o[1],this.index=ee.lastIndex,this.isMuteableObserver=this.path.slice(this.index)===".",this.index>=this.path.length&&(this.push=oo),this.listen(),this.push(this.key==="."?this.target:this.target[this.key])}mn(ne.prototype,{push:function(t){pt(t)?this.child?this.child.relisten(t):this.child=new ne(this.path,this.index,t,this.producer):(this.child&&(this.child.stop(),this.child=void 0),this.producer.push(this.isMuteableObserver?t:void 0))},listen:function(){let t=z(this.target);t&&t.listen(this.key==="."?null:this.key,this)},unlisten:function(){z(this.target).unlisten(this.key==="."?null:this.key,this)},relisten:function(t){this.unlisten(),this.target=t,this.listen(),this.push(this.target[this.key])},stop:function(){this.unlisten(),this.child&&this.child.stop(),this.child=void 0}});function io(t,e){t[0].push(e)}function gn(t,e,n){this.path=t,this.target=e,this.value=n}mn(gn.prototype,m.prototype,{push:function(t){this.value===t&&(!this.isMutationProducer||!pt(t))||(this.value=t,io(this[0],t))},pipe:function(t){this[0]=t,this.pathObserver=new ne(this.path,0,this.target,this),this.isMutationProducer=this.path[this.path.length-1]==="."},stop:function(){this.pathObserver.stop(),m.prototype.stop.apply(this,arguments)}});function J(t,e,n){let r=b(e),o=b(n);return new N(new gn(t,r,o))}var so=Object.assign,wn=Object.entries,re={assign:so,by:_e,capture:at,ceil:Math.ceil,define:Object.defineProperties,entries:wn,equals:Ve,floor:Math.floor,get:ht,id:E,keys:Object.keys,last:Kt,matches:$e,noop:d,notify:We,observe:J,Observer:B,overload:f,print:d,round:Math.round,paramify:function(t){let e=typeof t=="object"&&typeof t.length!="number"?wn(t).flatMap(n=>n[1]===void 0?A:n[1]&&typeof n[1]=="object"&&n[1].map?n[1].map(r=>[n[0],r]):[n]):t;return new URLSearchParams(e)},slugify:Yt,Stream:N,translate:function(t){return window.translations&&window.translations[t]||t},values:Object.values,px:I,em:Ze,rem:tn,vw:en,vh:nn,combine:function(){throw new Error("combine() is now Stream.combine()")},merge:function(){throw new Error("merge() is now Stream.merge()")},zip:function(){throw new Error("zip() is now Stream.zip()")}},C=re;function q(t,e){if(re[t])throw new Error('Literal: function "'+t+'" already registered');return re[t]=e,e}function co(t,e){return e[t]}var oe=l(co,!0);function ao(t){let e=t[0];return/^\w/.test(e)}function ie(t={},e,n,r){let o=Object.entries(t).filter(ao),i=o.map(oe(0)),s=o.map(oe(1));return r?new Function(...i,"return ("+e+") => {"+(n||"")+"}").apply(r,s):new Function(...i,"return function("+e+"){"+(n||"")+"}").apply(null,s)}var c={Totals:{template:0,text:0,attribute:0,boolean:0,class:0,checked:0,value:0}},M={count:0};var yn="  ",St={};function x(t,e,n,r,o,i){if(typeof n!="string")throw new Error("Template is not a string");let s=r||n;if(St[s])return St[s];let g=`
`+(r?yn+"// Template #"+r+`
`:"")+yn+"return this.compose`"+n+"`;\n";if(!1)try{}catch(p){}return St[s]=ie(t,e,g)}var uo=/\s*(\([\w,\s]*\))/,lo=/function(?:\s+\w+)?\s*(\([\w,\s]*\))/,P=f(et,{boolean:t=>t+"",function:t=>t.prototype?(t.name||"function")+(lo.exec(t.toString())||[])[1]:(uo.exec(t.toString())||[])[1]+" ⇒ {…}",number:t=>Number.isNaN(t)?"":Number.isFinite(t)?t+"":t<0?"-∞":"∞",string:E,symbol:t=>t.toString(),undefined:t=>"",object:f(t=>t&&t.constructor.name,{RegExp:t=>"/"+t.source+"/",null:()=>"",default:t=>JSON.stringify(t,null,2)}),default:JSON.stringify});function se(t,e){t.remove&&t.remove(e);let n;for(;(n=t.indexOf(e))!==-1;)t.splice(n,1);return e}var Qc=l(se,!0);var po=Object.assign,fo=Object.values;function ho(t){t.stop()}function ce(t,e,n){this.children={},this.target=b(t),this.path=e,this.root=n}po(ce.prototype,m.prototype,{pipe:function(t){this[0]=this.root=t,z(this.target).gets.push(this)},listen:function(t){if(this.children[t])return;let e=this.path?this.path+".":"";this.children[t]=new ce(this.target[t],e+t,this.root)},unlisten:function(t){!this.children[t]||(this.children[t].stop(),delete this.children[t])},fn:function(t){let e=this.path?this.path+".":"";this.root.push(e+t)},stop:function(){se(z(this.target).gets,this),fo(this.children).forEach(ho),this[0]&&m.prototype.stop.apply(this,arguments)}});function ae(t){return new N(new ce(t,""))}var ot=[],bn=Promise.resolve(ot);var Ot;function mo(t){for(var e,n,r,o=0;r=t.shift();)o+=r.render.apply(r,r.cuedArguments),r.cuedArguments=void 0,r.cued=!1;Ot=void 0}function Ct(t,e){return t.cuedArguments=e,t.cued?bn:(Ot||(Ot=bn.then(mo)),ot.push(t),t.cued=!0,Ot)}function At(t){if(!ot.length||!t.cued)return;let e=ot.indexOf(t);e>0&&ot.splice(e,1),t.cuedArguments=void 0,t.cued=!1}var go=Object.assign,xn=Object.keys,wo=t=>t&&typeof t=="object"&&t.then,it=t=>t.reduce((e,n)=>n===""||n===void 0?e:e+n);function yo(t,e,n){return t&&typeof t=="object"?t.then?t.then(r=>e===""?r:e+r):t.find?t.find(wo)?Promise.all(t).then(r=>e===""?it(r.map(n)):e+it(r.map(n))):e===""?it(t.map(n)):e+it(t.map(n)):e===""?n(t):e+n(t):e===""?n(t):e+n(t)}function Y(t){let e=t[0];return it(e.map((n,r)=>r<=t.length?yo(t[r+1],n,P):n===""?void 0:n))}function Bt(t,e){let n=e,r=0;for(;n&&n!==t;){let o=n.previousSibling;n.remove(),n=o,++r}return t.remove(),++r,r}var Pt=[],ue="-fns";function vn(t){let e=t+ue;return function(r){if(this.status===t){r();return}(this[e]||(this[e]=[])).push(r)}}function bo(t,e){return e[t]?e[t]():e(),t}function xo(t,e){let n=t[1],r=t[3];return e[n]&&e[n](r),t}function Dt(t,e,n,r){if(t.status===n)return;t.status=n;let o=t.contents;o&&o.reduce(xo,arguments);let i=t[n+ue];return i&&i.reduce(bo,e),t}function vo(t){return t.stop?t.stop():t()}function Eo(t,e){if(!t.includes(e)){for(var n;(n=t[t.length-1])&&n.length<e.length&&e.startsWith(n);)--t.length;t.push(e)}}function To(t,e){let n=t.indexOf(e);return n>-1&&t.splice(n,1),t}function En(t,e){return t[e].stop(),delete t[e],t}function So(t,e){let n=t.data,r=t.observables;if(!r[e]){let o=ht(e,n);r[e]=J(e,n,o).each(i=>t.push(n))}return t}function u(t,e,n){this.element=n||t,this.node=t,this.path=e.path,this.id=++M.count,this.count=0,this.template=e.template,this.observables={}}go(u.prototype,{push:function(t){return Ct(this,arguments)},render:function(e){let n=this["stop"+ue];n&&(n.forEach(vo),n.length=0),Pt.length=0;let r=b(e),o=B(r),i=r?ae(r).each(g=>Eo(Pt,g)):A;this.data=r,++this.count;let s=this.literally(o,this.element,this.include);return i.stop(),Pt.reduce(To,xn(this.observables)).reduce(En,this.observables),Pt.reduce(So,this),s},connected:vn("dom"),connect:function(){Dt(this,"connect","dom")},done:vn("done"),stop:function(){return At(this),xn(this.observables).reduce(En,this.observables),Dt(this,"stop","done"),this}});var Tn="READONLY",Lt={"accept-charset":"acceptCharset",accesskey:"accessKey",cellpadding:"cellPadding",cellspacing:"cellSpacing",codebase:"codeBase",colspan:"colSpan",datetime:"dateTime",for:"htmlFor",form:Tn,formaction:"formAction",formenctype:"formEnctype",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",href:Tn,httpequiv:"httpEquiv",longdesc:"longDesc",maxlength:"maxLength",minlength:"minLength",nohref:"noHref",noresize:"noResize",noshade:"noShade",nowrap:"noWrap",novalidate:"noValidate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",tfoot:"tFoot",thead:"tHead",usemap:"useMap",valign:"vAlign",valuetype:"valueType"};var Oo=Object.assign;function Co(t,e,n){let r=Lt[e]||e;return r in t&&t[r]!==n?(t[r]=n,1):n===t.getAttribute(e)?0:(t.setAttribute(e,n),1)}function kt(t,e){u.apply(this,arguments),this.name=e.name,this.literally=e.literally||x(C,"data, element",e.source,null,e,this.element);let n="#"+e.template;++c[n].attribute||(c[n].attribute=1),++c.Totals.attribute}Oo(kt.prototype,u.prototype,{compose:function(){let t=Y(arguments);return Co(this.node,this.name,t)}});var Ao=Object.assign;function Po(t,e,n){let r=Lt[e]||e;if(r in t){if(!!n===t[r])return 0;t[r]=!!n}else n?t.setAttribute(e,e):t.removeAttribute(e);return 1}function Rt(t,e){u.apply(this,arguments),this.name=e.name,this.literally=e.literally||x(C,"data, element",e.source,null,e,this.element),t.removeAttribute(this.name);let n="#"+e.template;++c[n].boolean||(c[n].boolean=1),++c.Totals.boolean}Ao(Rt.prototype,u.prototype,{compose:function(){let t=Y(arguments);return Po(this.node,this.name,t)}});function le(t){return!!t||t!=null&&!Number.isNaN(t)}var pe=Object.assign,Do=window.CustomEvent,fe={bubbles:!0,cancelable:!0};function he(t,e){let n;typeof t=="object"&&(n=pe({},fe,t),t=n.type,delete n.type),e&&e.detail&&(n?n.detail=e.detail:n=pe({detail:e.detail},fe));var r=new Do(t,n||fe);return e&&(delete e.detail,pe(r,e)),r}function Bo(t,e){let n;typeof t=="object"&&(n=t,t=n.type,delete n.type);let r=he(t,n);return e.dispatchEvent(r)}var K=l(Bo,!0);var Q={changeEvent:"dom-update"};var Lo=Object.assign,ko=/^\s*$/;function Ro(t){return!ko.test(t)}function No(t){return""+t}function Mo(t,e,n){let r=typeof e=="boolean"?e:n?t.type==="checkbox"&&e&&e.map?e.map(No).includes(t.value):e+""===t.value:!!e;return r===t.checked?0:(t.checked=r,Q.changeEvent&&K(Q.changeEvent,t),1)}function Nt(t,e){u.apply(this,arguments),this.name="checked",this.literally=e.literally||x(C,"data, element",e.source,null,e,this.element),this.hasValue=le(t.getAttribute("value")),t.removeAttribute("checked");let n="#"+e.template;++c[n].checked||(c[n].checked=1),++c.Totals.checked}Lo(Nt.prototype,u.prototype,{compose:function(e,n){if(arguments.length!==2||e.find(Ro))throw new Error("A checked attribute may contain only one ${ tag }, optionally surrounded by white space");return Mo(this.node,n,this.hasValue)}});function de(t,e,n){if(typeof t=="string"&&!/^#/.test(t))throw new Error("include() external url not yet supported, #fragment identifiers only");let r=new D(typeof t=="string"?t.slice(1):t,n);if(typeof e=="string")return R(e).then(i=>r.push(i)).then(()=>r);let o=b(e);return o&&o.then?o.then(i=>r.push(i)).then(()=>r):r.push(o||{}).then(()=>r)}var me=Object.assign;function ge(t){return!!t.each}function Go(t){t&&t.connect&&t.connect()}function Sn(t){t.remove()}function Ho(t){t&&t.stop&&t.stop()}function we(t){let e=this;return!t||typeof t!="object"?w("text",P(t)):t instanceof Node||t instanceof D?t:typeof t.length=="number"?new Gt(t):t instanceof Promise?new st(t,e):ge(t)?new Ht(t):w("text",P(t))}function Mt(t){return t&&typeof t=="object"&&t.content?Mt(t.content):t}function Gt(t){this.id=++M.count,this.contents=t.map(we,this),this.content=w("fragment",""),this.first=w("text",""),this.content.append(this.first),this.content.append.apply(this.content,this.contents.map(Mt))}me(Gt.prototype,{replaceWith:function(t){this.stop(),this.contents.forEach(Sn),this.first.replaceWith.apply(this.first,arguments)},remove:function(){this.contents.forEach(Sn),this.first.remove()},stop:function(){this.status!=="done"&&(this.status="done",this.contents.forEach(Ho))},connect:function(){this.status!=="dom"&&(this.status="dom",this.contents.forEach(Go))}});function st(t,e){this.id=++M.count,this.parent=e,this.content=w("text",""),t.then(n=>this.push(n)).catch(n=>this.print(n)).finally(()=>this.stop())}me(st.prototype,{push:function(t){this.status!=="done"&&Ct(this,arguments)},render:function(t){let e=we(t),n=Mt(e);return this.content.replaceWith(n),this.parent.content=e,this.stop(),this.parent.status==="dom"&&e.connect&&e.connect(),1},replaceWith:function(t){this.content.replaceWith(t)},print:function(){this.content.remove()},remove:function(){this.content.remove()},stop:function(){this.status="done"},connect:function(){this.status="dom"}});function Ht(t){this.id=++M.count,this.parent=parent,this.content=w("text",""),this.stream=t,t.pipe(this)}me(Ht.prototype,st.prototype,{render:function(t){let e=we.call(this,t),n=Mt(e);return this.content.stop&&this.content.stop(),this.content.replaceWith(n),this.content=e,this.status==="dom"&&e.connect&&e.connect(),1},stop:function(){this.status!=="done"&&(this.status="done",this.stream.stop&&this.stream.stop(),this.content.stop&&this.content.stop())},connect:function(){this.status!=="dom"&&(this.status="dom",this.content.connect&&this.content.connect())}});var Uo=Object.assign;function qo(t){let e=this;return!t||typeof t!="object"?P(t):t instanceof Node||t instanceof D?t:typeof t.length=="number"?new Gt(t):t instanceof Promise?new st(t,e):ge(t)?new Ht(t):P(t)}function Fo(t,e,n){let r=t.contents,o=qo.call(t,n);return typeof o=="string"?e+o:(e&&r.push(e),r.push(o),"")}function Ut(t,e){return t.nodeValue!==e?(t.nodeValue=e,1):0}function On(t){t&&typeof t=="object"&&t.stop&&t.stop()}function Cn(t){return typeof t=="string"?t:t.content?Cn(t.content):t}function Wo(t,e,n,r){let o=0,i=n.map(Cn);return t.nextSibling&&e.previousSibling!==t&&(o+=Bt(t.nextSibling,e.previousSibling)),typeof n[0]=="string"?o+=Ut(t,i.shift()):o+=Ut(t,""),typeof i[i.length-1]=="string"?o+=Ut(e,i.pop()):o+=Ut(e,""),i.length&&(t.after.apply(t,i),r==="dom"&&n.forEach(s=>typeof s=="object"&&s.connect&&s.connect()),o+=n.length),o}function ct(t,e,n){u.apply(this,arguments),this.first=t,this.last=document.createTextNode(""),this.first.after(this.last),this.contents=[],this.literally=e.literally||x(C,"data, element, include",e.source,null,e,n),this.include=l((o,i)=>de(o,i,n));let r="#"+e.template;++c[r].text||(c[r].text=1),++c.Totals.text}Uo(ct.prototype,u.prototype,{push:function(){return this.contents.forEach(On),this.contents.length=0,u.prototype.push.apply(this,arguments)},render:function(t){return this.contents.forEach(On),this.contents.length=0,u.prototype.render.call(this,t,this.element,this.include)},compose:function(t){let e=-1,n="";for(;t[++e]!==void 0;)n=Fo(this,n+t[e],arguments[e+1]);return n&&this.contents.push(n),Wo(this.first,this.last,this.contents,this.status)}});var _o=Array.prototype,jo=Object.assign,Vo=[],$o=f((t,e)=>e,{class:t=>t.classList});function zo(t){return t&&typeof t=="object"&&t.length!==void 0?t.join(" "):P(t)}function Io(t,e,n,r){let o=e.length;for(;o--;)n.includes(e[o])&&e.splice(o,1);return e.length&&(t.remove.apply(t,e),++r),n.length&&(t.add.apply(t,n),++r),r}function qt(t,e){u.apply(this,arguments),this.name=e.name,this.list=$o(t,e.name),this.tokens=Vo,this.literally=e.literally||x(C,"data, element",e.source,null,e,t),t.setAttribute(this.name,"");let n="#"+e.template;++c[n].class||(c[n].class=1),++c.Totals.class}jo(qt.prototype,u.prototype,{compose:function(t){let e=0;if(this.count===1){let r=t.join(" ").trim().split(/\s+/);this.list.add.apply(this.list,r),++e}let n=_o.slice.call(arguments,1).map(zo).filter(r=>!!r);return e=Io(this.list,this.tokens,n,e),this.tokens=n,e}});var Dn=Object.assign,An=/^\s*$/,Xo={number:"number",range:"number"};function Pn(t,e){return t===void 0?e:t+e}function Jo(t){let e=t[0],n=An.test(e[0])?void 0:e[0],r=0;for(;e[++r]!==void 0;)n=Pn(n,t[r]),An.test(e[r])||(n=Pn(n,e[r]));return n}function Yo(t,e){if(e===null)throw new Error("VALUE");return t.value=e,1}function Bn(t,e){if(document.activeElement===t)return 0;let n=Xo[t.type];if(e=n===void 0||typeof e===n?e:null,e===t.value||e+""===t.value)return 0;let r=Yo(t,e);return Q.changeEvent&&K(Q.changeEvent,t),r}function Ft(t,e){u.apply(this,arguments),this.name="value",this.literally=e.literally||x(C,"data, element",e.source,null,e,t);let n="#"+e.template;++c[n].value||(c[n].value=1),++c.Totals.value}Dn(Ft.prototype,u.prototype,{compose:function(){let t=Jo(arguments);return Bn(this.node,t)}});function ye(t,e){u.apply(this,arguments),this.name="value",this.literally=e.literally||x(C,"data, element",e.source,null,e,t);let n="#"+e.template;++c[n].value||(c[n].value=1)}Dn(ye.prototype,u.prototype,{compose:function(){let t=Y(arguments);return Bn(this.node,t)}});var Ln=document.createElement("textarea");function Wt(t){return Ln.innerHTML=t,Ln.value}var Ko=Array.prototype,ve=/\$\{/;function Z(t,e,n,r,o,i){!r||!ve.test(r)||(i.source=r,i.name=o,t.push(new e(n,i)))}function kn(t,e,n,r){Z(t,kt,n,r.value,r.localName,e)}function be(t,e,n,r){Z(t,Rt,n,r.value,r.localName,e)}function Qo(t,e,n,r){Z(t,qt,n,r.value,r.localName,e)}function Zo(t,e,n,r){Z(t,Ft,n,r.value,"value",e)}function xe(t,e,n,r){Z(t,ye,n,r.value,"value",e)}var ti=f((t,e,n,r)=>r.localName,{checked:function(e,n,r,o){Z(e,Nt,r,o.value,"checked",n)},class:Qo,datetime:function(e,n,r,o){},disabled:be,hidden:be,"inner-content":function(t,e,n,r){let o=r.value;!o||!ve.test(o)||(n.removeAttribute(r.localName),e.source=Wt(o),e.name="innerHTML",t.push(new ct(n,e,parent)))},required:be,value:f((t,e,n,r)=>""+n.type,{text:xe,search:xe,"select-one":xe,default:Zo,undefined:kn}),default:kn});function ei(t,e,n){let r=Ko.slice.apply(n.attributes);for(var o=-1,i;i=r[++o];)ti(t,e,n,i)}function Nn(t,e,n,r){let o=n.childNodes;if(o){let i=e.path,s=-1;for(;o[++s];)e.path=i?i+"."+s:""+s,Mn(t,e,o[s],r);e.path=i}return t}var Rn=f((t,e,n)=>n.tagName.toLowerCase(),{defs:d,default:(t,e,n)=>(Nn(t,e,n,n),ei(t,e,n),t)}),Mn=f((t,e,n)=>Jt(n),{comment:d,element:Rn,fragment:Nn,text:(t,e,n,r)=>{let o=n.nodeValue;return o&&ve.test(o)&&(e.source=Wt(o),e.name=null,t.push(new ct(n,e,r))),t},doctype:d,document:(t,e,n)=>(Rn(t,e,n.documentElement),t),default:()=>{throw new Error("Node not compileable")}}),Gn=Mn;var ni=Object.assign,_t={};function ri(t,e){return/^[a-zA-Z]/.test(e)?t:t.childNodes[e]}function oi(t,e){let n=t&&t.split(/\./);return t?n.reduce(ri,e):e}function Hn(t){if(!ft(t))return!1;let e=t.nodeValue;return/^\s*/.exec(e)[0].length===e.length}function ii(t){let e=t.childNodes[0],n=t.childNodes[t.childNodes.length-1];Hn(e)||t.prepend(document.createTextNode("")),Hn(n)||t.append(document.createTextNode(""))}function si(t){let e=oi(t.path,this.content),n=ft(e)?/\./.test(t.path)?e.parentNode:this.element:e;return new t.constructor(e,t,n)}function D(t,e){let n=typeof t=="string"?t:Xt(t);if(this.id=++M.count,this.element=e,_t[n]){let r=_t[n].template;this.template=r,this.content=r.content?r.content.cloneNode(!0):r.cloneNode(!0),this.first=this.content.childNodes[0],this.last=this.content.childNodes[this.content.childNodes.length-1],this.contents=_t[n].contents.map(si,this),++c["#"+n].template,++c.Totals.template;return}t=typeof t=="string"?document.getElementById(t[0]==="#"?t.slice(1):t):t,t.content&&ii(t.content),this.template=t;try{this.content=t.content?t.content.cloneNode(!0):t.cloneNode(!0)}catch(r){throw console.log(t,t.content),r}this.first=this.content.childNodes[0],this.last=this.content.childNodes[this.content.childNodes.length-1],c["#"+n]={template:1},++c.Totals.template,this.contents=Gn([],{template:n,path:""},this.content,e),_t[n]=this}ni(D.prototype,u.prototype,{push:function(t){let e=t?b(t):null;return e===this.data?Promise.reject("Attempt to render with same object as last render"):(this.data=e,u.prototype.push.apply(this,arguments))},render:function(t){if(!t){let i=[],s=this.first;for(;s!==this.last;)s=s.nextSibling,i.push(s);return this.content.append.apply(this.content,i),i.length}let e=b(t),n=B(e),r=this.contents;var o=0;return r.forEach(i=>o+=i.render(n)),this.content.firstChild&&this.first!==this.content.firstChild&&(this.first.after(this.content),++o),o},remove:function(){return Bt(this.first,this.last)},replaceWith:function(){return this.first.before.apply(this.first,arguments),this.remove()},stop:function(){return At(this),Dt(this,"stop","done"),this}});var ci=/^\/|\.|^https?:\/\//;function ai(t){try{return JSON.parse(t)}catch{return t}}function ui(t){return ci.test(t)?R(t):ai(t)}function li(t,e){let n={},r=t.length;for(;r--;)n[t[r]]=e[r];return n}var pi=(t,e)=>{throw O.loading=!1,O.frame?cancelAnimationFrame(O.frame):O.removeAttribute("loading"),t};O("<include-literal>",{construct:function(){let t=Object.keys(this.dataset),e=Object.values(this.dataset),n=t.length?Promise.all(e.map(ui)).then(r=>li(t,r)):new Promise((r,o)=>{this.resolveData=r,this.rejectData=o});this.promise=new Promise((r,o)=>{this.resolveSrc=r,this.rejectSrc=o}).then(r=>(this.renderer=new D(r,this.parentElement),n)).catch(r=>pi(r,this))},connect:function(){this.loading&&(this.frame=requestAnimationFrame(()=>this.loading&&(this.frame=requestAnimationFrame(()=>this.loading&&this.setAttribute("loading",""))))),this.promise.then(t=>{this.loading=!1,this.renderer.element=this.parentElement,this.renderer.render(t),this.replaceWith(this.renderer.content),this.renderer.connect()})}},{data:{attribute:function(t){this.data=t},get:function(){if(this.renderer)return this.renderer.data},set:function(t){if(this.renderer){!t||t==="null"?this.renderer.push(null):typeof t=="string"?R(t).then(e=>this.renderer.push(e)):(console.log("YEAH",t),this.renderer.push(t));return}if(!this.resolveData)throw new Error("<include-literal> may possess either data-* attributes or a single data attribute, not both");if(t)typeof t=="string"?(this.loading=!0,this.request=R(t),this.resolveData(this.request)):this.resolveData(t);else return}},loading:{value:!1,writable:!0},src:{attribute:function(t){if(!t)return this.rejectSrc(new Error('<include-literal> source src="'+t+'" is empty'));if(!/^#/.test(t)){this.loading=!0,$(t).then(r=>this.resolveSrc(w("fragment",r)));return}let e=t.replace(/^#/,""),n=document.getElementById(e);if(!n){this.rejectSrc(new Error('<include-literal> src template "'+t+'" not found'));return}this.resolveSrc(n)}}});var Un={renderers:c};var fi=Object.assign,hi=/\s+/;var qn=0;window.addEventListener("click",t=>qn=t.timeStamp);function di(t,e){return t.node.addEventListener(e,t,t.options),t}function mi(t,e){return t.node.removeEventListener(e,t),t}function Fn(t,e,n){this.types=t.split(hi),this.options=e,this.node=n,this.select=e&&e.select}fi(Fn.prototype,m.prototype,{pipe:function(t){this[0]=t,this.types.reduce(di,this)},handleEvent:function(t){if(!(t.type==="click"&&t.timeStamp<=qn)){if(this.select){let e=t.target.closest(this.select);if(!e)return;t.selectedTarget=e}this[0].push(t)}},stop:function(){this.types.reduce(mi,this),m.prototype.stop.apply(this,arguments)}});function Ee(t,e){let n;return typeof t=="object"&&(n=t,t=n.type),new N(new Fn(t,n,e))}function gi(){return{x:0,y:0,left:0,top:0,right:window.innerWidth,bottom:window.innerHeight,width:window.innerWidth,height:window.innerHeight}}function Te(t){return t===window?gi():t.getClientRects()[0]||t.getBoundingClientRect()}function Se(t){if(t.toArray)return t.toArray();var e=[],n=t.length,r;if(typeof t.length!="number")return e;for(e.length=n,r=0;r<n;r++)e[r]=t[r];return e}function wi(t,e){return Se(e.querySelectorAll(t))}var Wn=l(wi,!0);q("events",Ee);q("trigger",K);q("select",Wn);q("rect",Te);q("request",R);q("includeHTML",tt);function _n(t){return new TemplateRenderer(t)}_n.stats=Un;export{B as Observer,Un as analytics,St as compiled,_n as default,J as observe,q as register};
//# sourceMappingURL=module.js.map
