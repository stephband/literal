// Literal 0.5.2 (Built 2021-12-12 20:39)


function g(t){return t}function m(t,e){return function(){let r=t.apply(this,arguments),o=e[r]||e.default;if(!o)throw new Error('overload() no handler for "'+r+'"');return o.apply(this,arguments)}}function q(t){var e=new Map;return function(r){if(e.has(r))return e.get(r);var o=t(r);return e.set(r,o),o}}var _n=Array.prototype;function Vn(t,e){return typeof t=="function"?t.apply(null,e):t}function Se(t,e,n){n=n||t.length;var r=n===1?e?t:q(t):q(function(o){return Se(function(){var s=[o];return s.push.apply(s,arguments),t.apply(null,s)},e,n-1)});return function o(s){return arguments.length===0?o:arguments.length===1?r(s):arguments.length>=n?t.apply(null,arguments):Vn(r(s),_n.slice.call(arguments,1))}}var f=Se;function p(){}var $n=m(g,{is:p,tag:p,html:function(t,e,n){e.innerHTML=n},text:function(t,e,n){e.textContent=n},children:function(t,e,n){e.innerHTML="",n.forEach(r=>{e.appendChild(r)})},points:F,cx:F,cy:F,r:F,preserveAspectRatio:F,viewBox:F,default:function(t,e,n){t in e?e[t]=n:e.setAttribute(t,n)}});function F(t,e,n){e.setAttribute(t,n)}function Wn(t,e){for(var n=Object.keys(e),r=n.length;r--;)$n(n[r],t,e[n[r]]);return t}var kt=f(Wn,!0);var zn="http://www.w3.org/2000/svg",Le=document.createElement("div");var Ne=(t,e)=>e&&typeof e;function De(t,e){let n=document.createRange();return n.selectNode(t),n.createContextualFragment(e)}function j(t,e){var n=document.createElementNS(zn,t);return e&&(n.innerHTML=e),n}var y=m(g,{comment:function(t,e){return document.createComment(e||"")},fragment:m(Ne,{string:function(t,e,n){if(n)return De(n,e);let r=document.createDocumentFragment();Le.innerHTML=e;let o=Le.childNodes;for(;o[0];)r.appendChild(o[0]);return r},object:function(t,e,n){let r=n?De(n):document.createDocumentFragment();return typeof e.length=="number"?r.append.apply(r,e):kt(r,e),r},default:()=>document.createDocumentFragment()}),text:function(t,e){return document.createTextNode(e||"")},circle:j,ellipse:j,g:j,glyph:j,image:j,line:j,rect:j,use:j,path:j,pattern:j,polygon:j,polyline:j,svg:j,default:m(Ne,{string:function(t,e){let n=document.createElement(t);return n.innerHTML=e,n},object:function(t,e){let n=document.createElement(t);return typeof e.length=="number"?n.append.apply(n,e):kt(n,e),n},default:t=>{if(typeof t!="string")throw new Error('create(tag, content) accepts only a string as tag "'+typeof t+'"');return document.createElement(t)}})});function Bt(t,e,n){let r;typeof n!="string"&&n.input!==void 0&&n.index!==void 0&&(r=n,n=r.input.slice(n.index+n[0].length+(n.consumed||0)));let o=t.exec(n);if(!o)return;let s=e(o);return r&&(r.consumed=(r.consumed||0)+o.index+o[0].length+(o.consumed||0)),s}var hs=f(Bt,!0);function In(t,e,n){throw n.input!==void 0&&n.index!==void 0&&(n=n.input),new Error('Cannot parse string "'+n+'"')}function Xn(t,e,n){let r=-1;for(;++r<n.length;)e=n[r]!==void 0&&t[r]?t[r](e,n):e;return t.done?t.done(e,n):t.close?t.close(e,n):e}function Jn(t,e,n,r){let o=Bt(t,s=>Xn(e,n,s),r);return o===void 0?e.catch?e.catch(n,r):In(t,e,r):o}var nt=f(Jn,!0);var Mt=p;var E=Symbol("internals"),P=Symbol("shadow"),Re=Object.defineProperties,Kn={a:HTMLAnchorElement,dl:HTMLDListElement,p:HTMLParagraphElement,br:HTMLBRElement,fieldset:HTMLFieldSetElement,hr:HTMLHRElement,img:HTMLImageElement,li:HTMLLIElement,ol:HTMLOListElement,optgroup:HTMLOptGroupElement,q:HTMLQuoteElement,textarea:HTMLTextAreaElement,td:HTMLTableCellElement,th:HTMLTableCellElement,tr:HTMLTableRowElement,tbody:HTMLTableSectionElement,thead:HTMLTableSectionElement,tfoot:HTMLTableSectionElement,ul:HTMLUListElement},Yn={name:{set:function(t){return this.setAttribute("name",t)},get:function(){return this.getAttribute("name")||""}},form:{get:function(){return this[E].form}},labels:{get:function(){return this[E].labels}},validity:{get:function(){return this[E].validity}},validationMessage:{get:function(){return this[E].validationMessage}},willValidate:{get:function(){return this[E].willValidate}},checkValidity:{value:function(){return this[E].checkValidity()}},reportValidity:{value:function(){return this[E].reportValidity()}}},Qn={},Pe={once:!0},Zn=0,ke=!1;function tr(t){return Kn[t]||window["HTML"+t[0].toUpperCase()+t.slice(1)+"Element"]||(()=>{throw new Error('Constructor not found for tag "'+t+'"')})()}var er=nt(/^\s*<?([a-z][\w]*-[\w]+)>?\s*$|^\s*<?([a-z][\w]*)\s+is=["']?([a-z][\w]*-[\w]+)["']?>?\s*$/,{1:(t,e)=>({name:e[1]}),2:(t,e)=>({name:e[3],tag:e[2]}),catch:function(t,e){throw new SyntaxError(`dom element() – name must be of the form 'element-name' or 'tag is="element-name"' (`+e+")")}},null);function nr(t,e){if(t.hasOwnProperty(e)){let n=t[e];delete t[e],t[e]=n}return t}function rr(t,e){t._initialLoad=!0;let n=t.attachShadow({mode:e.mode||"closed",delegatesFocus:e.focusable||!1});if(e.stylesheet){let r=y("link",{rel:"stylesheet",href:e.stylesheet});n.append(r)}return t[P]=n,n}function or(t){var e;if(t.attachInternals){if(e=t.attachInternals(),e.setFormValue)return e}else e={shadowRoot:t.shadowRoot};return e.input=y("input",{type:"hidden",name:t.name}),t.appendChild(e.input),e.setFormValue=function(n){this.input.value=n},e}function sr(t){t._initialAttributes={},t._n=0}function ir(t,e,n){let r=t._initialAttributes;for(;t._n<e.length&&r[e[t._n]]!==void 0;)n[e[t._n]].call(t,r[e[t._n]]),++t._n}function Be(t,e,n){if(!t._initialAttributes)return;let r=t._initialAttributes;for(;t._n<e.length;)r[e[t._n]]!==void 0&&n[e[t._n]]&&n[e[t._n]].call(t,r[e[t._n]]),++t._n;delete t._initialAttributes,delete t._n}function cr(t){return!!t.attribute}function ur(t){return t.set||t.get||t.hasOwnProperty("value")}function Me(t,e){return cr(e[1])&&(t.attributes[e[0]]=e[1].attribute),ur(e[1])&&(t.properties[e[0]]=e[1]),t}function T(t,e,n){let{name:r,tag:o}=er(t),s=typeof o=="string"?tr(o):HTMLElement,{attributes:i,properties:h}=n?Object.entries(n).reduce(Me,{attributes:{},properties:{}}):e.properties?Object.entries(e.properties).reduce(Me,{attributes:{},properties:{}}):Qn;function d(){let u=Reflect.construct(s,arguments,d),b=e.construct&&e.construct.length>Zn?rr(u,e):void 0,x=d.formAssociated&&or(u);return o&&(ke=!0),e.construct&&e.construct.call(u,b,x),i&&(sr(u),Promise.resolve(1).then(function(){Be(u,d.observedAttributes,i)})),h&&Object.keys(h).reduce(nr,u),u}return d.prototype=Object.create(s.prototype,h),h&&h.value&&(d.formAssociated=!0,Re(d.prototype,Yn),(e.enable||e.disable)&&(d.prototype.formDisabledCallback=function(u){return u?e.disable&&e.disable.call(this,this[P],this[E]):e.enable&&e.enable.call(this,this[P],this[E])}),e.reset&&(d.prototype.formResetCallback=function(){return e.reset.call(this,this[P],this[E])}),e.restore&&(d.prototype.formStateRestoreCallback=function(){return e.restore.call(this,this[P],this[E])})),i&&(d.observedAttributes=Object.keys(i),d.prototype.attributeChangedCallback=function(u,b,x){if(!this._initialAttributes)return i[u].call(this,x);this._initialAttributes[u]=x,ir(this,d.observedAttributes,i)}),d.prototype.connectedCallback=function(){let u=this,b=u[P],x=u[E];if(u._initialAttributes&&Be(u,d.observedAttributes,i),u._initialLoad){let M=b.querySelectorAll('link[rel="stylesheet"]');if(M.length){let qn=0,Pt=M.length,Ae=function(Hn){++qn>=M.length&&(delete u._initialLoad,e.load&&(Mt("element()","loaded",Array.from(M).map(Un=>Un.href).join(`
`)),e.load.call(u,b)))},Fn=Ae;for(;Pt--;)M[Pt].addEventListener("load",Ae,Pe),M[Pt].addEventListener("error",Fn,Pe);e.connect&&e.connect.call(this,b,x)}else e.connect&&e.connect.call(this,b,x),e.load&&e.load.call(this,b,x)}else e.connect&&e.connect.call(this,b,x)},e.disconnect&&(d.prototype.disconnectedCallback=function(){return e.disconnect.call(this,this[P],this[E])}),Mt("element()","<"+(o?o+" is="+r+"":r)+">"),window.customElements.define(r,d,o&&{extends:o}),o&&!ke&&document.querySelectorAll('[is="'+r+'"]').forEach(u=>{Re(u,h),e.construct&&e.construct.apply(u);let b;for(b in i){let x=u.attributes[b];x&&i[b].call(u,x.value)}e.connect&&e.connect.apply(u)}),d}function rt(t){return function(n,...r){var o=t[n]||t.default;return o&&o.apply(this,r)}}var G=Object.assign,H={headers:function(t){return{}},body:g,onresponse:function(t){if(t.redirected){window.location=t.url;return}return t}},ar=rt({"application/x-www-form-urlencoded":function(t){return G(t,{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"})},"application/json":function(t){return G(t,{"Content-Type":"application/json; charset=utf-8","X-Requested-With":"XMLHttpRequest"})},"multipart/form-data":function(t){return G(t,{"Content-Type":"multipart/form-data","X-Requested-With":"XMLHttpRequest"})},"audio/wav":function(t){return G(t,{"Content-Type":"audio/wav","X-Requested-With":"XMLHttpRequest"})},default:function(t){return G(t,{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"})}}),lr=rt({"application/json":function(t){return t.get?fr(t):JSON.stringify(t)},"application/x-www-form-urlencoded":function(t){return t.get?qe(t):Fe(t)},"multipart/form-data":function(t){return t.get?t:pr(t)}});function fr(t){return JSON.stringify(Array.from(t.entries()).reduce(function(e,n){return e[n[0]]=n[1],e},{}))}function qe(t){return new URLSearchParams(t).toString()}function Fe(t){return Object.keys(t).reduce((e,n)=>(e.append(n,t[n]),e),new URLSearchParams)}function pr(t){throw new Error("TODO: dataToFormData(data)")}function dr(t,e){return e instanceof FormData?t+"?"+qe(e):t+"?"+Fe(e)}function mr(t,e,n,r){let o=typeof n=="string"?n:n&&n["Content-Type"]||"application/json",s=ar(o,G(H.headers&&e?H.headers(e):{},typeof n=="string"?{}:n)),i={method:t,headers:s,credentials:"same-origin",signal:r&&r.signal};return t!=="GET"&&(i.body=lr(o,H.body?H.body(e):e)),i}var hr={"text/html":yr,"application/json":gr,"multipart/form-data":Ge,"application/x-www-form-urlencoded":Ge,audio:qt,"audio/wav":qt,"audio/m4a":qt};function qt(t){return t.blob()}function gr(t){return t.json().catch(e=>{throw new Error("Cannot parse JSON "+t.url+". "+e.message+"")})}function Ge(t){return t.formData()}function yr(t){return t.text()}function wr(t){if(H.onresponse&&(t=H.onresponse(t)),!t.ok)throw new Error(t.statusText+"");let e=t.headers.get("Content-Type").replace(/\;.*$/,"");return hr[e](t)}function He(t="GET",e,n,r="application/json"){if(e.startsWith("application/")||e.startsWith("multipart/")||e.startsWith("text/")||e.startsWith("audio/"))throw new Error("request(method, url, data, contenttype) parameter order has changed. You passed (method, contenttype, url, data).");t=t.toUpperCase(),t==="GET"&&n&&(e=dr(e,n));let o=mr(t,n,r,arguments[4]);return fetch(e,o).then(wr)}function U(t){return He("GET",t)}var br=Object.assign,vr=Object.defineProperties,xr=Object.isExtensible,O=Symbol("observer");function ot(t,e){let n=t.indexOf(e);return n>-1&&t.splice(n,1),t}function w(t){return t&&t[O]&&t[O].target||t}function Ft(t,e){let r=e[O].observables;return r[t]||(r[t]=[])}function Gt(t){return t[O].sets||(t[O].sets=[])}function jr(t){return t&&xr(t)&&!Node.prototype.isPrototypeOf(t)&&(typeof BaseAudioContext=="undefined"||!BaseAudioContext.prototype.isPrototypeOf(t))&&!(t instanceof Date)&&!(t instanceof RegExp)&&!(t instanceof Map)&&!(t instanceof WeakMap)&&!(t instanceof Set)&&!(window.WeakSet&&t instanceof WeakSet)&&!ArrayBuffer.isView(t)}var Ue={[O]:{}};function X(t,e,n){if(!t||!t.length)return 0;t=t.slice(0);for(var r=-1;t[++r];)t[r].fn(e,n);return r}function _e(t){this.observables={},this.gets=[],this.sets=void 0,this.target=t,this.observer=new Proxy(t,this),Ue[O].value=this,vr(t,Ue)}br(_e.prototype,{get:function(e,n,r){let o=e[n];if(typeof n=="symbol"||n==="__proto__")return o;let s=Object.getOwnPropertyDescriptor(e,n);(s?s.writable||s.set:o===void 0)&&X(this.gets,n);let h=A(o);if(!h)return o;for(var d=-1;this.gets[++d];)this.gets[d].listen(n);return h},set:function(e,n,r,o){if(typeof n=="symbol"||n==="__proto__")return e[n]=r,!0;if(r=w(r),e[n]===r)return!0;let s=e.length;for(var i=-1;this.gets[++i];)this.gets[i].unlisten(n);return e[n]=r,r=e[n],n!=="length"&&e.length!==s&&X(this.observables.length,e.length),X(this.observables[n],r),X(this.sets,r),!0},deleteProperty:function(t,e){if(typeof e=="symbol"||e==="__proto__")return delete t[e],!0;if(!t.hasOwnProperty(e))return!0;delete t[e];let n=this.observables[e];return n&&X(n,t[e]),!0}});function A(t){return t?t[O]?t[O].observer:jr(t)?new _e(t).observer:void 0:void 0}var Er=(t,e)=>{throw T.loading=!1,T.frame?cancelAnimationFrame(T.frame):T.removeAttribute("loading"),t};T("<include-html>",{construct:function(){this.promise=new Promise((t,e)=>{this.resolveSrc=t,this.rejectSrc=e}).catch(t=>Er(t,this))},connect:function(){this.loading&&(this.frame=requestAnimationFrame(()=>this.loading&&(this.frame=requestAnimationFrame(()=>this.loading&&this.setAttribute("loading",""))))),this.promise.then(t=>{this.loading=!1,this.replaceWith(t)})}},{loading:{value:!1,writable:!0},src:{attribute:function(t){if(!t)return this.rejectSrc(new Error('<include-html> source src="'+value+'" is empty'));this.loading=!0,this.resolveSrc(includeHTML(t))}}});var Tr=/\.([\w-]+)(?:#|\?|$)/;var Cr=[],N=m(t=>(Tr.exec(t)||Cr)[1],{js:t=>import(t[0]==="."?new URL(t,window.location):t).then(n=>n.default),default:q(t=>U(t))});function Ht(t){var e=t.id;if(!e){do e=Math.ceil(Math.random()*1e5);while(document.getElementById(e));t.id=e}return e}function st(t){return t.nodeType===3}var Or={1:"element",3:"text",8:"comment",9:"document",10:"doctype",11:"fragment"};function Ut(t){return Or[t.nodeType]}function Ar(t,e,n){let r=t(e),o=t(n);return o===r?0:r>o?1:-1}var Ve=f(Ar,!0);function $e(t,e){if(t===e)return!0;if(t===null||e===null||typeof t!="object"||typeof e!="object")return!1;let n=Object.keys(t),r=Object.keys(e),o=n.length;for(;o--;){if(t[n[o]]===void 0){if(e[n[o]]!==void 0)return!1}else if(!e.hasOwnProperty(n[o])||!$e(t[n[o]],e[n[o]]))return!1;let s=r.indexOf(n[o]);s>-1&&r.splice(s,1)}for(o=r.length;o--;)if(e[r[o]]===void 0){if(t[r[o]]!==void 0)return!1}else return!1;return!0}var We=f($e,!0);function Sr(t,e){let n;for(n in t)if(t[n]!==e[n])return!1;return!0}var ze=f(Sr,!0);var Lr=Object.defineProperties,Nr=Object.freeze;function Ie(){return this}var it=Nr(Lr([],{shift:{value:p},push:{value:p},each:{value:p},forEach:{value:p},start:{value:p},stop:{value:p},done:{value:p},join:{value:function(){return""}},map:{value:Ie},filter:{value:Ie},reduce:{value:function(t,e){return e}}}));var Xe=/\.?([\w-]+)/g;function Dr(t,e,n){var r=t.exec(e);if(!r)throw new Error('getPath(path, object): invalid path "'+e+'" at index '+t.lastIndex);return Je(t,e,n[r[1]])}function Je(t,e,n){return t.lastIndex===e.length?n:n?Dr(t,e,n):void 0}function Rr(t,e){return Xe.lastIndex=0,Je(Xe,t,e)}var ct=f(Rr,!0);function _t(t){if(t=typeof t=="number"?t+"":t.trim(),typeof t=="string")return t.toLowerCase().replace(/^[\W_]+/,"").replace(/[\W_]+$/,"").replace(/[\W_]+/g,"-")}function Vt(t){if(typeof t.length=="number")return t[t.length-1]}function J(t){return typeof t}var Pr=/^\s*([+-]?\d*\.?\d+)([^\s\d]*)\s*$/;function kr(t,e){if(typeof e=="number")return e;var n=Pr.exec(e);if(!n||!t[n[2]||""]){if(!t.catch)throw new Error('Cannot parse value "'+e+'" with provided units '+Object.keys(t).join(", "));return n?t.catch(parseFloat(n[1]),n[2]):t.catch(parseFloat(e))}return t[n[2]||""](parseFloat(n[1]))}var Ke=f(kr);var Br=/px$/,Ye={"transform:translateX":function(t){var e=K("transform",t);if(!e||e==="none")return 0;var n=ut(e);return parseFloat(n[4])},"transform:translateY":function(t){var e=K("transform",t);if(!e||e==="none")return 0;var n=ut(e);return parseFloat(n[5])},"transform:scale":function(t){var e=K("transform",t);if(!e||e==="none")return 0;var n=ut(e),r=parseFloat(n[0]),o=parseFloat(n[1]);return Math.sqrt(r*r+o*o)},"transform:rotate":function(t){var e=K("transform",t);if(!e||e==="none")return 0;var n=ut(e),r=parseFloat(n[0]),o=parseFloat(n[1]);return Math.atan2(o,r)}};function ut(t){return t.split("(")[1].split(")")[0].split(/\s*,\s*/)}function K(t,e){return window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):0}function at(t,e){if(Ye[t])return Ye[t](e);var n=K(t,e);return typeof n=="string"&&Br.test(n)?parseFloat(n):n}var lt,ft;function Qe(){if(!lt){let t=document.documentElement.style.fontSize;document.documentElement.style.fontSize="100%",lt=at("font-size",document.documentElement),document.documentElement.style.fontSize=t||""}return lt}function Ze(){return ft||(ft=at("font-size",document.documentElement)),ft}window.addEventListener("resize",()=>{lt=void 0,ft=void 0});var _=m(J,{number:g,string:Ke({em:function(t){return Qe()*t},px:function(t){return t},rem:function(t){return Ze()*t},vw:function(t){return window.innerWidth*t/100},vh:function(t){return window.innerHeight*t/100}})});function tn(t){return _(t)/Qe()}function en(t){return _(t)/Ze()}function nn(t){return 100*_(t)/window.innerWidth}function rn(t){return 100*_(t)/window.innerHeight}var k=Object.assign,V=Object.create,$=Object.defineProperties,on={source:{writable:!0},consumer:{writable:!0}};function Mr(t){return t.stop?t.stop():t()}function qr(t){t.forEach(Mr),t.length=0}function sn(t,e){this.stream=t,this.fn=e}k(sn.prototype,{push:function(){let t=this.stream,e=arguments.length,n=-1;for(;++n<e;)t.consumer.push(arguments[n])},start:function(){let t=this.stream,e=this.fn;k(t,e(this))},stop:function(){this.stopables&&qr(this.stopables),this.push=p,--a.count},done:function(e){(this.stopables||(this.stopables=[])).push(e)}});function a(t){if(!a.prototype.isPrototypeOf(this))return new a(t);++a.count,this.source=new sn(this,t)}k(a,{count:0,from:function(t){return new a(e=>e.push.apply(e,t))},of:function(){return this.from(arguments)}});k(a.prototype,{map:function(t){return this.consumer=new $t(this.source,t)},filter:function(t){return this.consumer=new Wt(this.source,t)},reduce:function(t,e){return this.pipe(new Xt(this.source,t,e))},scan:function(t,e){return this.consumer=new Jt(this.source,t,e)},take:function(t){return this.consumer=new It(this.source,t)},each:function(t){return this.pipe(new un(this.source,t))},pipe:function(t){return this.consumer=t,this.start(),this.consumer},done:function(t){return this.source.done(t),this},start:function(){return this.source.start(),this},stop:function(){return this.source.stop(),this}});var B=k({fn:{value:g}},on);function $t(t,e){B.source.value=t,B.fn.value=e,$(this,B)}$t.prototype=V(a.prototype);$t.prototype.push=function(e){return e!==void 0&&this.consumer.push(this.fn(e)),this};function Wt(t,e){B.source.value=t,B.fn.value=e,$(this,B)}Wt.prototype=V(a.prototype);Wt.prototype.push=function(e){return e!==void 0&&this.fn(e)&&this.consumer.push(e),this};var zt=k({n:{value:0,writable:!0}},on);function It(t,e){if(typeof e!="number"||e<1)throw new Error("stream.take(n) accepts non-zero positive integers as n ("+e+")");zt.source.value=t,zt.n.value=e,$(this,zt)}It.prototype=V(a.prototype);It.prototype.push=function(e){return this.consumer.push(e),--this.n||this.stop(),this};var D=k({value:{writable:!0}},B);function Xt(t,e,n){D.source.value=t,D.fn.value=e,D.value.value=n,$(this,D)}Xt.prototype=V(a.prototype);Xt.prototype.push=function(e){return e!==void 0&&(this.value=this.fn(this.value,e)),new Promise((n,r)=>{this.done(()=>n(this.value))})};function Jt(t,e,n){D.source.value=t,D.fn.value=e,D.value.value=n,$(this,D)}Jt.prototype=V(a.prototype);Jt.prototype.push=function(e){return e!==void 0&&(this.value=this.fn(this.value,e),this.consumer.push(this.value)),this};var cn={source:{writable:!0}};function un(t,e){cn.source.value=t,$(this,cn),this.push=e}un.prototype=V(a.prototype,{each:{value:null},pipe:{value:null}});var Fr=Object.assign,Kt=/(^\.?|\.)\s*([\w-]*)\s*/g;function Yt(t,e,n,r){if(!t.length)throw new Error("Path is empty!");Kt.lastIndex=e;let o=Kt.exec(t);if(!o)throw new Error("Cant parse path "+this.path+" at index "+this.index);if(this.target=n,this.path=t,this.index=Kt.lastIndex,this.output=r,this.index>=this.path.length&&(this.fn=this.output),o[2])this.key=o[2],this.listen(),this.fn(this.target[this.key]);else{if(o[1]!==".")throw new Error('Path must end with "." (',o[1],t,") Todo: observe all mutations");this.key=".",this.listen(),this.fn(this.target)}}Fr(Yt.prototype,{fn:function(t){let e=typeof t;if(!t||e!=="object"&&e!=="function"){this.child&&(this.child.stop(),this.child=void 0),this.output(void 0);return}if(this.child?(this.child.unlisten(),this.child.target=t,this.child.listen()):this.child=new Yt(this.path,this.index,t,this.output),this.child.key===".")throw new Error("Arrrrgh");this.child.fn(t[this.child.key])},listen:function(){if(!A(this.target))return;let e=this.key==="."?Gt(this.target):Ft(this.key,this.target);if(e.includes(this))throw new Error("observe.listen this is already bound");e.push(this)},unlisten:function(){let t=this.key==="."?Gt(this.target):Ft(this.key,this.target);ot(t,this)},stop:function(){this.unlisten(),this.child&&this.child.stop(),this.child=void 0}});function pt(t,e,n){return new a(r=>r.done(new Yt(t,0,e,o=>{o!==n&&(n=o,r.push(o))})))}var an=Object.assign;function Qt(t){return new a(e=>{let n={},r=-1,o;for(;o=t[++r];){let s=r;o.each?o.each(i=>{n[s]=i,e.push(an({},n))}):o.then?o.then(i=>{n[s]=i,e.push(an({},n))}):console.log("Todo: combine() raw values ?")}})}function Zt(){return Qt(arguments)}function te(t,e,n){return new pt(t,w(e),n)}function ln(t,e){t=typeof t=="string"?t.split(/\s+/):t;let n=w(e),r=t.map((o,s)=>new pt(o,n,arguments[s+2]));return r.length>1?new Qt(r):r[0]}function Gr(t){return new a(e=>{let n=-1,r;for(;r=t[++n];)r.each?(r.each(o=>e.push(o)),e.done(r)):r.then?r.then(o=>e.push(o)):e.push.apply(e,r)})}function ee(){return Gr(arguments)}var ne=Array.prototype;function re(t){return t.length>0}function oe(t,e,n){return t[n]=e.shift(),t}function Hr(t){return[]}function Ur(t){let e=ne.map.call(t,Hr);return new a(n=>{ne.forEach.call(t,(r,o)=>{let s=e[o];r.each?n.done(r.each(i=>{s.push(i),e.every(re)&&n.push(e.reduce(oe,{}))})):r.then?r.then(i=>{s.push(i),e.every(re)&&n.push(e.reduce(oe,{}))}):ne.forEach.call(r,i=>{s.push(i),e.every(re)&&n.push(e.reduce(oe,{}))})})})}function se(){return Ur(arguments)}var _r=Object.assign,fn=Object.entries,ie={assign:_r,by:Ve,capture:nt,combine:Zt,ceil:Math.ceil,define:Object.defineProperties,entries:fn,equals:We,floor:Math.floor,get:ct,id:g,keys:Object.keys,last:Vt,matches:ze,merge:ee,zip:se,noop:p,observe:ln,Observer:A,overload:m,print:p,round:Math.round,paramify:function(t){let e=typeof t=="object"&&typeof t.length!="number"?fn(t).flatMap(n=>n[1]===void 0?it:n[1]&&typeof n[1]=="object"&&n[1].map?n[1].map(r=>[n[0],r]):[n]):t;return new URLSearchParams(e)},slugify:_t,Stream:a,translate:function(t){return window.translations&&window.translations[t]||t},values:Object.values,px:_,em:tn,rem:en,vw:nn,vh:rn},C=ie;function Y(t,e){if(ie[t])throw new Error('Literal: function "'+t+'" already registered');return ie[t]=e,e}function Vr(t,e){return e[t]}var ce=f(Vr,!0);function $r(t){let e=t[0];return/^\w/.test(e)}function ue(t={},e,n,r){let o=Object.entries(t).filter($r),s=o.map(ce(0)),i=o.map(ce(1));return r?new Function(...s,"return ("+e+") => {"+(n||"")+"}").apply(r,i):new Function(...s,"return function("+e+"){"+(n||"")+"}").apply(null,i)}var c={Totals:{template:0,text:0,attribute:0,boolean:0,class:0,checked:0,value:0}},R={count:0};var pn="  ",dt={};function v(t,e,n,r,o,s){if(typeof n!="string")throw new Error("Template is not a string");let i=r||n;if(dt[i])return dt[i];let h=`
`+(r?pn+"// Template #"+r+`
`:"")+pn+"return this.compose`"+n+"`;\n";if(!1)try{}catch(d){}return dt[i]=ue(t,e,h)}var Wr=/\s*(\([\w,\s]*\))/,zr=/function(?:\s+\w+)?\s*(\([\w,\s]*\))/,S=m(J,{boolean:t=>t+"",function:t=>t.prototype?(t.name||"function")+(zr.exec(t.toString())||[])[1]:(Wr.exec(t.toString())||[])[1]+" ⇒ {…}",number:t=>Number.isNaN(t)?"":Number.isFinite(t)?t+"":t<0?"-∞":"∞",string:g,symbol:t=>t.toString(),undefined:t=>"",object:m(t=>t&&t.constructor.name,{RegExp:t=>"/"+t.source+"/",null:()=>"",default:t=>JSON.stringify(t,null,2)}),default:JSON.stringify});var Ir=Object.assign,Xr=Object.values;function Jr(t){t.stop()}function ae(t,e,n){this.children={},this.target=w(t),this.path=e,this.root=n,t[O].gets.push(this)}Ir(ae.prototype,{listen:function(t){if(this.children[t])return;let e=this.path?this.path+".":"";this.children[t]=new ae(this.target[t],e+t,this.root)},unlisten:function(t){!this.children[t]||(this.children[t].stop(),delete this.children[t])},fn:function(t){let e=this.path?this.path+".":"";this.root.push(e+t)},stop:function(){ot(this.target[O].gets,this),Xr(this.children).forEach(Jr)}});function le(t){return new a(e=>e.done(new ae(w(t),"",e)))}var Q=[],dn=Promise.resolve(Q);var mt;function Kr(t){for(var e,n,r,o=0;r=t.shift();)o+=r.render.apply(r,r.cuedArguments),r.cuedArguments=void 0,r.cued=!1;mt=void 0}function ht(t,e){return t.cuedArguments=e,t.cued?dn:(mt||(mt=dn.then(Kr)),Q.push(t),t.cued=!0,mt)}function gt(t){if(!Q.length||!t.cued)return;let e=Q.indexOf(t);e>0&&Q.splice(e,1),t.cuedArguments=void 0,t.cued=!1}var Yr=Object.assign,mn=Object.keys,Qr=t=>t&&typeof t=="object"&&t.then,Z=t=>t.reduce((e,n)=>n===""||n===void 0?e:e+n);function Zr(t,e,n){return t&&typeof t=="object"?t.then?t.then(r=>e===""?r:e+r):t.find?t.find(Qr)?Promise.all(t).then(r=>e===""?Z(r.map(n)):e+Z(r.map(n))):e===""?Z(t.map(n)):e+Z(t.map(n)):e===""?n(t):e+n(t):e===""?n(t):e+n(t)}function W(t){let e=t[0];return Z(e.map((n,r)=>r<=t.length?Zr(t[r+1],n,S):n===""?void 0:n))}function yt(t,e){let n=e,r=0;for(;n&&n!==t;){let o=n.previousSibling;n.remove(),n=o,++r}return t.constructor.prototype.remove.apply(t),++r,r}var wt=[],fe="-fns";function hn(t){let e=t+fe;return function(r){if(this.status===t){r();return}(this[e]||(this[e]=[])).push(r)}}function to(t,e){return e[t]?e[t]():e(),t}function eo(t,e){let n=t[1],r=t[3];return e[n]&&e[n](r),t}function bt(t,e,n,r){if(t.status===n)return;t.status=n;let o=t.contents;o&&o.reduce(eo,arguments);let s=t[n+fe];return s&&s.reduce(to,e),t}function no(t){return t.stop?t.stop():t()}function ro(t,e){if(!t.includes(e)){for(var n;(n=t[t.length-1])&&n.length<e.length&&e.startsWith(n);)--t.length;t.push(e)}}function oo(t,e){let n=t.indexOf(e);return n>-1&&t.splice(n,1),t}function gn(t,e){return t[e].stop(),delete t[e],t}function so(t,e){let n=t.data,r=t.observables;if(!r[e]){let o=ct(e,n);r[e]=te(e,n,o).each(s=>t.push(n))}return t}function l(t,e,n){this.element=n||t,this.node=t,this.path=e.path,this.id=++R.count,this.count=0,this.template=e.template,this.observables={}}Yr(l.prototype,{push:function(t){return ht(this,arguments)},render:function(e){let n=this["stop"+fe];n&&(n.forEach(no),n.length=0),wt.length=0;let r=w(e),o=A(r),s=r?le(r).each(h=>ro(wt,h)):it;this.data=r,++this.count;let i=this.literally(o,this.element,this.include);return s.stop(),wt.reduce(oo,mn(this.observables)).reduce(gn,this.observables),wt.reduce(so,this),i},connected:hn("dom"),connect:function(){bt(this,"connect","dom")},done:hn("done"),stop:function(){return gt(this),mn(this.observables).reduce(gn,this.observables),bt(this,"stop","done"),this}});var yn="READONLY",vt={"accept-charset":"acceptCharset",accesskey:"accessKey",cellpadding:"cellPadding",cellspacing:"cellSpacing",codebase:"codeBase",colspan:"colSpan",datetime:"dateTime",for:"htmlFor",form:yn,formaction:"formAction",formenctype:"formEnctype",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",href:yn,httpequiv:"httpEquiv",longdesc:"longDesc",maxlength:"maxLength",minlength:"minLength",nohref:"noHref",noresize:"noResize",noshade:"noShade",nowrap:"noWrap",novalidate:"noValidate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",tfoot:"tFoot",thead:"tHead",usemap:"useMap",valign:"vAlign",valuetype:"valueType"};var io=Object.assign;function co(t,e,n){let r=vt[e]||e;return r in t&&t[r]!==n?(t[r]=n,1):n===t.getAttribute(e)?0:(t.setAttribute(e,n),1)}function xt(t,e){l.apply(this,arguments),this.name=e.name,this.literally=e.literally||v(C,"data, element",e.source,null,e,this.element);let n="#"+e.template;++c[n].attribute||(c[n].attribute=1),++c.Totals.attribute}io(xt.prototype,l.prototype,{compose:function(){let t=W(arguments);return co(this.node,this.name,t)}});var uo=Object.assign;function ao(t,e,n){let r=vt[e]||e;if(r in t){if(!!n===t[r])return 0;t[r]=!!n}else n?t.setAttribute(e,e):t.removeAttribute(e);return 1}function jt(t,e){l.apply(this,arguments),this.name=e.name,this.literally=e.literally||v(C,"data, element",e.source,null,e,this.element),t.removeAttribute(this.name);let n="#"+e.template;++c[n].boolean||(c[n].boolean=1),++c.Totals.boolean}uo(jt.prototype,l.prototype,{compose:function(){let t=W(arguments);return ao(this.node,this.name,t)}});function pe(t){return!!t||t!=null&&!Number.isNaN(t)}var de=Object.assign,lo=window.CustomEvent,me={bubbles:!0,cancelable:!0};function he(t,e){let n;typeof t=="object"&&(n=de({},me,t),t=n.type,delete n.type),e&&e.detail&&(n?n.detail=e.detail:n=de({detail:e.detail},me));var r=new lo(t,n||me);return e&&(delete e.detail,de(r,e)),r}function fo(t,e){let n;typeof t=="object"&&(n=t,t=n.type,delete n.type);let r=he(t,n);return e.dispatchEvent(r)}var Et=f(fo,!0);var z={changeEvent:"dom-update"};var po=Object.assign,mo=/^\s*$/;function ho(t){return!mo.test(t)}function go(t){return""+t}function yo(t,e,n){let r=typeof e=="boolean"?e:n?t.type==="checkbox"&&e&&e.map?e.map(go).includes(t.value):e+""===t.value:!!e;return r===t.checked?0:(t.checked=r,z.changeEvent&&Et(z.changeEvent,t),1)}function Tt(t,e){l.apply(this,arguments),this.name="checked",this.literally=e.literally||v(C,"data, element",e.source,null,e,this.element),this.hasValue=pe(t.getAttribute("value")),t.removeAttribute("checked");let n="#"+e.template;++c[n].checked||(c[n].checked=1),++c.Totals.checked}po(Tt.prototype,l.prototype,{compose:function(e,n){if(arguments.length!==2||e.find(ho))throw new Error("A checked attribute may contain only one ${ tag }, optionally surrounded by white space");return yo(this.node,n,this.hasValue)}});function ge(t,e,n){if(typeof t=="string"&&!/^#/.test(t))throw new Error("include() external url not yet supported, #fragment identifiers only");let r=new L(typeof t=="string"?t.slice(1):t,n);if(typeof e=="string")return N(e).then(s=>r.push(s)).then(()=>r);let o=w(e);return o&&o.then?o.then(s=>r.push(s)).then(()=>r):r.push(o||{}).then(()=>r)}var ye=Object.assign;function we(t){return!!t.each}function wo(t){t&&t.connect&&t.connect()}function wn(t){t.remove()}function bo(t){t&&t.stop&&t.stop()}function be(t){let e=this;return!t||typeof t!="object"?y("text",S(t)):t instanceof Node||t instanceof L?t:typeof t.length=="number"?new Ot(t):t instanceof Promise?new tt(t,e):we(t)?new At(t):y("text",S(t))}function Ct(t){return t&&typeof t=="object"&&t.content?Ct(t.content):t}function Ot(t){this.id=++R.count,this.contents=t.map(be,this),this.content=y("fragment",""),this.first=y("text",""),this.content.append(this.first),this.content.append.apply(this.content,this.contents.map(Ct))}ye(Ot.prototype,{replaceWith:function(t){this.stop(),this.contents.forEach(wn),this.first.replaceWith.apply(this.first,arguments)},remove:function(){this.contents.forEach(wn),this.first.remove()},stop:function(){this.status!=="done"&&(this.status="done",this.contents.forEach(bo))},connect:function(){this.status!=="dom"&&(this.status="dom",this.contents.forEach(wo))}});function tt(t,e){this.id=++R.count,this.parent=e,this.content=y("text",""),t.then(n=>this.push(n)).catch(n=>this.print(n)).finally(()=>this.stop())}ye(tt.prototype,{push:function(t){this.status!=="done"&&ht(this,arguments)},render:function(t){let e=be(t),n=Ct(e);return this.content.replaceWith(n),this.parent.content=e,this.stop(),this.parent.status==="dom"&&e.connect&&e.connect(),1},replaceWith:function(t){this.content.replaceWith(t)},print:function(){this.content.remove()},remove:function(){this.content.remove()},stop:function(){this.status="done"},connect:function(){this.status="dom"}});function At(t){this.id=++R.count,this.parent=parent,this.content=y("text",""),this.stream=t,t.pipe(this)}ye(At.prototype,tt.prototype,{render:function(t){let e=be.call(this,t),n=Ct(e);return this.content.stop&&this.content.stop(),this.content.replaceWith(n),this.content=e,this.status==="dom"&&e.connect&&e.connect(),1},stop:function(){this.status!=="done"&&(this.status="done",this.stream.stop&&this.stream.stop(),this.content.stop&&this.content.stop())},connect:function(){this.status!=="dom"&&(this.status="dom",this.content.connect&&this.content.connect())}});var vo=Object.assign;function xo(t){let e=this;return!t||typeof t!="object"?S(t):t instanceof Node||t instanceof L?t:typeof t.length=="number"?new Ot(t):t instanceof Promise?new tt(t,e):we(t)?new At(t):S(t)}function jo(t,e,n){let r=t.contents,o=xo.call(t,n);return typeof o=="string"?e+o:(e&&r.push(e),r.push(o),"")}function St(t,e){return t.nodeValue!==e?(t.nodeValue=e,1):0}function bn(t){t&&typeof t=="object"&&t.stop&&t.stop()}function vn(t){return typeof t=="string"?t:t.content?vn(t.content):t}function Eo(t,e,n,r){let o=0,s=n.map(vn);return e.previousSibling!==t&&(o+=yt(t.nextSibling,e.previousSibling)),typeof n[0]=="string"?o+=St(t,s.shift()):o+=St(t,""),typeof s[s.length-1]=="string"?o+=St(e,s.pop()):o+=St(e,""),s.length&&(t.after.apply(t,s),r==="dom"&&n.forEach(i=>typeof i=="object"&&i.connect&&i.connect()),o+=n.length),o}function et(t,e,n){l.apply(this,arguments),this.first=t,this.last=document.createTextNode(""),this.first.after(this.last),this.contents=[],this.literally=e.literally||v(C,"data, element, include",e.source,null,e,n),this.include=f((o,s)=>ge(o,s,n));let r="#"+e.template;++c[r].text||(c[r].text=1),++c.Totals.text}vo(et.prototype,l.prototype,{push:function(){return this.contents.forEach(bn),this.contents.length=0,l.prototype.push.apply(this,arguments)},render:function(t){return this.contents.forEach(bn),this.contents.length=0,l.prototype.render.call(this,t,this.element,this.include)},compose:function(t){let e=-1,n="";for(;t[++e]!==void 0;)n=jo(this,n+t[e],arguments[e+1]);return n&&this.contents.push(n),Eo(this.first,this.last,this.contents,this.status)}});var To=Object.assign,Co=[],Oo=m((t,e)=>e,{class:t=>t.classList});function Ao(t){return t&&typeof t=="object"&&t.length!==void 0?t.join(" "):S(t)}function So(t){let[e]=t;for(var n="",r=-1,o;e[++r]!==void 0;)e[r]&&(n+=" "+e[r]),o=t[r+1],o!==void 0&&o!==""&&(n+=" "+Ao(o));return n}function Lo(t,e,n,r){let o=e.length;for(;o--;)t.contains(e[o])&&e.splice(o,1);return e.length&&(t.remove.apply(t,e),++r),t.add.apply(t,n),++r}function Lt(t,e){l.apply(this,arguments),this.name=e.name,this.tokens=Oo(t,e.name),this.cached=Co,this.literally=e.literally||v(C,"data, element",e.source,null,e,t),t.setAttribute(this.name,"");let n="#"+e.template;++c[n].class||(c[n].class=1),++c.Totals.class}To(Lt.prototype,l.prototype,{compose:function(){let e=So(arguments).trim().split(/\s+/),n=Lo(this.tokens,this.cached,e,0);return this.cached=e,n}});var xn=Object.assign,jn=/^\s*$/,No={number:"number",range:"number"};function En(t,e){return t===void 0?e:t+e}function Do(t){let e=t[0],n=jn.test(e[0])?void 0:e[0],r=0;for(;e[++r]!==void 0;)n=En(n,t[r]),jn.test(e[r])||(n=En(n,e[r]));return n}function Ro(t,e){if(e===null)throw new Error("VALUE");return t.value=e,1}function Tn(t,e){if(document.activeElement===t)return 0;let n=No[t.type];if(e=n===void 0||typeof e===n?e:null,e===t.value||e+""===t.value)return 0;let r=Ro(t,e);return z.changeEvent&&Et(z.changeEvent,t),r}function Nt(t,e){l.apply(this,arguments),this.name="value",this.literally=e.literally||v(C,"data, element",e.source,null,e,t);let n="#"+e.template;++c[n].value||(c[n].value=1),++c.Totals.value}xn(Nt.prototype,l.prototype,{compose:function(){let t=Do(arguments);return Tn(this.node,t)}});function ve(t,e){l.apply(this,arguments),this.name="value",this.literally=e.literally||v(C,"data, element",e.source,null,e,t);let n="#"+e.template;++c[n].value||(c[n].value=1)}xn(ve.prototype,l.prototype,{compose:function(){let t=W(arguments);return Tn(this.node,t)}});var Cn=document.createElement("textarea");function Dt(t){return Cn.innerHTML=t,Cn.value}var Po=Array.prototype,xe=/\$\{/;function I(t,e,n,r,o,s){!r||!xe.test(r)||(s.source=r,s.name=o,t.push(new e(n,s)))}function On(t,e,n,r){I(t,xt,n,r.value,r.localName,e)}function je(t,e,n,r){I(t,jt,n,r.value,r.localName,e)}function ko(t,e,n,r){I(t,Lt,n,r.value,r.localName,e)}function Bo(t,e,n,r){I(t,Nt,n,r.value,"value",e)}function Ee(t,e,n,r){I(t,ve,n,r.value,"value",e)}var Mo=m((t,e,n,r)=>r.localName,{checked:function(e,n,r,o){I(e,Tt,r,o.value,"checked",n)},class:ko,datetime:function(e,n,r,o){},disabled:je,hidden:je,"inner-content":function(t,e,n,r){let o=r.value;!o||!xe.test(o)||(n.removeAttribute(r.localName),e.source=Dt(o),e.name="innerHTML",t.push(new et(n,e,parent)))},required:je,value:m((t,e,n,r)=>""+n.type,{text:Ee,search:Ee,"select-one":Ee,default:Bo,undefined:On}),default:On});function qo(t,e,n){let r=Po.slice.apply(n.attributes);for(var o=-1,s;s=r[++o];)Mo(t,e,n,s)}function An(t,e,n,r){let o=n.childNodes;if(o){let s=e.path,i=-1;for(;o[++i];)e.path=s?s+"."+i:""+i,Ln(t,e,o[i],r);e.path=s}return t}var Sn=m((t,e,n)=>n.tagName.toLowerCase(),{defs:p,default:(t,e,n)=>(An(t,e,n,n),qo(t,e,n),t)}),Ln=m((t,e,n)=>Ut(n),{comment:p,element:Sn,fragment:An,text:(t,e,n,r)=>{let o=n.nodeValue;return o&&xe.test(o)&&(e.source=Dt(o),e.name=null,t.push(new et(n,e,r))),t},doctype:p,document:(t,e,n)=>(Sn(t,e,n.documentElement),t),default:()=>{throw new Error("Node not compileable")}}),Nn=Ln;var Fo=Object.assign,Rt={};function Go(t,e){return/^[a-zA-Z]/.test(e)?t:t.childNodes[e]}function Ho(t,e){let n=t&&t.split(/\./);return t?n.reduce(Go,e):e}function Dn(t){if(!st(t))return!1;let e=t.nodeValue;return/^\s*/.exec(e)[0].length===e.length}function Uo(t){let e=t.childNodes[0],n=t.childNodes[t.childNodes.length-1];Dn(e)||t.prepend(document.createTextNode("")),Dn(n)||t.append(document.createTextNode(""))}function _o(t){let e=Ho(t.path,this.content),n=st(e)?/\./.test(t.path)?e.parentNode:this.element:e;return new t.constructor(e,t,n)}function L(t,e){let n=typeof t=="string"?t:Ht(t);if(this.id=++R.count,this.element=e,Rt[n]){let r=Rt[n].template;this.template=r,this.content=r.content?r.content.cloneNode(!0):r.cloneNode(!0),this.first=this.content.childNodes[0],this.last=this.content.childNodes[this.content.childNodes.length-1],this.contents=Rt[n].contents.map(_o,this),++c["#"+n].template,++c.Totals.template;return}t=typeof t=="string"?document.getElementById(t[0]==="#"?t.slice(1):t):t,t.content&&Uo(t.content),this.template=t;try{this.content=t.content?t.content.cloneNode(!0):t.cloneNode(!0)}catch(r){throw console.log(t,t.content),r}this.first=this.content.childNodes[0],this.last=this.content.childNodes[this.content.childNodes.length-1],c["#"+n]={template:1},++c.Totals.template,this.contents=Nn([],{template:n,path:""},this.content,e),Rt[n]=this}Fo(L.prototype,l.prototype,{push:function(t){let e=t?w(t):null;return e===this.data?Promise.reject("Attempt to render with same object as last render"):(this.data=e,l.prototype.push.apply(this,arguments))},render:function(t){if(!t){let s=[],i=this.first;for(;i!==this.last;)i=i.nextSibling,s.push(i);return this.content.append.apply(this.content,s),s.length}let e=w(t),n=A(e),r=this.contents;var o=0;return r.forEach(s=>o+=s.render(n)),this.content.firstChild&&this.first!==this.content.firstChild&&(this.first.after(this.content),++o),o},remove:function(){return yt(this.first,this.last)},replaceWith:function(){return this.first.before.apply(this.first,arguments),this.remove()},stop:function(){return gt(this),bt(this,"stop","done"),this}});var Vo=/^\/|\.|^https?:\/\//;function $o(t){try{return JSON.parse(t)}catch(e){return t}}function Wo(t){return Vo.test(t)?N(t):$o(t)}function zo(t,e){let n={},r=t.length;for(;r--;)n[t[r]]=e[r];return n}var Io=(t,e)=>{throw T.loading=!1,T.frame?cancelAnimationFrame(T.frame):T.removeAttribute("loading"),t};T("<include-literal>",{construct:function(){let t=Object.keys(this.dataset),e=Object.values(this.dataset),n=t.length?Promise.all(e.map(Wo)).then(r=>zo(t,r)):new Promise((r,o)=>{this.resolveData=r,this.rejectData=o});this.promise=new Promise((r,o)=>{this.resolveSrc=r,this.rejectSrc=o}).then(r=>(this.renderer=new L(r,this.parentElement),n)).catch(r=>Io(r,this))},connect:function(){this.loading&&(this.frame=requestAnimationFrame(()=>this.loading&&(this.frame=requestAnimationFrame(()=>this.loading&&this.setAttribute("loading",""))))),this.promise.then(t=>{this.loading=!1,this.renderer.element=this.parentElement,this.renderer.render(t),this.replaceWith(this.renderer.content),this.renderer.connect()}),this.resolveData&&this.resolveData({})}},{data:{attribute:function(t){this.data=t},get:function(){if(this.renderer)return this.renderer.data},set:function(t){if(this.renderer){t?typeof t=="string"?N(t).then(e=>this.renderer.push(e)):this.renderer.push(t):this.renderer.push(null);return}if(!this.resolveData)throw new Error("<include-literal> may possess either data-* attributes or a single data attribute, not both");if(t)typeof t=="string"?(this.loading=!0,this.request=N(t),this.resolveData(this.request)):this.resolveData(t);else return}},loading:{value:!1,writable:!0},src:{attribute:function(t){if(!t)return this.rejectSrc(new Error('<include-literal> source src="'+t+'" is empty'));if(!/^#/.test(t)){this.loading=!0,U(t).then(r=>this.resolveSrc(y("fragment",r)));return}let e=t.replace(/^#/,""),n=document.getElementById(e);if(!n){this.rejectSrc(new Error('<include-literal> src template "'+t+'" not found'));return}this.resolveSrc(n)}}});var Rn={renderers:c};var Xo=Object.assign,Jo=/\s+/,Pn=0;window.addEventListener("click",t=>Pn=t.timeStamp);function Ko(t,e){return t.node.addEventListener(e,t,t.options),t}function Yo(t,e){return t.node.removeEventListener(e,t),t}function kn(t,e,n,r){this.controller=t,this.types=e.split(Jo),this.options=n,this.node=r,this.select=n&&n.select,this.types.reduce(Ko,this)}Xo(kn.prototype,{stop:function(){this.types.reduce(Yo,this)},handleEvent:function(t){if(!(t.type==="click"&&t.timeStamp<=Pn)){if(this.select){let e=t.target.closest(this.select);if(!e)return;t.selectedTarget=e}this.controller.push(t)}}});function Te(t,e){let n;return typeof t=="object"&&(n=t,t=n.type),new a(r=>r.done(new kn(r,t,n,e)))}function Ce(t){if(t.toArray)return t.toArray();var e=[],n=t.length,r;if(typeof t.length!="number")return e;for(e.length=n,r=0;r<n;r++)e[r]=t[r];return e}function Qo(t,e){return Ce(e.querySelectorAll(t))}var Bn=f(Qo,!0);function Oe(t){if(!/^#/.test(t))return U(t).then(r=>y("fragment",r));if(t.length<2)throw new Error("hash identifier empty "+t);let e=t.slice(1),n=document.getElementById(e);if(!n)throw new Error("template not found "+t);return n.content?n.content.cloneNode(!0):y("fragment",n.cloneNode(!0).childNodes)}Y("events",Te);Y("select",Bn);Y("request",N);Y("includeHTML",Oe);function Mn(t){return new TemplateRenderer(t)}Mn.stats=Rn;export{A as Observer,Rn as analytics,dt as compiled,Mn as default,te as observe,Y as register};
//# sourceMappingURL=module.js.map
