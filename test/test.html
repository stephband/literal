<head>
    <meta charset="utf-8" />
    <meta name="author" content="Stephen" />
    <meta name="description" content="Documentation for Literal. Literal puts JS into your HTML. Literal defines a custom include element that parses and renders templates written as JS Literals, in a small library under 15kB minified and gzipped." />
    <meta name="viewport" content="width=device-width" />

    <link rel="stylesheet" href="../literal-include/module.css" />

    <script>
        window.DEBUG = true;
    </script>

    <style>
        .block {
            display: block;
        }

        [data-before]::before {
            content: attr(data-before);
        }

        .class-before::before {
            content: attr(class);
        }

        :not(:checked) + .unchecked-before::before {
            content: '✔ Input is unchecked'
        }

        :checked + .checked-before::before {
            content: '✔ Input is checked'
        }
    </style>

    <template id="test">
        <pre>${ data.one === 'One' ? '✔' : '' } ${ data.one }
${ data.two === 'Two' ? '✔' : '' } ${ data.two }
${ data.three === 'Three' ? '✔' : '' } ${ data.three }</pre>
    </template>
</head>

<body>
    <section>
        <h3 class="text-03">Data <span class="test-count">(5 tests)</span></h3>
        <template is="literal-html" src="./test.json">${ include("#test", data) }</template>
        <hr/>
        <template is="literal-html" data-one="One" data-two="Two" data-three="Three">${ include("#test", data) }</template>
        <hr/>
        <template is="literal-html" data-one="./test.json" data-two="./test.json">${ include("#test", data) }</template>
        <hr/>
        <template is="literal-html" src="./test/test-bad.json">${ include("#test", data) }</template>
        <hr/>
        <template is="literal-html" id="data-later">${ include("#test", data) }</template>
    </section>

    <section>
        <h3 class="text-03">Values <span class="test-count">(1 test)</span></h3>

        <template is="literal-html" data="{}">
            <p>This is how various types are rendered in a <code>&lt;template&gt;</code>:</p>
            <dl style="display: grid; grid-template-columns: min-content 1fr; text-align: left;">
                <dt>Array</dt>     <dd>${ [0, 1, 2, 3] }</dd>
                <dt>Boolean</dt>   <dd>${ true }, ${ false }</dd>
                <dt>Function</dt>  <dd>${ function fn(param) {} }</dd>
                <dt>arrow</dt>     <dd>${ (param) => {} }</dd>
                <dt>Number</dt>    <dd>${ 123.45 }</dd>
                <dt>Infinity</dt>  <dd>${ Infinity }, ${ -Infinity }</dd>
                <dt>Object</dt>    <dd>${ { property: 'hello' } }</dd>
                <dt>String</dt>    <dd>${ 'hello' }</dd>
                <dt>Symbol</dt>    <dd>${ Symbol('symbol') }</dd>
                <dt>undefined</dt> <dd>${ undefined }</dd>
                <dt>NaN</dt>       <dd>${ NaN }</dd>
                <dt>null</dt>      <dd>${ null }</dd>
            </dl>

            <p>Boolean attributes:</p>
            <p hidden="${ true }">❌ This paragraph has <code>hidden</code></p>
            <p hidden="${ false }">✓ This paragraph does not have <code>hidden</code></p>

            <p>Class attributes (TokenLists):</p>
            <p class="${ 'blue-fg' }">This paragraph has <code>class="blue-fg"</code>.</p>

            <p>Style attributes:</p>
            <p style="color: ${ 'blue' };">This paragraph has <code>style="color: blue;"</code>.</p>

            <p>Text attributes:</p>
            <p title="${ '✓ title attribute has literal content' }">This paragraph has a <code>title</code> attribute.</p>

            <p>Data attributes:</p>
            <p data-thing="${ '✓ data-thing attribute has literal content' }">This paragraph has a <code>data-thing</code> attribute.</p>

            <p>Value property:</p>
            <input type="text" value="${ 'hello' }" />
            <input type="number" value="  ${ 5 } " />
        </template>

        <hr/>

        <template is="literal-html" data="{}">${
            '✔ No space for text'
        }</template>

        <template is="literal-html" data="{}"
            ><p>${ '✔ No space for text' }</p
        ></template>
    </section>

    <hr/>

    <section title="Binding">
        <h3 class="text-03">Live binding <span class="test-count">(4 tests)</span></h3>

        <template is="literal-html" src="./test-clock.js">
            <p>Time since load: ${ parseInt(data.time, 10) }</p>
        </template>

        <hr/>

        <template id="even-template">
            <p>${ parseInt(data.time, 10) } - even - ${ function() {
                    if (!element) { throw new Error('ARSE') }
                }(), !!element }</p>
        </template>

        <template id="odd-template">
            <p>${ parseInt(data.time, 10) } - odd - ${ !!element }</p>
        </template>

        <template is="literal-html" src="./test-clock.js">
            ${ include(parseInt(data.time, 10) % 2 === 0 ? '#even-template' : '#odd-template', data) }
        </template>

        <hr/>

        <template is="literal-html" src="./test-clock.js">
            <label class="block">Number</label>
            <input type="number" value="${ parseInt(data.time, 10) }" />

            <label class="block">Range</label>
            <input type="range" min="0" max="9" value="${ parseInt(data.time, 10) }" />

            <label class="block">Checked on odd</label>
            <input type="checkbox" checked="${ parseInt(data.time, 10) % 2 }" />

            <label class="block">Checked on 1</label>
            <input type="checkbox" checked="${ parseInt(data.time, 10) === 1 }" value="1" />

            <label class="block">Checked when equal to 0-9</label>
            <input type="radio" name="clock-radio" checked="${ parseInt(data.time, 10) === 0 }" value="0" />
            <input type="radio" name="clock-radio" checked="${ parseInt(data.time, 10) === 1 }" value="1" />
            <input type="radio" name="clock-radio" checked="${ parseInt(data.time, 10) === 2 }" value="2" />
            <input type="radio" name="clock-radio" checked="${ parseInt(data.time, 10) === 3 }" value="3" />
            <input type="radio" name="clock-radio" checked="${ parseInt(data.time, 10) === 4 }" value="4" />
            <input type="radio" name="clock-radio" checked="${ parseInt(data.time, 10) === 5 }" value="5" />
            <input type="radio" name="clock-radio" checked="${ parseInt(data.time, 10) === 6 }" value="6" />
            <input type="radio" name="clock-radio" checked="${ parseInt(data.time, 10) === 7 }" value="7" />
            <input type="radio" name="clock-radio" checked="${ parseInt(data.time, 10) === 8 }" value="8" />
            <input type="radio" name="clock-radio" checked="${ parseInt(data.time, 10) === 9 }" value="9" />

            <label class="block">Selected when equal to value 0-9</label>
            <select value="${ parseInt(data.time, 10) }">
                <option value="0">Zero</option>
                <option value="1">One</option>
                <option value="2">Two</option>
                <option value="3">Three</option>
                <option value="4">Four</option>
                <option value="5">Five</option>
                <option value="6">Six</option>
                <option value="7">Seven</option>
                <option value="8">Eight</option>
                <option value="9">Nine</option>
            </select>
        </template>
    </section>

    <hr/>

    <script type="module">
    import '../literal-html/module.js';
    </script>
</body>
