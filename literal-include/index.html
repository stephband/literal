<!DOCTYPE html>
<!-- Literal template "/Users/stephband/Sites/literal/literal-include/index.html.literal" -->

<html lang="en">
<head>
    <title>Literal</title>

<meta charset="utf-8" />
<meta name="author" content="Stephen Band" />
<meta name="description" content="Literal enhances HTML templates with JS literal expressions for data binding, and provides a declarative way of creating custom elements, all in a small library weighing in at 15kB minified and gzipped." />
<meta name="viewport" content="width=device-width" />


<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@stephband">
<meta property="og:title" content="Literal" />
<meta property="og:description" content="Literal enhances HTML templates with JS literal expressions for data binding, and provides a declarative way of creating custom elements, all in a small library weighing in at 15kB minified and gzipped." />
<meta property="og:image" content="undefined" />
<meta property="og:url" content="https://stephen.band/literal" />




<script title="load">
    document.documentElement.className += ' js loading';
    // window.addEventListener('DOMContentLoaded', () => document.documentElement.classList.remove('content-loading'));
    // Wait for other load handlers to run first - Bolt does a few things on
    // load (eg. targetable scrolls) and we want them to run before the loading
    // class is removed
    window.addEventListener('load', () => window.requestAnimationFrame(() => document.documentElement.classList.remove('loading')));
</script>


<script title="debug">
    window.DEBUG = true;
    window.detailsToggleStylesheet = 'https://stephen.band/literal/documentation/build/details-toggle/shadow.css';
</script>

<link rel="stylesheet" href="https://stephen.band/literal/documentation/build/module.css">
<link rel="preload" as="style" href="https://stephen.band/literal/documentation/build/details-toggle/shadow.css">


    <link rel="stylesheet" href="./module.css" />
</head>

<body class="4x-grid @1-6x-grid @2-7x-grid @3-9x-grid grid">
    

<header class="x1 4x @2-x2 x-stretch">
    <h1 class="text-02 no-wrap" id="literal-include">&lt;literal-include&gt;</h1>
</header>

<section class="x1 4x @2-x2 x-stretch y-start documentation-block block">
    <p>A <code>literal-include</code> may be placed pretty much anywhere in your HTML, enabling
the insertion of chunks of dynamic, JS-rendered DOM wherever you like in a
document.</p>
<p>A <code>literal-include</code> finds a source template identified by its <code>src</code> attribute,
fetches JSON or imports a module referred to by its <code>data</code> attribute, renders
attributes and text found to contain literal tags, then replaces itself with
the rendered result.</p>
<p>A <code>literal-include</code> may contain fallback content, in case any of that fails.</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>greetings<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    Hello ${ data.name }.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>literal-include</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#greetings<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/users/1.json<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    Hello you!
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>literal-include</span><span class="token punctuation">></span></span>
</code></pre>
<p>Multiple <code>data-</code> attributes may be declared, their values become properties of
the <code>data</code> object inside the template:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>literal-include</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#add-to-collections-thumb<span class="token punctuation">"</span></span> <span class="token attr-name">data-pk</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>34<span class="token punctuation">"</span></span> <span class="token attr-name">...</span> <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>literal-include</span><span class="token punctuation">></span></span>
</code></pre>
<p>Or a single <code>data</code> attribute can be used to pass JSON to use as the <code>data</code>
object inside the template:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>literal-include</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#add-to-collections-thumb<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>{<span class="token punctuation">"</span>pk<span class="token punctuation">"</span>:34, ... }<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>literal-include</span><span class="token punctuation">></span></span>
</code></pre>
<p>Both <code>data</code> and <code>data-</code> attributes also accept URLs. A URL is used to fetch a
.json file…</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>literal-include</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#greetings<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/users/1.json<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>literal-include</span><span class="token punctuation">></span></span>
</code></pre>
<p>…or import the default export of a .js module:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>literal-include</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#greetings<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/user-module.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>literal-include</span><span class="token punctuation">></span></span>
</code></pre>

</section>


<section class="x1 4x @2-x2 x-stretch y-start">
    
    <h2 class="text-03">Attributes</h2>
    

<details-toggle class="attribute-details-toggle" id="attribute-data-1">
    <h4 class="attribute-text text-05" slot="summary">
        <code class="token language-html">data</code>
    </h4>

    <p>A path to a JSON file or JS module exporting data to be rendered.</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>literal-include</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#template<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./data.json<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>literal-include</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>literal-include</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#template<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./module.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>literal-include</span><span class="token punctuation">></span></span>
</code></pre>
<p>Named exports are supported via the path hash:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>literal-include</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#template<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./module.js#namedExport<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>literal-include</span><span class="token punctuation">></span></span>
</code></pre>
<p>Paths may be rewritten. This helps when JS modules are bundled into a single
module for production.</p>
<pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> urls <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../documentation/templates/literal.js'</span><span class="token punctuation">;</span>

<span class="token function">urls</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">'../documentation/templates/path/to/module.js'</span><span class="token operator">:</span> <span class="token string">'../documentation/templates/path/to/production/bundle.js#namedExport'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>The <code>data</code> attribute also accepts raw JSON:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>literal-include</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#template<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>{<span class="token punctuation">"</span>property<span class="token punctuation">"</span>: <span class="token punctuation">"</span>value<span class="token punctuation">"</span>}<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>literal-include</span><span class="token punctuation">></span></span>
</code></pre>

</details-toggle>



<details-toggle class="attribute-details-toggle" id="attribute-src-1">
    <h4 class="attribute-text text-05" slot="summary">
        <code class="token language-html">src</code>
    </h4>

    <p>Define a source template whose rendered content replaces this
<code>&lt;literal-include&gt;</code>. This is a required attribute and must be in
the form of a fragment identifier pointing to a <code>template</code> element
in the DOM.</p>

</details-toggle>


</section>


    <div class="x1 4x @2-x2 x-stretch y-start">
        <h2>Literal templates</h2>

        <ul>
            <li><a href="../templates#template-scope">Helper functions in the template scope</a></li>
            <li><a href="../templates#template-expressions">How template expressions render to the DOM</a></li>
        </ul>
    </div>

    
<nav>
    <details-toggle class="nav-details-toggle">
        <button slot="summary" class="nav-thumb thumb">
            <span class="open-hidden">Show</span><span class="closed-hidden">Hide</span> navigation
            <svg viewbox="0 0 18 18">
                <line class="stroke" x1="4.5" x2="13.5" y1="6"  y2="6"  />
                <line class="stroke" x1="4.5" x2="13.5" y1="9"  y2="9"  />
                <line class="stroke" x1="4.5" x2="13.5" y1="12" y2="12" />
            <svg>
        </button>
        <a class=" nav-button button block" href="/literal/">
    Literal
    <template is="literal-html">
        ${ Stream
            .merge(events('dom-navigate', window), {})
            .map((e) => (
                window.location.pathname === element.pathname
                && window.location.hash === element.hash
            ))
            .reduce((previous, t) => {
                console.log(t);
                if (t === previous) {
                    return t;
                }
                else if (t) {
                    element.classList.add('located');
                }
                else {
                    element.classList.remove('located');
                }

                return t;
           }, false), ''
       }
    </template>
</a>
<a class="l1-nav-button nav-button button block" href="/literal/literal-html/">
    <code>literal-html</code>
    <template is="literal-html">
        ${ Stream
            .merge(events('dom-navigate', window), {})
            .map((e) => (
                window.location.pathname === element.pathname
                && window.location.hash === element.hash
            ))
            .reduce((previous, t) => {
                console.log(t);
                if (t === previous) {
                    return t;
                }
                else if (t) {
                    element.classList.add('located');
                }
                else {
                    element.classList.remove('located');
                }

                return t;
           }, false), ''
       }
    </template>
</a>

<a class="l1-nav-button nav-button button block" href="/literal/literal-element/">
    <code>literal-element</code>
    <template is="literal-html">
        ${ Stream
            .merge(events('dom-navigate', window), {})
            .map((e) => (
                window.location.pathname === element.pathname
                && window.location.hash === element.hash
            ))
            .reduce((previous, t) => {
                console.log(t);
                if (t === previous) {
                    return t;
                }
                else if (t) {
                    element.classList.add('located');
                }
                else {
                    element.classList.remove('located');
                }

                return t;
           }, false), ''
       }
    </template>
</a>

<a class="l1-nav-button nav-button button block" href="/literal/templates/">
    Templates
    <template is="literal-html">
        ${ Stream
            .merge(events('dom-navigate', window), {})
            .map((e) => (
                window.location.pathname === element.pathname
                && window.location.hash === element.hash
            ))
            .reduce((previous, t) => {
                console.log(t);
                if (t === previous) {
                    return t;
                }
                else if (t) {
                    element.classList.add('located');
                }
                else {
                    element.classList.remove('located');
                }

                return t;
           }, false), ''
       }
    </template>
</a>

<a class="l1-nav-button nav-button button block" href="/literal/templates/#template-scope">
    Template scope
    <template is="literal-html">
        ${ Stream
            .merge(events('dom-navigate', window), {})
            .map((e) => (
                window.location.pathname === element.pathname
                && window.location.hash === element.hash
            ))
            .reduce((previous, t) => {
                console.log(t);
                if (t === previous) {
                    return t;
                }
                else if (t) {
                    element.classList.add('located');
                }
                else {
                    element.classList.remove('located');
                }

                return t;
           }, false), ''
       }
    </template>
</a>

<a class="l1-nav-button nav-button button block" href="/literal/templates/#template-expressions">
    Template expressions
    <template is="literal-html">
        ${ Stream
            .merge(events('dom-navigate', window), {})
            .map((e) => (
                window.location.pathname === element.pathname
                && window.location.hash === element.hash
            ))
            .reduce((previous, t) => {
                console.log(t);
                if (t === previous) {
                    return t;
                }
                else if (t) {
                    element.classList.add('located');
                }
                else {
                    element.classList.remove('located');
                }

                return t;
           }, false), ''
       }
    </template>
</a>



    </details-toggle>
</nav>

    
<hr class="x1 4x @2-x2 x-stretch" />

<div class="x1 4x @2-x2 x-stretch y-start">
    <p class="text-10">
    Built by <a href="http://stephen.band/">Stephen Band</a> for
    <a href="https://cruncher.ch"><img style="width: 1.366666667em; display: inline-block; vertical-align: bottom; margin-top: -0.1em; margin-bottom: -0.1em;" src="https://cruncher.ch/static/images/logo.svg" alt="Cruncher logo"/> Cruncher</a>.
    </p>

    <p class="text-10">
    Documentation set in <a href="https://www.swisstypefaces.com/fonts/euclid/">Euclid</a>
    and <a href="https://github.com/evilmartians/mono">Martian Mono</a>. Fonts
    used for documentation not included as part of the license covering the
    use of <code>Literal</code>.
    </p>
</div>

    
<footer class="x1 4x @1-6x @2-7x @3-9x 4x-grid @1-6x-grid @2-7x-grid @3-9x-grid grid grid footer">
    <div class="x1 4x @1-2x @2-x2 x-stretch y-start">
        <h3>Elements</h3>
        <a class="block" href="https://stephen.band/slide-show/"><code>&lt;slide-show&gt;</code></a>
        <a class="block" href="https://stephen.band/details-toggle/"><code>&lt;details-toggle&gt;</code></a>
        <a class="block" href="https://stephen.band/form-elements/rotary-input/"><code>&lt;rotary-input&gt;</code></a>
        <a class="block" href="https://stephen.band/form-elements/range-input/"><code>&lt;range-input&gt;</code></a>
        <a class="block" href="https://stephen.band/form-elements/y-input/"><code>&lt;y-input&gt;</code></a>
        <a class="block" href="https://stephen.band/form-elements/xy-input/"><code>&lt;xy-input&gt;</code></a>
        <a class="block" href="https://stephen.band/form-elements/number-control/"><code>&lt;number-control&gt;</code></a>
        <a class="block" href="https://stephen.band/form-elements/select-control/"><code>&lt;select-control&gt;</code></a>
        <a class="block" href="https://stephen.band/literal/literal-element/"><code>&lt;literal-element&gt;</code></a>
        <a class="block" href="https://stephen.band/literal/literal-html/"><code>&lt;literal-html&gt;</code></a>
    </div>

    <div class="x1 4x @1-2x @1-x3 @2-x4 x-stretch y-start">
        <h3>Tools</h3>
        <a class="block" href="https://stephen.band/font-size/">Font-size calculator</a>
        <a class="block" href="https://stephen.band/harmony-circle/">Harmonic circle</a>
    </div>
</footer>

    <script type="module" src="https://stephen.band/literal/documentation/build/module.js"></script>


    <script type="module">
        import './module.js';
    </script>
</body>
</html>
